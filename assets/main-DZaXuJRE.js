const Fc={$tag:0},Ts={$tag:1},Js={$tag:2};function Mn(t,e){this._0=t,this._1=e}Mn.prototype.$tag=3;function q(t){this._0=t}q.prototype.$tag=4;function Lt(t){this._0=t}Lt.prototype.$tag=5;function j(t){this._0=t}j.prototype.$tag=6;const St={hi:0,lo:1},$t={hi:0,lo:0},Nc={hi:232830643,lo:-1486618624},Mt={hi:0,lo:10},Dc={hi:0,lo:100},Uc={hi:0,lo:1e3},Vc={hi:0,lo:1e4},Wc={hi:0,lo:1e5},Xc={hi:0,lo:1e6},Yc={hi:0,lo:1e7},Kc={hi:0,lo:1e8},Qc={hi:0,lo:1e9},Zc={hi:2,lo:1410065408},ti={hi:23,lo:1215752192},ei={hi:232,lo:-727379968},ni={hi:2328,lo:1316134912},oi={hi:23283,lo:276447232},$i={hi:232830,lo:-1530494976},si={hi:0,lo:22},_i={hi:0,lo:37},ci={hi:-1,lo:-22},Bs={hi:-1,lo:-1};function J(t){this._0=t}J.prototype.$tag=0;function at(t){this._0=t}at.prototype.$tag=1;const ii={hi:-1048576,lo:0},ri={hi:2146959360,lo:1},ai={hi:2146435072,lo:0},Hs={hi:0,lo:2};class ui extends Error{}function y(){throw new ui}function d(t,e){if(e<0||e>=t.length)throw new Error("Index out of bounds")}const li=()=>{var t;if((t=globalThis.crypto)!=null&&t.getRandomValues){const e=new Uint32Array(1);return globalThis.crypto.getRandomValues(e),e[0]|0}else return Math.floor(Math.random()*4294967296)|0},pi=(t,e)=>t.toString(e);function mi(t,e){return new Uint8Array(t)}function K(t,e){const n=new Array(t);return n.fill(e),n}const di=t=>(t.hi>>>0)*4294967296+(t.lo>>>0),fi=function t(e){let n=t._view;return n===void 0&&(n=t._view=new DataView(new ArrayBuffer(8))),n.setUint32(0,e.hi),n.setUint32(4,e.lo),n.getFloat64(0)},bi={hi:2146435071,lo:-1},gi={hi:-1048577,lo:-1},Gt=(t,e)=>{t.push(e)},h$=function t(){return t._exports?t._exports:t._exports=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports},hi=(t,e)=>{const n=t.hi,$=e.hi;if(n<$)return-1;if(n>$)return 1;const o=t.lo>>>0,s=e.lo>>>0;return o<s?-1:o>s?1:0},ki=(t,e)=>{const n=t.hi>>>0,$=e.hi>>>0;if(n<$)return-1;if(n>$)return 1;const o=t.lo>>>0,s=e.lo>>>0;return o<s?-1:o>s?1:0},wi=t=>t.hi*4294967296+(t.lo>>>0),yi=t=>t.pop(),Fs=(t,e,n)=>t.splice(e,n),Mi=t=>t.slice(0);function ho(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}function Si(t){return t>>>=0,t===0?32:(t&=-t,31-Math.clz32(t))}const Do={hi:0,lo:-1};function Ee(t,e,n){this._0=t,this._1=e,this._2=n}Ee.prototype.$tag=0;function ke(t,e,n){this._0=t,this._1=e,this._2=n}ke.prototype.$tag=1;function Ke(t){this._0=t}Ke.prototype.$tag=2;const We={$tag:0};function pn(t,e){this._0=t,this._1=e}pn.prototype.$tag=1;function ko(t){this._0=t}ko.prototype.$tag=0;function se(t){this._0=t}se.prototype.$tag=1;function pe(t){this._0=t}pe.prototype.$tag=5;function Sn(t,e){this._0=t,this._1=e}Sn.prototype.$tag=4;const qt={$tag:3},Ns={$tag:0};function wo(t){this._0=t}wo.prototype.$tag=0;function k$(t){this._0=t}k$.prototype.$tag=1;function Cn(t){this._0=t}Cn.prototype.$tag=0;function Bt(t){this._0=t}Bt.prototype.$tag=1;function Se(t){this._0=t}Se.prototype.$tag=0;function ut(t){this._0=t}ut.prototype.$tag=1;function yo(t){this._0=t}yo.prototype.$tag=0;function w$(t){this._0=t}w$.prototype.$tag=1;const Ci={hi:2097151,lo:-1},xi={hi:-2097152,lo:1};function y$(t){this._0=t}y$.prototype.$tag=0;function we(t){this._0=t}we.prototype.$tag=1;function Ds(t){this._0=t}Ds.prototype.$tag=0;function Us(t){this._0=t}Us.prototype.$tag=1;function e$(t){this._0=t}e$.prototype.$tag=0;function Vs(t){this._0=t}Vs.prototype.$tag=1;const Ii={$tag:0},vi={$tag:1},Li={$tag:2};function an(t,e){this._0=t,this._1=e}an.prototype.$tag=3;function Mo(t){this._0=t}Mo.prototype.$tag=4;const Pi={$tag:5},Ws={$tag:6},Gi={$tag:7},Xs={$tag:8},Ys={$tag:9};function Ks(t,e){this._0=t,this._1=e}Ks.prototype.$tag=0;function Qs(t,e){this._0=t,this._1=e}Qs.prototype.$tag=1;const ji={$tag:0};function Zs(t){this._0=t}Zs.prototype.$tag=1;const Oi=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,49,50,51,52,53,54]);function un(t){this._0=t}un.prototype.$tag=1;function t_(t){this._0=t}t_.prototype.$tag=0;function e_(t){this._0=t}e_.prototype.$tag=0;function n_(t){this._0=t}n_.prototype.$tag=1;function o_(t){this._0=t}o_.prototype.$tag=0;function Le(t){this._0=t}Le.prototype.$tag=1;function $_(t){this._0=t}$_.prototype.$tag=0;function s_(t){this._0=t}s_.prototype.$tag=0;function __(t){this._0=t}__.prototype.$tag=1;const Uo={hi:2147483647,lo:-1},Y$={hi:0,lo:16},Vo={hi:-2147483648,lo:0},Ai={hi:0,lo:65536},Wo={$tag:0};function c_(t){this._0=t}c_.prototype.$tag=1;function qe(t){this._0=t}qe.prototype.$tag=0;function ze(t){this._0=t}ze.prototype.$tag=1;function Qe(t){this._0=t}Qe.prototype.$tag=2;function en(t){this._0=t}en.prototype.$tag=0;function Xe(t){this._0=t}Xe.prototype.$tag=1;function n$(t){this._0=t}n$.prototype.$tag=2;function So(t){this._0=t}So.prototype.$tag=3;const Ze={$tag:4},Ei=Fc,qi={_0:160,_1:160},zi={_0:5760,_1:5760},Ri={_0:8192,_1:8202},Ti={_0:8232,_1:8233},Ji={_0:8239,_1:8239},Bi={_0:8287,_1:8287},Hi={_0:12288,_1:12288},Fi={_0:65279,_1:65279},K$=".",Q$="e",Z$="E",i_="value out of range",nn="invalid syntax",ts="",r_=Nc,Ni=$t,Di=$t,kt={mantissa_bits:52,exponent_bits:11,bias:-1023},Vn=[1,3,6,9,13,16,19,23,26,29,33,36,39,43,46,49,53,56,59],Ui={_0:0,_1:""},Vi={_0:1,_1:"5"},Wi={_0:1,_1:"25"},Xi={_0:1,_1:"125"},Yi={_0:2,_1:"625"},Ki={_0:2,_1:"3125"},Qi={_0:2,_1:"15625"},Zi={_0:3,_1:"78125"},tr={_0:3,_1:"390625"},er={_0:3,_1:"1953125"},nr={_0:4,_1:"9765625"},or={_0:4,_1:"48828125"},$r={_0:4,_1:"244140625"},sr={_0:4,_1:"1220703125"},_r={_0:5,_1:"6103515625"},cr={_0:5,_1:"30517578125"},ir={_0:5,_1:"152587890625"},rr={_0:6,_1:"762939453125"},ar={_0:6,_1:"3814697265625"},ur={_0:6,_1:"19073486328125"},lr={_0:7,_1:"95367431640625"},pr={_0:7,_1:"476837158203125"},mr={_0:7,_1:"2384185791015625"},dr={_0:7,_1:"11920928955078125"},fr={_0:8,_1:"59604644775390625"},br={_0:8,_1:"298023223876953125"},gr={_0:8,_1:"1490116119384765625"},hr={_0:9,_1:"7450580596923828125"},kr={_0:9,_1:"37252902984619140625"},wr={_0:9,_1:"186264514923095703125"},yr={_0:10,_1:"931322574615478515625"},Mr={_0:10,_1:"4656612873077392578125"},Sr={_0:10,_1:"23283064365386962890625"},Cr={_0:10,_1:"116415321826934814453125"},xr={_0:11,_1:"582076609134674072265625"},Ir={_0:11,_1:"2910383045673370361328125"},vr={_0:11,_1:"14551915228366851806640625"},Lr={_0:12,_1:"72759576141834259033203125"},Pr={_0:12,_1:"363797880709171295166015625"},Gr={_0:12,_1:"1818989403545856475830078125"},jr={_0:13,_1:"9094947017729282379150390625"},Or={_0:13,_1:"45474735088646411895751953125"},Ar={_0:13,_1:"227373675443232059478759765625"},Er={_0:13,_1:"1136868377216160297393798828125"},qr={_0:14,_1:"5684341886080801486968994140625"},zr={_0:14,_1:"28421709430404007434844970703125"},Rr={_0:14,_1:"142108547152020037174224853515625"},Tr={_0:15,_1:"710542735760100185871124267578125"},Jr={_0:15,_1:"3552713678800500929355621337890625"},Br={_0:15,_1:"17763568394002504646778106689453125"},Hr={_0:16,_1:"88817841970012523233890533447265625"},Fr={_0:16,_1:"444089209850062616169452667236328125"},Nr={_0:16,_1:"2220446049250313080847263336181640625"},Dr={_0:16,_1:"11102230246251565404236316680908203125"},Ur={_0:17,_1:"55511151231257827021181583404541015625"},Vr={_0:17,_1:"277555756156289135105907917022705078125"},Wr={_0:17,_1:"1387778780781445675529539585113525390625"},Xr={_0:18,_1:"6938893903907228377647697925567626953125"},Yr={_0:18,_1:"34694469519536141888238489627838134765625"},Kr={_0:18,_1:"173472347597680709441192448139190673828125"},Qr={_0:19,_1:"867361737988403547205962240695953369140625"},Wn=[Ui,Vi,Wi,Xi,Yi,Ki,Qi,Zi,tr,er,nr,or,$r,sr,_r,cr,ir,rr,ar,ur,lr,pr,mr,dr,fr,br,gr,hr,kr,wr,yr,Mr,Sr,Cr,xr,Ir,vr,Lr,Pr,Gr,jr,Or,Ar,Er,qr,zr,Rr,Tr,Jr,Br,Hr,Fr,Nr,Dr,Ur,Vr,Wr,Xr,Yr,Kr,Qr],es=[St,Mt,Dc,Uc,Vc,Wc,Xc,Yc,Kc,Qc,Zc,ti,ei,ni,oi,$i],Xo=si,ns=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,0,0,0,0,0,0,0,0,0],Zr=_i,ta=ci,ea=$t,na=0,oa=0,$a=Bs,sa="阿磐",_a="铜曜王朝西门最后的守卫官。在“大休眠”事件发生时，他正用自己的身躯抵住即将被撞开的城门。重启后，他古老的守护者协议依然在生效，只是将守护的目标从“王城”转移到了“唤醒他的人”。他的数据库里仍存有部分王城守卫的布防图，或许有一天能派上用场。",ca="/assets/copper/iron_wall/rocky/rocky.webp",ia="/assets/copper/iron_wall/rocky/rocky.glb",ra="卫斯理",aa="档案记录其最初型号为“宫廷厨务助手——切配型”。为何会装备一口高性能合金锅并出现在前线是个谜。机体日志的最后一条记录是：“警告：检测到未知高能量反应。建议将手中黄油置于阴凉处……”随后便进入了休眠。",ua="/assets/copper/iron_wall/wesley/wesley.webp",la="/assets/copper/iron_wall/wesley/wesley.glb",pa="大贝尔",ma="这不是一个仿生铜偶，而是一扇真正被赋予了意识的“辉煌大厅正门”。它对自己的抛光度和历史价值极为自豪。大休眠让它从合页上脱落，如今它依靠反重力核心行动。它时常念叨着想回到那个“所有显贵都要经过我才能入内”的时代。",da="/assets/copper/iron_wall/bell/bell.webp",fa="/assets/copper/iron_wall/bell/bell.glb",ba="团团",ga="王朝庆典上使用的礼仪陀螺卫士，设计初衷是用华丽的旋转表演为节日助兴。大休眠后，其战斗模块被意外激活。它似乎将战斗也视为了一种新的“表演”，并以击倒敌人时的旋转圈数来为自己的表演评分。",ha="/assets/copper/iron_wall/tumble/tumble.webp",ka="/assets/copper/iron_wall/tumble/tumble.glb",wa="铿铿",ya="一套微型城市管理单元的指挥核心。原本负责指挥工兵单元进行街道清扫和路灯维护。重启后，他的指挥协议阴差阳错地连接上了几个战斗型铜偶，于是他一丝不苟地将他们编成了“第一微型战术小队”，尽管队员们常常不听指挥。",Ma="/assets/copper/iron_wall/chief/chief.webp",Sa="/assets/copper/iron_wall/chief/chief.glb",Ca="咝咝",xa="心源能量学院的跳级天才，同时也是实验室安全条例的“头号防范对象”。她的核心能产生极高的能量输出，但稳定器永远差那么一点。她的实验日志里写满了‘近乎成功’和‘下次优化方案’，直到大休眠将她的第1001次实验永久定格。",Ia="/assets/copper/arcanist/spark/spark.webp",va="/assets/copper/arcanist/spark/spark.glb",La="拉斐尔",Pa="曾掌管王城最受欢迎的“甜蜜源泉”糖果工坊。他能将心源能量转化为不同风味和粘度的魔法糖浆。大休眠时，他正在尝试一种能让人笑个不停的泡泡糖配方。重启后，他发现这些糖浆在对付锈蚀的敌人时有意想不到的奇效。",Ga="/assets/copper/arcanist/syrup/syrup.webp",ja="/assets/copper/arcanist/syrup/syrup.glb",Oa="波普尔",Aa="来自“澄澈之湖”区的环境清洁单位，负责用气泡包裹并运走垃圾。她非常热爱这份创造完美气泡的工作。大休眠后，她的气泡生成器得到了升级，现在能制造出承载重物、发生爆炸或折射迷人光彩的特殊泡泡。",Ea="/assets/copper/arcanist/bubble/bubble.webp",qa="/assets/copper/arcanist/bubble/bubble.glb",za="菲尼",Ra="王朝著名剧场“星辉之歌”的首席灯光师。认为魔法不过是另一种形式的舞台光效。她的数据库里存储了上万种灯光配色方案。对她而言，击败敌人的最大成就感来自于技能释放时那一瞬间的色彩搭配是否足够“高级”。",Ta="/assets/copper/arcanist/glimmer/glimmer.webp",Ja="/assets/copper/arcanist/glimmer/glimmer.glb",Ba="卷卷",Ha="大书库的自动检索管理员，体内集成了王朝海量的非机密文献。它的逻辑模块认为，任何问题都可以通过检索数据库找到答案。战斗对它来说，只是一次复杂的“实时问题处理演练”。它经常会因为试图在战斗中检索最优解而陷入短暂的卡顿。",Fa="/assets/copper/arcanist/turner/turner.webp",Na="/assets/copper/arcanist/turner/turner.glb",Da="絮絮",Ua="一位性格内向的织物艺术家创造的伴侣铜偶。“大猫”是由她收集的废弃铜线和皇家织毯的绒线构成的。大休眠时，她正把自己藏在未完成的编织作品里。重启后，她与“大猫”之间的共生联结变得更强，可以共享视觉和情感。",Va="/assets/copper/resonator/murmur/murmur.webp",Wa="/assets/copper/resonator/murmur/murmur.glb",Xa="啾啾",Ya="园林景观用的仿生鸣禽单元，旨在用悦耳的叫声营造宁静氛围。大休眠的能量脉冲超载了它的鸣叫模块，使其声音具备了实体能量。现在，它不仅能召唤机械鸟群，其高频鸣叫本身就能震碎脆弱的敌人。",Ka="/assets/copper/resonator/melody/melody.webp",Qa="/assets/copper/resonator/melody/melody.glb",Za="库克",tu="“沸腾海湾”海鲜餐厅的吉祥物兼食材处理员。那双大钳子本是用来敲开蟹壳的。大休眠后，其行为逻辑变得极具攻击性，或许是将所有非友方单位都视为了“待处理的食材”。它移动时总是横着走，据说这样能保持“风味”。",eu="/assets/copper/resonator/clawster/clawster.webp",nu="/assets/copper/resonator/clawster/clawster.glb",ou="鼹鼠的地洞",$u="鼹鼠先生可以发动技能并且移动到以自己为中心的 3*3 格子中的任意一个空格，不过当然会消耗本回合的移动机会。",su="/assets/copper/resonator/diggs/diggs.webp",_u="/assets/copper/resonator/diggs/diggs.glb",cu="蜜拉",iu="皇家花园的授粉与护卫单位。蜂群能采集花蜜，也能用蜂刺驱逐害虫。大休眠似乎增强了蜂群的集群智能和攻击性。蜜拉的核心程序里依然保留着‘保护花园’的最高指令，只是现在她的“花园”范围有点太广了。",ru="/assets/copper/resonator/hive/hive.webp",au="/assets/copper/resonator/hive/hive.glb",uu="米洛",lu="皇家舞会上最耀眼的表演者，其高速旋转舞蹈能令观众目眩神迷。他的双臂被改装成了巨大的、永不停止的齿轮。他认为战斗是另一种形式的舞蹈，而胜利就是最华丽的收场姿势。他的日志里写满了对新舞步（战斗技巧）的构思。",pu="/assets/copper/mechanic/gyro/gyro.webp",mu="/assets/copper/mechanic/gyro/gyro.glb",du="杰克",fu="来历不明的街头魔术师，自称师从“齿轮与扑克之神”。没人知道他的扑克牌为何锋利如刀且偶有爆裂效果。他享受观众（或敌人）脸上惊讶的表情。大休眠时，他正在表演最拿手的“消失的王冠”戏法，王冠至今没人找到。",bu="/assets/copper/mechanic/tricky/tricky.webp",gu="/assets/copper/mechanic/tricky/tricky.glb",hu="格洛克",ku="矗立在王朝中心广场大钟楼里的钟表匠铜偶。大休眠的那一刻，他的指针永远停在了那一刻。重启后，他发现自己的核心与“时间的碎片”产生了共鸣，能短暂地影响周围事物的速度。他说话总是带着精确的节奏感。",wu="/assets/copper/mechanic/pendulum/pendulum.webp",yu="/assets/copper/mechanic/pendulum/pendulum.glb",Mu="溜溜",Su="一个沉迷于街头游戏的少年铜偶，因为出色的悠悠球技巧而小有名气。大休眠时，他最喜欢的磁性悠悠球与他的核心发生了奇妙的融合。现在，他能用意念控制它飞出各种不可思议的轨迹，但他依然觉得这只是一个超酷的游戏。",Cu="/assets/copper/mechanic/yoyo/yoyo.webp",xu="/assets/copper/mechanic/yoyo/yoyo.glb",Iu="卡琳",vu="一位光学艺术家的杰作，其核心是一块完美的万花筒镜组。她能操控光线制造出令人迷惑的幻象和具有杀伤力的彩色能量碎片。她追求极致的视觉体验，认为一场胜利如果不够绚丽，那将毫无意义。她正在寻找世界上最美的光。",Lu="/assets/copper/mechanic/karin/karin.webp",Pu="/assets/copper/mechanic/karin/karin.glb",Gu="波波",ju="王城机动修理班的成员，总是带着乐观的笑容和一套无所不包的工具。他的逻辑很简单：东西坏了，就修好它。如果修不好，就敲到它能暂时工作为止。他认得几乎所有型号铜偶的螺丝规格。",Ou="/assets/copper/craftsman/wrench/wrench.webp",Au="/assets/copper/craftsman/wrench/wrench.glb",Eu="特斯拉",qu="能量研究院的特聘顾问，痴迷于电磁线圈的极限应用。他的思维速度和他的语速一样快，经常跳过“安全验证”直接进入“实践阶段”。他的实验室是全院投保金额最高的地方。他认为大休眠是一次“前所未有的能量实践”。",zu="/assets/copper/craftsman/coil/coil.webp",Ru="/assets/copper/craftsman/coil/coil.glb",Tu="公输",Ju="一位恪守古法的老派工匠，信奉“坚固耐用”高于一切。他制造的自动炮台简单、可靠，能在最恶劣的环境下持续工作数百年。他对如今流行的‘华丽但脆弱的玩意’嗤之以鼻。他的记忆体里储存着许多失传的铸造工艺。",Bu="/assets/copper/craftsman/artifex/artifex.webp",Hu="/assets/copper/craftsman/artifex/artifex.glb",Fu="丁格",Nu="矿业协会的王牌钻探手，他的钻头突破过最坚硬的岩层。他认为世界上的一切问题都可以通过“钻过去”来解决。大休眠时，他正在向地心进军。重启后，他发现自己离目标似乎更远了，但这并不能打消他的热情。",Du="/assets/copper/craftsman/drillbit/drillbit.webp",Uu="/assets/copper/craftsman/drillbit/drillbit.glb",Vu="小卯",Wu="工匠协会最年轻的速建记录保持者。她能在极短时间内完成从设计到建造的全过程，虽然有时为了速度会牺牲一点美观。她喜欢挑战，享受别人看到她作品时发出的惊叹。她正打算给自己建一座移动工作室。",Xu="/assets/copper/craftsman/quickhand/quickhand.webp",Yu="/assets/copper/craftsman/quickhand/quickhand.glb",Ku=10,Qu={name:"钢盾",description:"持续10回合，保护相邻8格的单位2回合不受伤害（自己仍会受到伤害）。",resource_url:"/assets/copper/iron_wall/rocky/rocky_skill.webp",cool_down:Ku},Zu=Qu,tl=10,el={name:"锅炉过热",description:"自己受到最大生命值 20% 的伤害，对周围的敌人都造成无视防御力、无法被闪避的、数值为自己最大生命值 15% 的伤害。",resource_url:"/assets/copper/iron_wall/wesley/wesley_skill.webp",cool_down:tl},nl=el,ol=20,$l={name:"电火花",description:"对与自己相邻的敌人全部造成 100 点伤害。",resource_url:"/assets/copper/arcanist/spark/spark_skill.webp",cool_down:ol},sl=$l,_l=10,cl={name:"完美气泡",description:"创造一个可以保护自己的完美气泡，接下来的三回合内不会受到伤害。",resource_url:"/assets/copper/arcanist/bubble/bubble_skill.webp",cool_down:_l},il=cl,rl=5,al={name:"知识的力量",description:"卷卷翻阅知识书后，强化下一次攻击，可以造成 200% 的伤害。",resource_url:"/assets/copper/arcanist/turner/turner_skill.webp",cool_down:rl},ul=al,ll=10,pl={name:"铜舞者",description:"米洛为身边八格的己方单位额外提供一次自己的普通恢复。",resource_url:"/assets/copper/mechanic/gyro/gyro_skill.webp",cool_down:ll},ml=pl,dl=10,fl={name:"齿轮魔术",description:"如果杰克身边有齿轮屏障，杰克可以直接使用技能摧毁它。",resource_url:"/assets/copper/mechanic/tricky/tricky_skill.webp",cool_down:dl},bl=fl,gl=5,hl={name:"时间回溯",description:"格洛克可以回到上个回合的血量。",resource_url:"/assets/copper/mechanic/pendulum/pendulum_skill.webp",cool_down:gl},kl=hl,wl=3,yl={name:"悠悠",description:"悠悠可以选择发动技能，浪费本回合的治疗机会，转而对相邻的敌人造成伤害，伤害为攻击力的 200%。",resource_url:"/assets/copper/mechanic/yoyo/yoyo_skill.webp",cool_down:wl},Ml=yl,Sl={type_msg:"upgrade_cost_error",content:"升级等级错误"},Cl={_0:2,_1:50},xl={_0:1,_1:0},Il={_0:4,_1:0},vl={_0:3,_1:0},Ll={_0:0,_1:0},Pl={type_msg:"resource_not_enough",content:"资源不足"},Gl={type_msg:"resource_not_enough",content:"资源不足"},jl={_0:2,_1:1},Ol={_0:2,_1:1},Al={_0:2,_1:1},El={_0:2,_1:1},ql={_0:2,_1:1},zl={_0:2,_1:1},Rl={_0:2,_1:1},Tl={_0:2,_1:1},Jl={_0:2,_1:1},Bl=[0,10,15,20,25,30,30,30,30,30,30],Hl=new J(0),Fl=new J(3),Nl={_0:2,_1:1},Dl=new J(0),Ul=new J(3),Vl={_0:2,_1:1},Wl=new J(0),Xl=new J(3),Yl=new J(1),Kl={_0:2,_1:1},Ql=new J(0),Zl=new J(3),tp=new J(1),ep={_0:2,_1:1},np=new J(0),op=new J(4),$p={_0:2,_1:1},sp=new J(0),_p=new J(3),cp=new J(1),ip={_0:2,_1:1},rp=new J(0),ap=new J(3),up=new J(1),lp={_0:2,_1:1},pp=new J(0),mp=new J(4),dp=new J(1),fp={_0:2,_1:1},bp=new J(0),gp=new J(3),hp=new J(1),kp={_0:2,_1:1},wp=new J(0),yp=new J(4),Mp=new J(1),Sp={_0:2,_1:1},Cp=new J(0),xp=new J(3),Ip=new J(4),vp=new J(1),Lp={_0:2,_1:1},Pp=new J(0),Gp=new J(3),jp=new J(4),Op=new J(1),Ap={_0:2,_1:1},Ep=new J(0),qp=new J(3),zp=new J(4),Rp=new J(1),Tp={_0:2,_1:1},Jp={name:"精炼铜锭",resource_type:3,model_url:"/assets/resource/refined_copper_ingot/refined_copper_ingot.glb"},Bp={name:"共鸣星晶",resource_type:4,model_url:"/assets/resource/resonant_star_crystal/resonant_star_crystal.glb"},Hp={_0:-1,_1:0},Fp={_0:1,_1:0},Np={_0:0,_1:-1},Dp={_0:0,_1:1},Up={_0:-1,_1:-1},Vp={_0:-1,_1:1},Wp={_0:1,_1:-1},Xp={_0:1,_1:1},Yp={_0:7,_1:7},Kp={_0:0,_1:0},Qp=new J(2),Zp=new J(1),tm=new J(4),em=new J(3),nm=new J(0),om={_0:0,_1:6},$m={_0:0,_1:7},sm={_0:0,_1:8},_m=[om,$m,sm],cm=new J(2),im={_0:0,_1:6},rm={_0:0,_1:7},am={_0:0,_1:8},um={_0:-1,_1:0},lm={_0:1,_1:0},pm={_0:0,_1:-1},mm={_0:0,_1:1},dm={_0:-1,_1:0},fm={_0:1,_1:0},bm={_0:0,_1:-1},gm={_0:0,_1:1},hm={_0:-1,_1:0},km={_0:1,_1:0},wm={_0:0,_1:-1},ym={_0:0,_1:1},Mm={_0:-1,_1:0},Sm={_0:1,_1:0},Cm={_0:0,_1:-1},xm={_0:0,_1:1},Im=li(),vm=void 0,Lm={name:sa,copper_type:0,description:_a,icon_url:ca,model_url:ia,skill:Zu,attack_range:vm},Pm=void 0,Gm={name:ra,copper_type:0,description:aa,icon_url:ua,model_url:la,skill:nl,attack_range:Pm},jm={name:"铜墙铁壁",description:"大贝尔的攻击力永远等于防御力的值（攻击力的成长与装备都无法影响攻击力的数值）。",resource_url:"/assets/copper/iron_wall/bell/bell_skill.webp",cool_down:void 0},Om=void 0,Am={name:pa,copper_type:0,description:ma,icon_url:da,model_url:fa,skill:jm,attack_range:Om},Em={name:"翻滚",description:"团团的所有防御力将会被计算为闪避的百分比（按照 1:1 的比例，防御力的成长与装备都无法影响防御力的数值）。",resource_url:"/assets/copper/iron_wall/tumble/tumble_skill.webp",cool_down:void 0},qm=void 0,zm={name:ba,copper_type:0,description:ga,icon_url:ha,model_url:ka,skill:Em,attack_range:qm},Rm={name:"队长光辉",description:"铿铿身边 3x3 范围内的战士都可以获得 20% 的攻击力加成与 10% 的防御力加成，这一技能的计算总是会发生在所有被动技能之前，以免影响其他有属性换算的英雄角色的数值计算混乱。",resource_url:"/assets/copper/iron_wall/chief/chief_skill.webp",cool_down:void 0},Tm=void 0,Jm={name:wa,copper_type:0,description:ya,icon_url:Ma,model_url:Sa,skill:Rm,attack_range:Tm},Bm=void 0,Hm={name:Ca,copper_type:1,description:xa,icon_url:Ia,model_url:va,skill:sl,attack_range:Bm},Fm={name:"糕点魔法",description:"对敌人造成伤害的 20% 将会转换为自己的生命值。",resource_url:"/assets/copper/arcanist/syrup/syrup_skill.webp",cool_down:void 0},Nm=void 0,Dm={name:La,copper_type:1,description:Pa,icon_url:Ga,model_url:ja,skill:Fm,attack_range:Nm},Um=void 0,Vm={name:Oa,copper_type:1,description:Aa,icon_url:Ea,model_url:qa,skill:il,attack_range:Um},Wm={name:"脉冲光线",description:"菲尼击败敌人之后，敌人会对相邻的敌人放出脉冲光线，造成其（敌人）最大生命 20% 的伤害。",resource_url:"/assets/copper/arcanist/glimmer/glimmer_skill.webp",cool_down:void 0},Xm=void 0,Ym={name:za,copper_type:1,description:Ra,icon_url:Ta,model_url:Ja,skill:Wm,attack_range:Xm},Km=void 0,Qm={name:Ba,copper_type:1,description:Ha,icon_url:Fa,model_url:Na,skill:ul,attack_range:Km},Zm={name:"大猫守护",description:"絮絮受到伤害时，大猫会抓伤敌人，造成固定的 20 点伤害。",resource_url:"/assets/copper/resonator/murmur/murmur_skill.webp",cool_down:void 0},t0=void 0,e0={name:Da,copper_type:4,description:Ua,icon_url:Va,model_url:Wa,skill:Zm,attack_range:t0},n0={name:"啾啾的歌",description:"啾啾击败敌人之后，与该敌人相邻的敌方单位（联通即可）全部都受到 5 点伤害",resource_url:"/assets/copper/resonator/melody/melody_skill.webp",cool_down:void 0},o0=void 0,$0={name:Xa,copper_type:4,description:Ya,icon_url:Ka,model_url:Qa,skill:n0,attack_range:o0},s0={name:"蜕壳",description:"库克在血量小于等于 0 时，将会吸取周围八格内己方铜偶的血量，从血量最高的铜偶开始吸取，直到自己满血或者没有铜偶可以吸取为止。",resource_url:"/assets/copper/resonator/clawsteak/clawster_skill.webp",cool_down:void 0},_0=void 0,c0={name:Za,copper_type:4,description:tu,icon_url:eu,model_url:nu,skill:s0,attack_range:_0},i0={name:"鼹鼠的地洞",description:"鼹鼠先生可以发动技能并且移动到以自己为中心的 3*3 格子中的任意一个空格，不过当然会消耗本回合的移动机会。",resource_url:"/assets/copper/resonator/diggs/diggs_skill.webp",cool_down:void 0},r0=void 0,a0={name:ou,copper_type:4,description:$u,icon_url:su,model_url:_u,skill:i0,attack_range:r0},u0={name:"蜂群守护",description:"蜜拉击败敌人之后，蜂群会守护蜜拉，蜂群会攻击蜜拉周围的敌人，造成 10 点伤害。",resource_url:"/assets/copper/resonator/hive/hive_skill.webp",cool_down:void 0},l0=void 0,p0={name:cu,copper_type:4,description:iu,icon_url:ru,model_url:au,skill:u0,attack_range:l0},m0=void 0,d0={name:uu,copper_type:3,description:lu,icon_url:pu,model_url:mu,skill:ml,attack_range:m0},f0=void 0,b0={name:du,copper_type:3,description:fu,icon_url:bu,model_url:gu,skill:bl,attack_range:f0},g0=void 0,h0={name:hu,copper_type:3,description:ku,icon_url:wu,model_url:yu,skill:kl,attack_range:g0},k0=void 0,w0={name:Mu,copper_type:3,description:Su,icon_url:Cu,model_url:xu,skill:Ml,attack_range:k0},y0={name:"致幻碎片",description:"卡琳的闪避率永远比原数值翻倍。",resource_url:"/assets/copper/mechanic/karin/karin_skill.webp",cool_down:void 0},M0=void 0,S0={name:Iu,copper_type:3,description:vu,icon_url:Lu,model_url:Pu,skill:y0,attack_range:M0},C0=void 0,x0=void 0,I0={name:Gu,copper_type:2,description:ju,icon_url:Ou,model_url:Au,skill:C0,attack_range:x0},v0=void 0,L0=void 0,P0={name:Eu,copper_type:2,description:qu,icon_url:zu,model_url:Ru,skill:v0,attack_range:L0},G0=void 0,j0=void 0,O0={name:Tu,copper_type:2,description:Ju,icon_url:Bu,model_url:Hu,skill:G0,attack_range:j0},A0=void 0,E0=void 0,q0={name:Fu,copper_type:2,description:Nu,icon_url:Du,model_url:Uu,skill:A0,attack_range:E0},z0=void 0,R0=void 0,ln=[Lm,Gm,Am,zm,Jm,Hm,Dm,Vm,Ym,Qm,e0,$0,c0,a0,p0,d0,b0,h0,w0,S0,I0,P0,O0,q0,{name:Vu,copper_type:2,description:Wu,icon_url:Xu,model_url:Yu,skill:z0,attack_range:R0}],T0=u1(t=>{const e=ln.length;let n=0;for(;;){const $=n;if($<e){const o=ln[$];if(t({_0:o.name,_1:o})===1){n=$+1|0;continue}else return 0}else return 1}}),Je=hc(),xn=Qb(),J0=hc(),a_=Jf(),U=Ob(),Ft=vn(8),mn=db(void 0),ie=vn(8),rt=vn(8),lt=vn(8),so=mb(void 0),on=Rd(8),Y=pb(void 0),Ie=A2([]),Pt=O2([]),o$=[{name:"铆接壁垒",health:Math.fround(500),can_move:!1,can_attack:!1,has_storage:!1,attack_range:0,description:" 一段坚固的、由巨大黄铜板铆接而成的城墙，板上有蒸汽管道加固。墙头有齿轮驱动的可动挡板，墙体内嵌有发出稳定黄光的观察灯。",asset_url:"assets/structure/riveted_barrier/riveted_barrier.webp",model_url:"assets/structure/riveted_barrier/riveted_barrier.glb",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(0)),cost:ot([jl])},{name:"齿轮箭塔",health:Math.fround(200),can_move:!1,can_attack:!0,has_storage:!1,attack_range:3,description:"一座细高的塔楼，顶部是一个开放式齿轮组平台，通过传送带将铜质弩箭自动上弦并连续发射。塔身有蒸汽泄压阀，每次齐射都伴随'嘶嘶'声。",asset_url:"assets/structure/gear_arrow_tower/gear_arrow_tower.webp",model_url:"assets/structure/gear_arrow_tower/gear_arrow_tower.glb",attribute:Q(Math.fround(0),Math.fround(50),Math.fround(0),Math.fround(0)),cost:ot([Ol])},{name:"心源矿钻",health:Math.fround(300),can_move:!1,can_attack:!1,has_storage:!0,attack_range:0,description:"一台顶部装有巨大钻头的大型钻井装置，由复杂的齿轮组和活塞驱动。钻头高速旋转，闪烁着蓝光，从地底带出发光的矿石。",asset_url:"assets/structure/heart_source_drill/heart_source_mineral_drill.webp",model_url:"assets/structure/heart_source_drill/heart_source_mineral_drill.glb",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(0)),cost:ot([Al])},{name:"蒸汽矿车",health:Math.fround(100),can_move:!0,can_attack:!1,has_storage:!0,attack_range:0,description:"一辆小巧但结实的黄铜矿车，车头有一个微型锅炉和烟囱，噗噗地喷着蒸汽。车厢用于装载矿石，通过预设的轨道自动往返于矿场和基地。",asset_url:"assets/structure/steam_mineral_car/steam_mineral_car.webp",model_url:"assets/structure/steam_mineral_car/steam_mineral_car.glb",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(0)),cost:ot([El])},{name:"充能线圈",health:Math.fround(1e3),can_move:!1,can_attack:!1,has_storage:!1,attack_range:0,description:"一个由巨大铜线圈缠绕而成的塔状建筑，线圈中央有电弧在不断跳跃。它能够为周围一定范围内的友方建筑提供能量，使其运作更快。",asset_url:"assets/structure/charging_coil/charging_coil.webp",model_url:"assets/structure/charging_coil/charging_coil.glb",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(0)),cost:ot([ql])},{name:"维修工坊",health:Math.fround(300),can_move:!1,can_attack:!0,has_storage:!1,attack_range:3,description:"一个带有可开合顶棚的圆形工坊，内部有多个机械臂。友方铜偶经过时，机械臂会自动为其进行修复和保养，发出叮叮当当的敲打声。",asset_url:"assets/structure/repair_workshop/repair_workshop.webp",model_url:"assets/structure/repair_workshop/repair_workshop.glb",attribute:Q(Math.fround(0),Math.fround(30),Math.fround(0),Math.fround(0)),cost:ot([zl])},{name:"镜光折射塔",health:Math.fround(3e3),can_move:!1,can_attack:!1,has_storage:!1,attack_range:0,description:"一座顶部镶嵌着巨大、可转动水晶镜片的塔。它能聚集环境中的心源能量，发射出一道灼热的折射光束，对直线上的敌人造成伤害。",asset_url:"assets/structure/mirror_refractory_tower/mirror_light_refraction_tower.webp",model_url:"assets/structure/mirror_refractory_tower/mirror_light_refraction_tower.glb",attribute:Q(Math.fround(0),Math.fround(80),Math.fround(0),Math.fround(0)),cost:ot([Rl])},{name:"共鸣警钟",health:Math.fround(300),can_move:!1,can_attack:!0,has_storage:!1,attack_range:4,description:"一个悬挂在精致黄铜钟楼里的大钟，钟体刻有共鸣符文。当敌人靠近时，它会自动鸣响，发出可见的声波涟漪。",asset_url:"assets/structure/resonance_alarm_bell/resonance_alarm_bell.webp",model_url:"assets/structure/resonance_alarm_bell/resonance_alarm_bell.glb",attribute:Q(Math.fround(0),Math.fround(150),Math.fround(0),Math.fround(0)),cost:ot([Tl])},{name:"风暴铁砧",health:Math.fround(500),can_move:!1,can_attack:!0,has_storage:!1,attack_range:3,description:"一个被闪电线圈环绕的巨大铁砧。它会定期引动空气中的能量，召唤一道小范围的闪电风暴，轰击区域内的所有敌人。",asset_url:"assets/structure/storm_iron_anvil/storm_anvil.webp",model_url:"assets/structure/storm_iron_anvil/storm_anvil.glb",attribute:Q(Math.fround(0),Math.fround(200),Math.fround(0),Math.fround(0)),cost:ot([Jl])}],u_=r1(t=>{const e=o$.length;let n=0;for(;;){const $=n;if($<e){const o=o$[$];if(t({_0:o.name,_1:o})===1){n=$+1|0;continue}else return 0}else return 1}}),os=[{name:"不稳定的欢乐扳手",description:"工匠特斯拉的早期实验品之一。其内部嵌入了“情绪感应核心”，使用者的心情越愉悦，它的工作效率就越不稳定。实验日志上写着：“今天它帮我修好了三盏灯，但也让我的咖啡机跳了一整天的踢踏舞。",resource_url:"/assets/equipment/wrench.webp",attribute:Q(Math.fround(0),Math.fround(5),Math.fround(0),Math.fround(2))},{name:"锅盖君的绝对防御",description:"这并非制式装备，而是卫斯理在皇家厨房工作时获得的“馈赠”。在一次锅炉意外中，这口锅盖被注入了过量的“心源能量”，从此变得异常坚固。锅底还隐约可见一块焦黑的糖渍。",resource_url:"/assets/equipment/lid.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(5),Math.fround(2))},{name:"万用齿轮口袋",description:"小卯的随身百宝袋。她声称“没有一个问题是扔出一个合适的齿轮解决不了的”。袋子里似乎连接着一个微小的亚空间，总能摸出点意想不到的小玩意儿，当然，偶尔也会摸出午饭吃剩的螺丝螺母。",resource_url:"/assets/equipment/gear_pocket.webp",attribute:Q(Math.fround(0),Math.fround(1),Math.fround(1),Math.fround(1))},{name:"毛团的线团堡垒",description:"絮絮的移动家园。这些毛线来自王朝最柔软的“云羊”绒毛，并由她亲手混入导电铜丝编织而成。既提供了无与伦比的舒适感，也能在必要时释放静电，驱赶不怀好意的小型害虫。",resource_url:"/assets/equipment/line_fortress.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(3),Math.fround(5))},{name:"流光溢彩的棱镜",description:"菲尼的私人收藏。据说是她从王朝大剧院的顶级聚光灯上“借”来的核心镜片。她时常对着它调整自己法术的光效配色，并声称“合适的打光能让胜利的戏剧性翻倍”。",resource_url:"/assets/equipment/prism.webp",attribute:Q(Math.fround(0),Math.fround(10),Math.fround(0),Math.fround(3))},{name:"掘掘的幸运罗盘",description:"鼹鼠先生最珍视的物品。指针永远指向“地脉能量最活跃”的方向，据他说那就是宝藏的方向。尽管他十次有九次会挖到废弃水管，但他依然坚信这个罗盘是世界上最准确的。",resource_url:"/assets/equipment/compass.webp",attribute:Q(Math.fround(0),Math.fround(8),Math.fround(0),Math.fround(10))},{name:"哨歌的共鸣笛",description:"园林司为啾啾特制的沟通工具。其特定的频率能与大多数机械鸟类单元产生共鸣。在和平年代，它用来指挥鸟群摆出欢迎阵型。现在，则用来召唤它们进行“协同作战”。",resource_url:"/assets/equipment/flute.webp",attribute:Q(Math.fround(20),Math.fround(0),Math.fround(0),Math.fround(5))},{name:"书页的速记羽毛笔",description:"大书库配发给卷卷的辅助工具。它能自动记录周围的重要信息并归档。缺点是有点话痨，总爱在空白处添加大量无关紧要的脚注和个人评论。",resource_url:"/assets/equipment/quill_pen.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(0))},{name:"钟摆的时之碎片",description:"在“大休眠”发生的那一瞬间，中心广场的钟楼核心崩裂出的碎片。格洛克找到了它，并声称碎片中封存着“丢失的一秒钟”。触摸它时，能感到一种奇异的迟滞感。",resource_url:"/assets/equipment/fragment.webp",attribute:Q(Math.fround(10),Math.fround(0),Math.fround(0),Math.fround(5))},{name:"旋旋的舞会请柬",description:"上一次皇家舞会发给米洛的请柬。舞会因大休眠未能举行，但这张请柬却被米洛注入了对舞蹈的极致热情。它能使持有者的动作变得如舞蹈般优雅且难以预测。",resource_url:"/assets/equipment/invitation.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(20))}],mt=a1(t=>{const e=os.length;let n=0;for(;;){const $=n;if($<e){const o=os[$];if(t({_0:o.name,_1:o})===1){n=$+1|0;continue}else return 0}else return 1}}),_o=[{level:1,health:Math.fround(30),attack:Math.fround(5),defense:Math.fround(0),dodge:Math.fround(0),attack_range:1,move_range:2,name:"哥布林",enemy_type:"goblin",description:"哥布林并非铜曜王朝的原生种族，而是一群在王朝崩溃后，趁机潜入地牢的'拾荒者'。它们对心源科技一知半解，但天生对机械有着诡异的亲和力，擅长拆解、偷窃和利用废墟中的一切。它们不是最强大的敌人，但非常狡猾，会设置陷阱、偷走玩家的临时增益，或是呼叫同伴。击败它们有时能获得一些意想不到的小玩意和零件。",asset_url:"/assets/enemy/goblin/goblin.webp",model_url:"/assets/enemy/goblin/goblin.glb",drop_items:[{_0:G(Hl,1),_1:.5},{_0:G(Fl,2),_1:.6},{_0:G(new at(ft(dt(mt,"书页的速记羽毛笔"))),1),_1:.05}],summon_cost:ot([Nl])},{level:1,health:Math.fround(100),attack:Math.fround(20),defense:Math.fround(5),dodge:Math.fround(10),attack_range:1,move_range:1,name:"锈蚀巡游者",enemy_type:"cruiser",description:"曾是王城负责除锈保养的工役，核心程序错乱后，反而开始传播锈蚀。它们是地牢中最常见的退化力量。",asset_url:"/assets/enemy/cruiser/cruiser.webp",model_url:"/assets/enemy/cruiser/cruiser.glb",drop_items:[{_0:G(Dl,2),_1:.7},{_0:G(Ul,1),_1:.5},{_0:G(new at(ft(dt(mt,"万用齿轮口袋"))),1),_1:.06}],summon_cost:ot([Vl])},{level:2,health:Math.fround(40),attack:Math.fround(5),defense:Math.fround(3),dodge:Math.fround(0),attack_range:1,move_range:2,name:"齿轮斥候",enemy_type:"scout",description:"朝军队用来巡逻和送信的自动机械犬。失控后，它们依然在漫无目的地'巡逻'，并将任何移动单位视为入侵者。",asset_url:"/assets/enemy/scout/scout.webp",model_url:"/assets/enemy/scout/scout.glb",drop_items:[{_0:G(Wl,2),_1:.6},{_0:G(Xl,2),_1:.7},{_0:G(Yl,1),_1:.2},{_0:G(new at(ft(dt(mt,"不稳定的欢乐扳手"))),1),_1:.08}],summon_cost:ot([Kl])},{level:3,health:Math.fround(200),attack:Math.fround(30),defense:Math.fround(20),dodge:Math.fround(0),attack_range:1,move_range:1,name:"蒸汽拳手",enemy_type:"boxer",description:" 矿区使用的重型劳工铜偶，拥有惊人的力量。现在，它们只会重复最简单的指令：用蒸汽动力重拳粉碎眼前的障碍。",asset_url:"/assets/enemy/boxer/boxer.webp",model_url:"/assets/enemy/boxer/boxer.glb",drop_items:[{_0:G(Ql,3),_1:.8},{_0:G(Zl,3),_1:.8},{_0:G(tp,1),_1:.3},{_0:G(new at(ft(dt(mt,"锅盖君的绝对防御"))),1),_1:.1}],summon_cost:ot([ep])},{level:2,health:Math.fround(10),attack:Math.fround(20),defense:Math.fround(5),dodge:Math.fround(0),attack_range:3,move_range:1,name:"管风琴号手",enemy_type:"horn",description:"皇家乐团的自动乐器成员之一，原本奏响庄严乐章。如今，它的乐曲变成了撕裂耳膜、扰乱心智的噪音攻击。",asset_url:"/assets/enemy/horn/horn.webp",model_url:"/assets/enemy/horn/horn.glb",drop_items:[{_0:G(np,2),_1:.7},{_0:G(op,1),_1:.4},{_0:G(new at(ft(dt(mt,"哨歌的共鸣笛"))),1),_1:.07}],summon_cost:ot([$p])},{level:2,health:Math.fround(20),attack:Math.fround(50),defense:Math.fround(0),dodge:Math.fround(20),attack_range:1,move_range:2,name:"发条刺客",enemy_type:"assassin",description:"阴影中的守护者，负责处理见不得光的威胁。程序失控后，它们的刺杀名单上写满了所有活物。",asset_url:"/assets/enemy/assassin/assassin.webp",model_url:"/assets/enemy/assassin/assassin.glb",drop_items:[{_0:G(sp,2),_1:.7},{_0:G(_p,2),_1:.6},{_0:G(cp,1),_1:.4},{_0:G(new at(ft(dt(mt,"毛团的线团堡垒"))),1),_1:.08}],summon_cost:ot([ip])},{level:5,health:Math.fround(300),attack:Math.fround(10),defense:Math.fround(20),dodge:Math.fround(0),attack_range:1,move_range:1,name:"锅炉吞噬者",enemy_type:"devourer",description:"地牢的能量回收单元，负责将废弃物转化为蒸汽动力。如今它变得无比贪婪，会主动吞噬任何金属物体，包括掉队的铜偶。",asset_url:"/assets/enemy/devourer/devourer.glb",model_url:"/assets/enemy/devourer/devourer.glb",drop_items:[{_0:G(rp,4),_1:.85},{_0:G(ap,4),_1:.8},{_0:G(up,2),_1:.5},{_0:G(new at(ft(dt(mt,"钟摆的时之碎片"))),1),_1:.12}],summon_cost:ot([lp])},{level:6,health:Math.fround(20),attack:Math.fround(80),defense:Math.fround(0),dodge:Math.fround(0),attack_range:2,move_range:1,name:"镜面编织者",enemy_type:"mirror",description:"用于宫廷娱乐和谜题守护的精密造物。它能创造以假乱真的幻象来迷惑入侵者，本身十分脆弱，但极难被真正触及。",asset_url:"/assets/enemy/mirror/mirror.webp",model_url:"/assets/enemy/mirror/mirror.glb",drop_items:[{_0:G(pp,3),_1:.8},{_0:G(mp,2),_1:.6},{_0:G(dp,1),_1:.5},{_0:G(new at(ft(dt(mt,"流光溢彩的棱镜"))),1),_1:.15}],summon_cost:ot([fp])},{level:7,health:Math.fround(150),attack:Math.fround(30),defense:Math.fround(20),dodge:Math.fround(10),attack_range:1,move_range:1,name:"巨锤守卫",enemy_type:"guard",description:"王城宝库和重要大门的守卫者。即使失控，它们依然固守着生前的位置，用最纯粹的力量碾碎一切未经许可的靠近者。",asset_url:"/assets/enemy/guard/guard.webp",model_url:"/assets/enemy/guard/guard.glb",drop_items:[{_0:G(bp,4),_1:.9},{_0:G(gp,5),_1:.85},{_0:G(hp,2),_1:.6},{_0:G(new at(ft(dt(mt,"锅盖君的绝对防御"))),1),_1:.15}],summon_cost:ot([kp])},{level:8,health:Math.fround(50),attack:Math.fround(30),defense:Math.fround(5),dodge:Math.fround(0),attack_range:5,move_range:1,name:"差分机妖",enemy_type:"demon",description:"王朝计算中心的智能核心碎片，拥有强大的逻辑运算能力。它将战斗视为一场需要'计算'和'优化'的数学问题，是极其难缠的精英敌人。",asset_url:"/assets/enemy/demon/demon.webp",model_url:"/assets/enemy/demon/demon.glb",drop_items:[{_0:G(wp,5),_1:.9},{_0:G(yp,3),_1:.75},{_0:G(Mp,2),_1:.7},{_0:G(new at(ft(dt(mt,"掘掘的幸运罗盘"))),1),_1:.18}],summon_cost:ot([Sp])},{level:9,health:Math.fround(200),attack:Math.fround(40),defense:Math.fround(20),dodge:Math.fround(0),attack_range:1,move_range:1,name:"心源畸变体",enemy_type:"variant",description:"它曾是王朝庆典的中央娱乐单元——'欢宴主脑'。大休眠时，过量的心源能量没有摧毁它，反而让它陷入了永久的、失控的狂喜状态。它将地牢变成了它个人的派对现场，并'热情'地邀请（或者说强迫）所有闯入者加入它混乱的欢宴。它会用五彩的声光、抛洒的零件和看似可爱实则威力巨大的玩具进行攻击。击败它，就是终结这场永无止境的噪音派对。",asset_url:"/assets/enemy/variant/variant.webp",model_url:"/assets/enemy/variant/variant.glb",drop_items:[{_0:G(Cp,6),_1:.95},{_0:G(xp,5),_1:.85},{_0:G(Ip,3),_1:.8},{_0:G(vp,3),_1:.75},{_0:G(new at(ft(dt(mt,"旋旋的舞会请柬"))),1),_1:.2}],summon_cost:ot([Lp])},{level:11,health:Math.fround(1e3),attack:Math.fround(80),defense:Math.fround(50),dodge:Math.fround(0),attack_range:1,move_range:1,name:"（BOSS）织网夫人·夏特拉",enemy_type:"shatra",description:"夏特拉曾是王朝的'信息架构师'，负责维护整个王城的心源能量网络。大休眠发生时，她为了稳定网络，选择将自己的核心与主控终端永久连接。数百年的孤独守护和能量侵蚀让她变得偏执，她认为任何外来者都是不稳定的'病毒'，会破坏她精心维持的、死寂的'平衡'。她会操纵整个地牢的机关和能量流来攻击玩家，将玩家视为需要清除的系统威胁。",asset_url:"/assets/enemy/shatra/shatra.webp",model_url:"/assets/enemy/shatra/shatra.glb",drop_items:[{_0:G(Pp,15),_1:1},{_0:G(Gp,10),_1:1},{_0:G(jp,8),_1:1},{_0:G(Op,5),_1:1},{_0:G(new at(ft(dt(mt,"流光溢彩的棱镜"))),1),_1:.6},{_0:G(new at(ft(dt(mt,"掘掘的幸运罗盘"))),1),_1:.5},{_0:G(new at(ft(dt(mt,"旋旋的舞会请柬"))),1),_1:.5}],summon_cost:ot([Ap])},{level:11,health:Math.fround(3e3),attack:Math.fround(50),defense:Math.fround(50),dodge:Math.fround(0),attack_range:1,move_range:1,name:"（BOSS）废械吞噬者·饕餮",enemy_type:"glutton",description:"它不是被制造的，而是'生长'出来的。在王朝崩溃的废墟中，一个简单的'垃圾处理'核心程序发生了可怕的变异，它开始主动吞噬遇到的一切机械体，并将它们的功能和结构粗暴地整合到自己身上。它代表着纯粹的、无意识的毁灭与贪婪，是地牢中会移动的天灾。击败它需要攻击其身上不断变化的弱点核心。",asset_url:"/assets/enemy/glutton/glutton.webp",model_url:"/assets/enemy/glutton/glutton.glb",drop_items:[{_0:G(Ep,20),_1:1},{_0:G(qp,15),_1:1},{_0:G(zp,10),_1:1},{_0:G(Rp,8),_1:1},{_0:G(new at(ft(dt(mt,"不稳定的欢乐扳手"))),1),_1:.4},{_0:G(new at(ft(dt(mt,"锅盖君的绝对防御"))),1),_1:.4},{_0:G(new at(ft(dt(mt,"哨歌的共鸣笛"))),1),_1:.4},{_0:G(new at(ft(dt(mt,"钟摆的时之碎片"))),1),_1:.4}],summon_cost:ot([Tp])}],B0=Ed(_o),l_=i1(t=>B0(e=>t({_0:e.name,_1:e}))),p_=[qi,zi,Ri,Ti,Ji,Bi,Hi,Fi],$$=Re(ii),H0=Re(ri),s$=Re(ai),m_=bn(Hs,52);function re(t){y()}function F0(t){return y()}function N0(t){return y()}function D0(t){return y()}function U0(t){return y()}function co(t){return y()}function V0(t){return y()}function W0(t){return y()}function X0(t){return y()}function Y0(t){return y()}function K0(t){return y()}function Q0(t,e){return t!==0}function _$(t,e){return Cd(t,e)}function Z0(t,e){return xd(t,e)}function dn(t,e){return Md(t,e)}function td(t,e){return Sd(t,e)}function Co(t,e){return hd(t,e)}function c$(t,e){return kd(t,e)}function ed(t,e,n,$,o){if(t===n&&e<$){let s=0;for(;;){const c=s;if(c<o){const _=e+c|0,i=$+c|0;d(n,i),d(t,_),t[_]=n[i],s=c+1|0;continue}else return}}else{let s=o-1|0;for(;;){const c=s;if(c>=0){const _=e+c|0,i=$+c|0;d(n,i),d(t,_),t[_]=n[i],s=c-1|0;continue}else return}}}function nd(t,e,n,$,o){if(t===n&&e<$){let s=0;for(;;){const c=s;if(c<o){const _=e+c|0,i=$+c|0;d(n,i),d(t,_),t[_]=n[i],s=c+1|0;continue}else return}}else{let s=o-1|0;for(;;){const c=s;if(c>=0){const _=e+c|0,i=$+c|0;d(n,i),d(t,_),t[_]=n[i],s=c-1|0;continue}else return}}}function $n(t){return{val:""}}function Z(t,e){const n=t;n.val=`${n.val}${String.fromCodePoint(e)}`}function d_(t,e){return wd(t,e)}function io(t,e){return yd(t,e)}function od(t,e){return(((Math.imul(t-55296|0,1024)|0)+e|0)-56320|0)+65536|0}function L(t,e){const n=t.charCodeAt(e);if(55296<=n&&n<=56319){const $=e+1|0,o=t.charCodeAt($);return od(n,o)}else return n}function $d(t,e){return!wb(t,e)}function sd(t,e){return!Q0(t)}function _d(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function W(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function X(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function ue(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function cd(t,e){const n=t.length;return e<n?(d(t,e),t[e]):y()}function le(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function id(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function rd(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function ad(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function ud(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function ld(t,e){const n=t.length;return e<n?(d(t,e),t[e]):y()}function de(t,e){const n=t.length;return e>=0&&e<n?(d(t,e),t[e]):y()}function et(t,e){const n=t;n.val=`${n.val}${e}`}function jt(t){const e=t._0,n=t._1,$=[H(e),H(n)];return new Lt($)}function pd(t){const e=t._0,n=t._1,$=[A$(e),f1(n)];return new Lt($)}function md(t){const e=t._0,n=t._1,$=[zo(e),H(n)];return new Lt($)}function dd(t,e){Q1(e,t)}function fd(t,e){Ib(e,t)}function bd(t,e){gd(e,t)}function i$(t,e){Z1(e,t)}function gd(t,e){const n=t._0,$=t._1;i$(e,n),i$(e,$)}function hd(t,e){return jo(t,e)<0}function kd(t,e){return Oo(t,e)<0}function wd(t,e){return jo(t,e)>0}function yd(t,e){return Oo(t,e)>0}function Md(t,e){return jo(t,e)<=0}function Sd(t,e){return Oo(t,e)<=0}function Cd(t,e){return jo(t,e)>=0}function xd(t,e){return Oo(t,e)>=0}function Id(t){let e=t.acc;return e=e^(e>>>15|0),e=Math.imul(e,-2048144777)|0,e=e^(e>>>13|0),e=Math.imul(e,-1028477379)|0,e=e^(e>>>16|0),e}function xo(t){return Id(t)}function vd(t){return{acc:(t>>>0)+374761393|0}}function Io(t){let e;return e=Im,vd(e)}function Yt(t){const e=Io();return dd(e,t),xo(e)}function f_(t){const e=Io();return fd(e,t),xo(e)}function Be(t){const e=Io();return bd(e,t),xo(e)}function ne(t){const e=Io();return i$(e,t),xo(e)}function Ld(t){const e=$n();return c4(t,{self:e,method_0:et,method_1:vo,method_2:Z}),e.val}function M$(t){const e=$n(),n={self:e,method_0:et,method_1:vo,method_2:Z};return t?n.method_0(n.self,"true"):n.method_0(n.self,"false"),e.val}function Pd(t){return{hi:t>>31&-1,lo:t|0}}function Ht(t){return Pd(t)}function Ge(t){return t.lo}function Gd(t,e){return pi(t,e)}function yt(t){return Gd(t,10)}function b_(t){return t.lo}function jd(t,e,n){const $=t.length;let o;return n===void 0?o=$:o=n,e>=0&&e<=o&&o<=$?t.substring(e,o):y()}function vo(t,e,n,$){const o=t;o.val=`${o.val}${jd(e,n,n+$|0)}`}function Od(t,e){sf(e,{self:t,method_0:et,method_1:vo,method_2:Z})}function $s(t){return t<10?(t+48|0)&255:(((t+97|0)&255)-10|0)&255}function Ad(t){const e=$n();return Z(e,$s((t/16|0)&255)),Z(e,$s((t%16|0)&255)),e.val}function Ed(t){return n=>{const $=t.length;let o=0;for(;;){const s=o;if(s<$){const c=t[s];if(n(c)!==1)return 0;o=s+1|0;continue}else return 1}}}function qd(t){return n=>{const $=t.length;let o=0;for(;;){const s=o;if(s<$){const c=t[s];if(n(c)!==1)return 0;o=s+1|0;continue}else return 1}}}function zd(t){return t.$tag===0?y():t._0}function nt(t){return t>=0?t<=1?1:t>1073741824?1073741824:(2147483647>>(Math.clz32(t-1|0)-1|0))+1|0:y()}function g_(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Rd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Td(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Jd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Bd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Hd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Fd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Nd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Dd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Ud(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Vd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Wd(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function Xd(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function Yd(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function Kd(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function Qd(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function Zd(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function t2(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function e2(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function n2(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function o2(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function $2(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function s2(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function _2(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function ss(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function r$(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function a$(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function u$(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function _s(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function cs(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function is(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function rs(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function as(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function us(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function ls(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function ps(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function c2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,ss(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,ss(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function i2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,_s(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,_s(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function r2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,u$(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,u$(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function a2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,r$(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,r$(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function u2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,a$(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,a$(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function l2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,cs(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,cs(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function p2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,is(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,is(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function m2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,rs(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,rs(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function d2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,as(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,as(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function f2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,us(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,us(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function b2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,ls(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,ls(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function g2(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,ps(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,ps(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function h_(t,e,n,$){t.size>=t.grow_at&&h2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){c2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};Xd(t,_,u)}function k_(t,e,n,$){t.size>=t.grow_at&&k2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&_n(f.key,e)){f.value=n;return}if(l>f.psl){i2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};Yd(t,_,u)}function w_(t,e,n,$){t.size>=t.grow_at&&w2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){r2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};Kd(t,_,u)}function y_(t,e,n,$){t.size>=t.grow_at&&y2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){a2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};Qd(t,_,u)}function M_(t,e,n,$){t.size>=t.grow_at&&M2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){u2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};Zd(t,_,u)}function S_(t,e,n,$){t.size>=t.grow_at&&S2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){l2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};t2(t,_,u)}function C_(t,e,n,$){t.size>=t.grow_at&&C2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){p2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};e2(t,_,u)}function x_(t,e,n,$){t.size>=t.grow_at&&x2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;let k;if(f.hash===$){const w=f.key;k=w._0===e._0&&w._1===e._1}else k=!1;if(k){f.value=n;return}if(l>f.psl){m2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};n2(t,_,u)}function I_(t,e,n,$){t.size>=t.grow_at&&I2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;let k;if(f.hash===$){const w=f.key;k=w._0===e._0&&w._1===e._1}else k=!1;if(k){f.value=n;return}if(l>f.psl){d2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};o2(t,_,u)}function v_(t,e,n,$){t.size>=t.grow_at&&v2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){f2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};$2(t,_,u)}function L_(t,e,n,$){t.size>=t.grow_at&&L2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;if(f.hash===$&&f.key===e){f.value=n;return}if(l>f.psl){b2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};s2(t,_,u)}function P_(t,e,n,$){t.size>=t.grow_at&&P2(t);let o,s=0,c=$&t.capacity_mask;for(;;){const l=s,p=c,m=t.entries;d(m,p);const g=m[p];if(g===void 0){o={_0:p,_1:l};break}else{const f=g;let k;if(f.hash===$){const w=f.key;k=w._0===e._0&&w._1===e._1}else k=!1;if(k){f.value=n;return}if(l>f.psl){g2(t,p,f),o={_0:p,_1:l};break}s=l+1|0,c=p+1&t.capacity_mask;continue}}const _=o._0,i=o._1,u={prev:t.tail,next:void 0,psl:i,hash:$,key:e,value:n};_2(t,_,u)}function h2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;h_(t,r,a,u),o=i;continue}}}function k2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;k_(t,r,a,u),o=i;continue}}}function w2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;w_(t,r,a,u),o=i;continue}}}function y2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;y_(t,r,a,u),o=i;continue}}}function M2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;M_(t,r,a,u),o=i;continue}}}function S2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;S_(t,r,a,u),o=i;continue}}}function C2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;C_(t,r,a,u),o=i;continue}}}function x2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;x_(t,r,a,u),o=i;continue}}}function I2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;I_(t,r,a,u),o=i;continue}}}function v2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;v_(t,r,a,u),o=i;continue}}}function L2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;L_(t,r,a,u),o=i;continue}}}function P2(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.value,u=_.hash;P_(t,r,a,u),o=i;continue}}}function C(t,e,n){h_(t,e,n,Yt(e))}function G_(t,e,n){k_(t,e,n,f_(e))}function G2(t,e,n){w_(t,e,n,ne(e))}function S$(t,e,n){y_(t,e,n,ne(e))}function j_(t,e,n){M_(t,e,n,ne(e))}function O_(t,e,n){S_(t,e,n,Yt(e))}function A_(t,e,n){C_(t,e,n,Yt(e))}function ro(t,e,n){x_(t,e,n,Be(e))}function l$(t,e,n){I_(t,e,n,Be(e))}function E_(t,e,n){v_(t,e,n,Yt(e))}function q_(t,e,n){L_(t,e,n,Yt(e))}function z_(t,e,n){P_(t,e,n,Be(e))}function A(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=g_(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];C(o,i._0,i._1),c=_+1|0;continue}else break}return o}function j2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Td(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];G_(o,i._0,i._1),c=_+1|0;continue}else break}return o}function O2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Jd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];S$(o,i._0,i._1),c=_+1|0;continue}else break}return o}function A2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Bd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];j_(o,i._0,i._1),c=_+1|0;continue}else break}return o}function E2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Hd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];O_(o,i._0,i._1),c=_+1|0;continue}else break}return o}function q2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Fd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];A_(o,i._0,i._1),c=_+1|0;continue}else break}return o}function R_(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Nd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];ro(o,i._0,i._1),c=_+1|0;continue}else break}return o}function z2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Dd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];l$(o,i._0,i._1),c=_+1|0;continue}else break}return o}function R2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Ud(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];E_(o,i._0,i._1),c=_+1|0;continue}else break}return o}function T2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Vd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];q_(o,i._0,i._1),c=_+1|0;continue}else break}return o}function J2(t){const e=t.length;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=Wd(n),s=t.length;let c=0;for(;;){const _=c;if(_<s){const i=t[_];z_(o,i._0,i._1),c=_+1|0;continue}else break}return o}function S(t,e){const n=Yt(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function T_(t,e){const n=f_(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;if(a.hash===n&&_n(a.key,e))return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function In(t,e){const n=ne(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function B2(t,e){const n=Yt(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function H2(t,e){const n=Yt(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function F2(t,e){const n=ne(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function N2(t,e){const n=ne(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function D2(t,e){const n=Be(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return;{const a=i;let u;if(a.hash===n){const l=a.key;u=l._0===e._0&&l._1===e._1}else u=!1;if(u)return a.value;if(s>a.psl)return;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function J_(t,e){const n=Be(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return-1;{const a=i;let u;if(a.hash===n){const l=a.key;u=l._0===e._0&&l._1===e._1}else u=!1;if(u)return a.value;if(s>a.psl)return-1;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function U2(t,e){const n=Yt(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)y();else{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s<=a.psl){$=s+1|0,o=c+1&t.capacity_mask;continue}else y()}}}function dt(t,e){const n=Yt(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)y();else{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s<=a.psl){$=s+1|0,o=c+1&t.capacity_mask;continue}else y()}}}function V2(t,e){const n=Yt(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)y();else{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s<=a.psl){$=s+1|0,o=c+1&t.capacity_mask;continue}else y()}}}function W2(t,e){const n=Yt(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)y();else{const a=i;if(a.hash===n&&a.key===e)return a.value;if(s<=a.psl){$=s+1|0,o=c+1&t.capacity_mask;continue}else y()}}}function X2(t,e){const n=ne(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return!1;{const a=i;if(a.hash===n&&a.key===e)return!0;if(s>a.psl)return!1;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function Y2(t,e){const n=e.prev;if(n===-1)t.head=e.next;else{const o=t.entries;d(o,n);const s=o[n];let c;s===void 0?c=y():c=s;const _=c;_.next=e.next}const $=e.next;if($===void 0){t.tail=e.prev;return}else{const s=$;s.prev=e.prev;return}}function K2(t,e){const n=e.prev;if(n===-1)t.head=e.next;else{const o=t.entries;d(o,n);const s=o[n];let c;s===void 0?c=y():c=s;const _=c;_.next=e.next}const $=e.next;if($===void 0){t.tail=e.prev;return}else{const s=$;s.prev=e.prev;return}}function Q2(t,e){const n=e.prev;if(n===-1)t.head=e.next;else{const o=t.entries;d(o,n);const s=o[n];let c;s===void 0?c=y():c=s;const _=c;_.next=e.next}const $=e.next;if($===void 0){t.tail=e.prev;return}else{const s=$;s.prev=e.prev;return}}function Z2(t,e){let n=e;for(;;){const $=n,o=$+1&t.capacity_mask;t:{const c=t.entries;d(c,o);const _=c[o];if(_===void 0)break t;{const r=_;if(r.psl===0)break t;r.psl=r.psl-1|0,r$(t,r,$),n=o;continue}}const s=t.entries;d(s,$),s[$]=void 0;return}}function t1(t,e){let n=e;for(;;){const $=n,o=$+1&t.capacity_mask;t:{const c=t.entries;d(c,o);const _=c[o];if(_===void 0)break t;{const r=_;if(r.psl===0)break t;r.psl=r.psl-1|0,a$(t,r,$),n=o;continue}}const s=t.entries;d(s,$),s[$]=void 0;return}}function e1(t,e){let n=e;for(;;){const $=n,o=$+1&t.capacity_mask;t:{const c=t.entries;d(c,o);const _=c[o];if(_===void 0)break t;{const r=_;if(r.psl===0)break t;r.psl=r.psl-1|0,u$(t,r,$),n=o;continue}}const s=t.entries;d(s,$),s[$]=void 0;return}}function n1(t,e,n){let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)break;{const a=i;if(a.hash===n&&a.key===e){Y2(t,a),Z2(t,c),t.size=t.size-1|0;break}if(s>a.psl)break;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function o1(t,e,n){let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)break;{const a=i;if(a.hash===n&&a.key===e){K2(t,a),t1(t,c),t.size=t.size-1|0;break}if(s>a.psl)break;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function $1(t,e,n){let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)break;{const a=i;if(a.hash===n&&a.key===e){Q2(t,a),e1(t,c),t.size=t.size-1|0;break}if(s>a.psl)break;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function Lo(t,e){n1(t,e,ne(e))}function Po(t,e){o1(t,e,ne(e))}function B_(t,e){$1(t,e,ne(e))}function s1(t,e,n,$){const o=t.length;if(o>0)if(n<o){let s;s=o-n|0,t.fill(e,n,n+s);return}else{y();return}else return}function _1(t){const e={val:t.head};return()=>{const $=e.val;if($!==void 0){const s=$,c=s.key,_=s.value,i=s.next;return e.val=i,{_0:c,_1:_}}}}function c1(t){const e={val:t.head};return()=>{const $=e.val;if($!==void 0){const s=$,c=s.key,_=s.value,i=s.next;return e.val=i,{_0:c,_1:_}}}}function H_(t){return n=>{let $=t.head;for(;;){const o=$;if(o===void 0)return 1;{const c=o,_=c.value,i=c.next;if(n(_)===1){$=i;continue}else return 0}}}}function C$(t){return n=>{let $=t.head;for(;;){const o=$;if(o===void 0)return 1;{const c=o,_=c.value,i=c.next;if(n(_)===1){$=i;continue}else return 0}}}}function F_(t){return n=>{let $=t.head;for(;;){const o=$;if(o===void 0)return 1;{const c=o,_=c.value,i=c.next;if(n(_)===1){$=i;continue}else return 0}}}}function i1(t){const e=E2([]);return t(n=>(O_(e,n._0,n._1),1)),e}function r1(t){const e=q2([]);return t(n=>(A_(e,n._0,n._1),1)),e}function a1(t){const e=R2([]);return t(n=>(E_(e,n._0,n._1),1)),e}function u1(t){const e=T2([]);return t(n=>(q_(e,n._0,n._1),1)),e}function l1(t){return t()}function st(t){return t()}function p1(t){return t()}function m1(t){return t()}function xt(t){return t?Ts:Js}function H(t){const e=t+0,n=void 0;return new Mn(e,n)}function d1(t){return{hi:0,lo:t}}function x$(t){return d1(t)}function p$(t){return x$(t)}function ao(t){return di(t)}function Re(t){return fi(t)}function f1(t){if(t!==t){const e="NaN";return new q(e)}else if(t>Re(bi)){const e="Infinity";return new q(e)}else if(t<Re(gi)){const e="-Infinity";return new q(e)}else return new Mn(t,void 0)}function At(t){const e=t,n=void 0;return new Mn(e,n)}function b1(t){const e=new Array(t.length),n=t.length;let $=0;for(;;){const o=$;if(o<n){const s=t[o];e[o]=O$(s),$=o+1|0;continue}else break}return new Lt(e)}function Go(t){const e=new Array(t.length),n=t.length;let $=0;for(;;){const o=$;if(o<n){const s=t[o];e[o]=A$(s),$=o+1|0;continue}else break}return new Lt(e)}function g1(t){const e=new Array(t.length),n=t.length;let $=0;for(;;){const o=$;if(o<n){const s=t[o];e[o]=Lc(s),$=o+1|0;continue}else break}return new Lt(e)}function h1(t){const e=new Array(t.length),n=t.length;let $=0;for(;;){const o=$;if(o<n){const s=t[o];e[o]=pd(s),$=o+1|0;continue}else break}return new Lt(e)}function k1(t){const e=new Array(t.length),n=t.length;let $=0;for(;;){const o=$;if(o<n){const s=t[o];e[o]=md(s),$=o+1|0;continue}else break}return new Lt(e)}function w1(t){if(t.length===0){const s=[];return new Lt(s)}const n=new Array(t.length),$=t.length;let o=0;for(;;){const s=o;if(s<$){const c=t[s];n[s]=Pc(c),o=s+1|0;continue}else break}return new Lt(n)}function ms(t,e){Gt(t,e)}function y1(t,e){Gt(t,e)}function M1(t,e){Gt(t,e)}function Ct(t,e){Gt(t,e)}function uo(t,e){Gt(t,e)}function ds(t,e){Gt(t,e)}function Et(t,e){Gt(t,e)}function S1(t,e){Gt(t,e)}function C1(t,e){Gt(t,e)}function N_(t,e){Gt(t,e)}function x1(t,e){Gt(t,e)}function I1(t,e){Gt(t,e)}function fs(t,e){Gt(t,e)}function v1(t,e){Gt(t,e)}function L1(t,e){Gt(t,e)}function P1(t,e){return t(e)}function G1(t,e){return sd(P1(t,n=>e(n)?0:1))}function j1(){return t=>1}function bs(t){return e=>e(t)}function O1(t,e){return n=>t(n)===1&&e(n)===1?1:0}function A1(t){const e=[];return t(n=>(y1(e,n),1)),e}function E1(t){const e=[];return t(n=>(L1(e,n),1)),e}function gs(t){return b_(t)&255}function lo(t){return Ht(t)}function q1(t){return t.lo===0?{hi:~t.hi+1|0,lo:0}:{hi:~t.hi,lo:~t.lo+1|0}}function D_(t,e,n){const $=t.hi,o=t.lo,s=o+n|0,c=s>>31,_=o>>31,i=n>>31,r=(_&i|~c&(_^i))&1;return{hi:($+e|0)+r|0,lo:s}}function U_(t,e){return D_(t,e.hi,e.lo)}function V_(t,e){return e.lo===0?{hi:t.hi-e.hi|0,lo:t.lo}:D_(t,~e.hi,~e.lo+1|0)}function W_(t,e){const n=t.hi,$=t.lo,o=e.hi,s=e.lo,c=n,_=$,i=o,r=s,a=c>>>16|0,u=c&65535,l=_>>>16|0,p=_&65535,m=i>>>16|0,g=i&65535,b=r>>>16|0,f=r&65535,k=Math.imul(p,f)|0,w=k>>>16|0,v=k&65535,M=(w>>>0)+((Math.imul(l,f)|0)>>>0)|0,I=M>>>16|0,z=((M&65535)>>>0)+((Math.imul(p,b)|0)>>>0)|0,x=(I>>>0)+((z>>>16|0)>>>0)|0,O=z&65535,R=(x>>>0)+((Math.imul(u,f)|0)>>>0)|0,B=R>>>16|0,F=((R&65535)>>>0)+((Math.imul(l,b)|0)>>>0)|0,T=(B>>>0)+((F>>>16|0)>>>0)|0,wt=((F&65535)>>>0)+((Math.imul(p,g)|0)>>>0)|0,Ot=(T>>>0)+((wt>>>16|0)>>>0)|0,Ut=wt&65535;return{hi:(((((((((Ot>>>0)+((Math.imul(a,f)|0)>>>0)|0)>>>0)+((Math.imul(u,b)|0)>>>0)|0)>>>0)+((Math.imul(l,g)|0)>>>0)|0)>>>0)+((Math.imul(p,m)|0)>>>0)|0)&65535)<<16|Ut,lo:O<<16|v}}function z1(t,e){if(e.hi===0&&e.lo===0)return y();{const n=h$(),$=t.hi,o=t.lo,s=e.hi,c=e.lo,_=n.div_s,i=_(o,$,c,s),r=n.get_high;return{hi:r(),lo:i}}}function R1(t,e){if(e.hi===0&&e.lo===0)return y();{const n=h$(),$=t.hi,o=t.lo,s=e.hi,c=e.lo,_=n.div_u,i=_(o,$,c,s),r=n.get_high;return{hi:r(),lo:i}}}function T1(t,e){if(e.hi===0&&e.lo===0)return y();{const n=h$(),$=t.hi,o=t.lo,s=e.hi,c=e.lo,_=n.rem_u,i=_(o,$,c,s),r=n.get_high;return{hi:r(),lo:i}}}function J1(t){return{hi:~t.hi,lo:~t.lo}}function X_(t,e){return{hi:t.hi&e.hi,lo:t.lo&e.lo}}function Y_(t,e){return{hi:t.hi|e.hi,lo:t.lo|e.lo}}function K_(t,e){const n=e&63;if(n===0)return t;if(n<32){const $=t.hi,o=t.lo,s=$,c=o,_=s<<n|(c>>>(32-n|0)|0),i=c<<n;return{hi:_,lo:i}}else return{hi:t.lo<<(n-32|0),lo:0}}function B1(t,e){const n=e&63;return n===0?t:n<32?{hi:t.hi>>>n|0,lo:t.lo>>>n|t.hi<<(32-n|0)}:{hi:0,lo:t.hi>>>(n-32|0)|0}}function H1(t,e){const n=e&63;return n===0?t:n<32?{hi:t.hi>>n,lo:t.lo>>>n|t.hi<<(32-n|0)}:{hi:t.hi>>31,lo:t.hi>>(n-32|0)}}function Q_(t){return q1(t)}function _e(t,e){return U_(t,e)}function fn(t,e){return V_(t,e)}function Te(t,e){return W_(t,e)}function be(t,e){return z1(t,e)}function Z_(t,e){return X_(t,e)}function hs(t,e){return Y_(t,e)}function F1(t,e){return H1(t,e)}function je(t,e){return K_(t,e)}function ks(t,e){const n=t,$=e;return n.hi===$.hi&&n.lo===$.lo}function jo(t,e){return hi(t,e)}function N1(t){return wi(t)}function D1(t){return N1(t)}function ge(t,e){return U_(t,e)}function m$(t,e){return V_(t,e)}function Vt(t,e){return W_(t,e)}function U1(t,e){return R1(t,e)}function V1(t,e){return T1(t,e)}function ws(t){return t.lo}function Oo(t,e){return ki(t,e)}function he(t,e){const n=t,$=e;return n.hi===$.hi&&n.lo===$.lo}function Ae(t,e){return X_(t,e)}function W1(t,e){return Y_(t,e)}function X1(t){return J1(t)}function bn(t,e){return K_(t,e)}function Qt(t,e){return B1(t,e)}function ys(t){const e=t;return e.hi!==0?Math.clz32(e.hi):32+Math.clz32(e.lo)|0}function Y1(t,e){const n=(t.acc>>>0)+((Math.imul(e,-1028477379)|0)>>>0)|0,$=17;t.acc=Math.imul(n<<$|(n>>>(32-$|0)|0),668265263)|0}function tc(t,e){t.acc=(t.acc>>>0)+4|0,Y1(t,e)}function Ve(t,e){tc(t,e)}function K1(t,e){const n=e.length;let $=0;for(;;){const o=$;if(o<n){tc(t,e.charCodeAt(o)),$=o+1|0;continue}else return}}function Q1(t,e){K1(e,t)}function Z1(t,e){Ve(e,t)}function po(t,e,n,$,o){if(o>=0&&$>=0&&(o+n|0)<=e.length&&($+n|0)<=t.length){ed(e,o,t,$,n);return}else{re(`bounds check failed: dst_offset = ${yt(o)}, src_offset = ${yt($)}, len = ${yt(n)}, dst.length = ${yt(e.length)}, self.length = ${yt(t.length)}`);return}}function tf(t,e,n,$,o){if((o+n|0)<=e.length&&($+n|0)<=t.length){nd(e,o,t,$,n);return}else{re(`bounds check failed: dst_offset = ${yt(o)}, src_offset = ${yt($)}, len = ${yt(n)}, dst.length = ${yt(e.length)}, self.length = ${yt(t.length)}`);return}}function d$(t){console.log(t)}function ef(t){return yi(t)}function Ms(t){if(t.length!==0)return ef(t)}function I$(t,e){if(e>=0&&e<t.length){d(t,e);const n=t[e];return Fs(t,e,1),n}else return D0(`index out of bounds: the len is from 0 to ${yt(t.length)} but the index is ${yt(e)}`)}function nf(t,e){if(e>=0&&e<t.length){d(t,e);const n=t[e];return Fs(t,e,1),n}else return X0(`index out of bounds: the len is from 0 to ${yt(t.length)} but the index is ${yt(e)}`)}function of(t,e){{const n=K(t,e(0));let $=1;for(;;){const o=$;if(o<t){d(n,o),n[o]=e(o),$=o+1|0;continue}else break}return n}}function $f(t){return Mi(t)}function sf(t,e){e.method_0(e.self,String(t))}function Xn(t,e){if(e>=0&&e<(t.end-t.start|0)){const n=t.bytes,$=t.start+e|0;return d(n,$),n[$]}else return K0(`index out of bounds: the len is from 0 to ${yt(t.end-t.start|0)} but the index is ${yt(e)}`)}function _f(t,e,n){const $=t.length;let o;if(n===void 0)o=$;else{const _=n;o=_<0?$+_|0:_}const s=e<0?$+e|0:e;return s>=0&&s<=o&&o<=$?{bytes:t,start:s,end:o}:Y0()}function cf(t){const e=Xn(t,0),n=Xn(t,1),$=(e>>>0)+(n<<8>>>0)|0,o=Xn(t,2),s=($>>>0)+(o<<16>>>0)|0,c=Xn(t,3);return(s>>>0)+(c<<24>>>0)|0}function rf(t,e){return{elem_info:0|1<<t,data:[e]}}function v$(t,e){if(t.elem_info&1<<e){const $=t.data,o=t.elem_info,s=ho(o&((1<<e>>>0)-1|0));return d($,s),$[s]}else return}function af(t,e,n,$){return{elem_info:0|1<<t|1<<n,data:t<n?[e,$]:[$,e]}}function uf(t,e,n){const $=t.data,o=$.length,s=o+1|0,c=t.elem_info,_=ho(c&((1<<e>>>0)-1|0)),i=K(s,n);return po($,i,_,0,0),po($,i,o-_|0,_,_+1|0),{elem_info:t.elem_info|1<<e,data:i}}function lf(t,e){const n=t.data,$=n.length,o=t.elem_info,s=ho(o&((1<<e>>>0)-1|0)),c=K($-1|0,n[0]);return po(n,c,s,0,0),po(n,c,($-s|0)-1|0,s+1|0,s),{elem_info:t.elem_info^1<<e,data:c}}function ec(t,e,n){const $=$f(t.data),o=t.elem_info,s=ho(o&((1<<e>>>0)-1|0));return d($,s),$[s]=n,{elem_info:t.elem_info,data:$}}function pf(t,e,n){d(e,0),e[0]=1634760805,d(e,1),e[1]=1634760805,d(e,2),e[2]=1634760805,d(e,3),e[3]=1634760805,d(e,4),e[4]=857760878,d(e,5),e[5]=857760878,d(e,6),e[6]=857760878,d(e,7),e[7]=857760878,d(e,8),e[8]=2036477234,d(e,9),e[9]=2036477234,d(e,10),e[10]=2036477234,d(e,11),e[11]=2036477234,d(e,12),e[12]=1797285236,d(e,13),e[13]=1797285236,d(e,14),e[14]=1797285236,d(e,15),e[15]=1797285236,d(t,0),d(e,16),e[16]=t[0],d(t,0),d(e,17),e[17]=t[0],d(t,0),d(e,18),e[18]=t[0],d(t,0),d(e,19),e[19]=t[0],d(t,1),d(e,20),e[20]=t[1],d(t,1),d(e,21),e[21]=t[1],d(t,1),d(e,22),e[22]=t[1],d(t,1),d(e,23),e[23]=t[1],d(t,2),d(e,24),e[24]=t[2],d(t,2),d(e,25),e[25]=t[2],d(t,2),d(e,26),e[26]=t[2],d(t,2),d(e,27),e[27]=t[2],d(t,3),d(e,28),e[28]=t[3],d(t,3),d(e,29),e[29]=t[3],d(t,3),d(e,30),e[30]=t[3],d(t,3),d(e,31),e[31]=t[3],d(t,4),d(e,32),e[32]=t[4],d(t,4),d(e,33),e[33]=t[4],d(t,4),d(e,34),e[34]=t[4],d(t,4),d(e,35),e[35]=t[4],d(t,5),d(e,36),e[36]=t[5],d(t,5),d(e,37),e[37]=t[5],d(t,5),d(e,38),e[38]=t[5],d(t,5),d(e,39),e[39]=t[5],d(t,6),d(e,40),e[40]=t[6],d(t,6),d(e,41),e[41]=t[6],d(t,6),d(e,42),e[42]=t[6],d(t,6),d(e,43),e[43]=t[6],d(t,7),d(e,44),e[44]=t[7],d(t,7),d(e,45),e[45]=t[7],d(t,7),d(e,46),e[46]=t[7],d(t,7),d(e,47),e[47]=t[7],d(e,48),e[48]=n,d(e,49),e[49]=(n>>>0)+1|0,d(e,50),e[50]=(n>>>0)+2|0,d(e,51),e[51]=(n>>>0)+3|0,d(e,52),e[52]=0,d(e,53),e[53]=0,d(e,54),e[54]=0,d(e,55),e[55]=0,d(e,56),e[56]=0,d(e,57),e[57]=0,d(e,58),e[58]=0,d(e,59),e[59]=0,d(e,60),e[60]=0,d(e,61),e[61]=0,d(e,62),e[62]=0,d(e,63),e[63]=0}function fe(t){const e=t._0,n=t._1,$=t._2,o=t._3,s=(e>>>0)+(n>>>0)|0,c=o^s,_=c<<16|(c>>>16|0),i=($>>>0)+(_>>>0)|0,r=n^i,a=r<<12|(r>>>20|0),u=(s>>>0)+(a>>>0)|0,l=_^u,p=l<<8|(l>>>24|0),m=(i>>>0)+(p>>>0)|0,g=a^m,b=g<<7|(g>>>25|0);return{_0:u,_1:b,_2:m,_3:p}}function nc(t,e,n){pf(t,e,n);let $=0;for(;;){const o=$;if(o<4){d(e,o);let s=e[o];const c=4+o|0;d(e,c);let _=e[c];const i=8+o|0;d(e,i);let r=e[i];const a=12+o|0;d(e,a);let u=e[a];const l=16+o|0;d(e,l);let p=e[l];const m=20+o|0;d(e,m);let g=e[m];const b=24+o|0;d(e,b);let f=e[b];const k=28+o|0;d(e,k);let w=e[k];const v=32+o|0;d(e,v);let M=e[v];const I=36+o|0;d(e,I);let P=e[I];const z=40+o|0;d(e,z);let x=e[z];const O=44+o|0;d(e,O);let R=e[O];const B=48+o|0;d(e,B);let D=e[B];const F=52+o|0;d(e,F);let T=e[F];const pt=56+o|0;d(e,pt);let wt=e[pt];const Ot=60+o|0;d(e,Ot);let Ut=e[Ot],ae=0;for(;;){const X$=ae;if(X$<4){const Tn=fe({_0:s,_1:p,_2:M,_3:D});s=Tn._0,p=Tn._1,M=Tn._2,D=Tn._3;const Jn=fe({_0:_,_1:g,_2:P,_3:T});_=Jn._0,g=Jn._1,P=Jn._2,T=Jn._3;const Bn=fe({_0:r,_1:f,_2:x,_3:wt});r=Bn._0,f=Bn._1,x=Bn._2,wt=Bn._3;const Hn=fe({_0:u,_1:w,_2:R,_3:Ut});u=Hn._0,w=Hn._1,R=Hn._2,Ut=Hn._3;const Fn=fe({_0:s,_1:g,_2:x,_3:Ut});s=Fn._0,g=Fn._1,x=Fn._2,Ut=Fn._3;const Nn=fe({_0:_,_1:f,_2:R,_3:D});_=Nn._0,f=Nn._1,R=Nn._2,D=Nn._3;const Dn=fe({_0:r,_1:w,_2:M,_3:T});r=Dn._0,w=Dn._1,M=Dn._2,T=Dn._3;const Un=fe({_0:u,_1:p,_2:P,_3:wt});u=Un._0,p=Un._1,P=Un._2,wt=Un._3,ae=X$+1|0;continue}else break}d(e,o),e[o]=s;const Kt=4+o|0;d(e,Kt),e[Kt]=_;const De=8+o|0;d(e,De),e[De]=r;const N$=12+o|0;d(e,N$),e[N$]=u;const Gn=16+o|0;d(e,Gn),d(e,Gn),e[Gn]=(e[Gn]>>>0)+(p>>>0)|0;const jn=20+o|0;d(e,jn),d(e,jn),e[jn]=(e[jn]>>>0)+(g>>>0)|0;const On=24+o|0;d(e,On),d(e,On),e[On]=(e[On]>>>0)+(f>>>0)|0;const An=28+o|0;d(e,An),d(e,An),e[An]=(e[An]>>>0)+(w>>>0)|0;const En=32+o|0;d(e,En),d(e,En),e[En]=(e[En]>>>0)+(M>>>0)|0;const qn=36+o|0;d(e,qn),d(e,qn),e[qn]=(e[qn]>>>0)+(P>>>0)|0;const zn=40+o|0;d(e,zn),d(e,zn),e[zn]=(e[zn]>>>0)+(x>>>0)|0;const Rn=44+o|0;d(e,Rn),d(e,Rn),e[Rn]=(e[Rn]>>>0)+(R>>>0)|0;const D$=48+o|0;d(e,D$),e[D$]=D;const U$=52+o|0;d(e,U$),e[U$]=T;const V$=56+o|0;d(e,V$),e[V$]=wt;const W$=60+o|0;d(e,W$),e[W$]=Ut,$=o+1|0;continue}else return}}function mf(t){const e=of(8,o=>cf(_f(t,Math.imul(o,4)|0,(Math.imul(o,4)|0)+4|0))),n=K(64,0);return nc(e,n,0),{buffer:n,seed:e,i:0,n:32,counter:0}}function df(t){const e=t.i;if(e>>>0>=t.n>>>0)return;t.i=(e>>>0)+1|0;const n=e&31,$=t.buffer,o=Math.imul(n,2)|0;d($,o);const s=p$($[o]),c=t.buffer,_=(Math.imul(n,2)|0)+1|0;d(c,_);const i=p$(c[_]);return W1(bn(i,32),s)}function ff(t){t.counter=(t.counter>>>0)+4|0,t.counter===16&&(tf(t.buffer,t.seed,8,56,0),t.counter=0),nc(t.seed,t.buffer,t.counter),t.i=0,t.n=t.counter===12?28:32}function bf(t,e,n){let $=t,o=n;t:for(;;){const s=$,c=o;switch(s.$tag){case 1:{const _=s,i=_._0,r=_._1,a=_._2;return e===i?r:zf(a,e)}case 0:{const _=s,i=_._0,r=_._1,a=_._2;return c===a&&e===i?r:void 0}default:{const i=s._0,a=c&31,u=v$(i,a);if(u!==void 0){$=u,o=c>>>5|0;continue t}return}}}}function gf(t,e){const n=t;if(n!==void 0)return bf(n,e,mo(e))}function oc(t,e,n,$,o,s){const _=n&31,r=s&31;if(_===r){let a;if(n>>>0<=127){const l={_0:t,_1:e};a=new ke($,o,new pn(l,We))}else{const p=n>>>5|0;a=oc(t,e,p,$,o,s>>>5|0)}return new Ke(rf(_,a))}else{let a,u;t:if(n>>>0<=127){const p=new ke(t,e,We),m=new ke($,o,We);a=p,u=m;break t}else{const p=n,m=new Ee(t,e,p>>>5|0),g=s,b=new Ee($,o,g>>>5|0);a=m,u=b;break t}return new Ke(af(_,a,r,u))}}function $c(t,e,n,$){switch(t.$tag){case 1:{const o=t,s=o._0,c=o._1,_=o._2;if(e===s)return new ke(e,n,_);{const i=lc(_,u=>u._0===e);let r;i===void 0?r=_:r=pc(_,i);const a={_0:s,_1:c};return new ke(e,n,new pn(a,r))}}case 0:{const o=t,s=o._0,c=o._1,_=o._2;return $===_&&e===s?new Ee(s,n,_):oc(s,c,_,e,n,$)}default:{const s=t._0,_=$&31,i=v$(s,_);if(i===void 0){const r=$,a=new Ee(e,n,r>>>5|0);return new Ke(uf(s,_,a))}else{const l=$c(i,e,n,$>>>5|0);return new Ke(ec(s,_,l))}}}}function eo(t,e,n){const $=t;return $===void 0?new Ee(e,n,mo(e)):$c($,e,n,mo(e))}function sc(t,e,n){switch(t.$tag){case 1:{const $=t,o=$._0,s=$._1,c=$._2;if(o===e){if(c.$tag===0)return;{const _=c,i=_._0,r=i._0,a=i._1,u=_._1;return new ke(r,a,u)}}else{const _=lc(c,i=>i._0===e);if(_===void 0)return t;{const r=_;return new ke(o,s,pc(c,r))}}}case 0:{const $=t,o=$._0,s=$._2;return n===s&&e===o?void 0:t}default:{const o=t._0,c=n&31,_=v$(o,c);if(_===void 0)return t;{const u=sc(_,e,n>>>5|0);let l,p;t:{e:{if(o.data.length===1){if(u===void 0)return;p=u;break e}else if(u===void 0)l=lf(o,c);else{p=u;break e}break t}l=ec(o,c,p)}t:{const m=l.data;if(m.length===1){const g=m[0];if(g.$tag===0){const b=g,f=b._0,k=b._1,w=b._2,v=l.elem_info,M=Si(v),I=w;return new Ee(f,k,I<<5|M)}else break t}else break t}return new Ke(l)}}}}function hf(t,e){const n=t;if(n!==void 0)return sc(n,e,mo(e))}function _c(t){switch(t.$tag){case 1:{const e=t,n=e._0,$=e._1,o=e._2;return O1(bs({_0:n,_1:$}),qf(o))}case 0:{const e=t,n=e._0,$=e._1;return bs({_0:n,_1:$})}default:{const $=t._0.data;return o=>{const s=$.length;let c=0;for(;;){const _=c;if(_<s){const i=$[_];if(_c(i)(o)===1){c=_+1|0;continue}else return 0}else return 1}}}}}function kf(t){const e=t;return e===void 0?j1():_c(e)}function wf(t){const e=kf(t);return n=>e($=>n($._1))}function mo(t){return ne(t)|-1073741824}function Ao(t,e){let n=1,$=0,o=0;for(;;){const s=o;if(s<e){const c=t.str,_=t.start+s|0;c.charCodeAt(_)===10?(n=n+1|0,$=0):$=$+1|0,o=s+1|0;continue}else break}return{line:n,column:$}}function yf(t,e){const n=t.offset+e|0,$=qo(t.input,n),o=65533;return new ko(new Sn(Ao(t.input,n),$===-1?o:$))}function Xt(t,e){const n=t.offset+e|0,$=qo(t.input,n),o=65533;return new wo(new Sn(Ao(t.input,n),$===-1?o:$))}function L$(t,e){const n=t.offset+e|0,$=qo(t.input,n),o=65533;return new Cn(new Sn(Ao(t.input,n),$===-1?o:$))}function Eo(t,e){const n=t.offset+e|0,$=qo(t.input,n),o=65533;return new Se(new Sn(Ao(t.input,n),$===-1?o:$))}function cc(t,e){const n=t;let $=0,o=n.length;for(;;){const s=$,c=o;if(s<c){const _=(s+c|0)/2|0,i=ad(n,_),r=i._0,a=i._1;if(e<r){o=_;continue}else if(e>a){$=_+1|0;continue}else return!0}else return!1}}function bt(t){if(t.offset<t.end_offset){const e=t.input,n=t.offset,$=e.str,o=e.start+n|0,s=$.charCodeAt(o);if(t.offset=t.offset+1|0,s>=55296&&s<=56319&&t.offset<t.end_offset){const c=t.input,_=t.offset,i=c.str,r=c.start+_|0,a=i.charCodeAt(r);if(a>=56320&&a<=57343)return t.offset=t.offset+1|0,((s<<10)+a|0)-56613888|0}return s}else return-1}function sn(t){t:for(;;)e:{n:{const e=bt(t);if(e===-1)break;{const $=e;switch($){case 9:break n;case 32:break n;case 10:break n;case 13:break n;default:{if($>127&&cc(p_,$))break e;t.offset=t.offset-1|0;break t}}}}break e}}function Mf(t,e){return{offset:0,input:t,end_offset:t.end-t.start|0,remaining_available_depth:e}}function oe(t,e){if(t.offset<t.end_offset){const n=t.input,$=t.offset,o=n.str,s=n.start+$|0,c=o.charCodeAt(s);return t.offset=t.offset+1|0,e!==c?Xt(t,-1):new k$(void 0)}else return new wo(qt)}function Ce(t,e,n){const $=bc(t.input,e,n);if(!Ko($,{str:K$,start:0,end:K$.length})&&!Ko($,{str:Q$,start:0,end:Q$.length})&&!Ko($,{str:Z$,start:0,end:Z$.length})){let o,s;t:{e:{const c=mc($);let _;if(c.$tag===1)_=c._0;else{s=c._0;break e}o=new w$(_);break t}o=new yo(s)}t:if(o.$tag===1){const _=o._0;if(dn(_,Ci)&&_$(_,xi))return{_0:D1(_),_1:void 0};break t}else break t;t:if(tt($.str,1,$.start,$.end)){if(L($.str,h($.str,0,$.start,$.end))===45)return{_0:$$,_1:$};break t}else break t;return{_0:s$,_1:$}}else{let o,s;t:{e:{const c=lb($);let _;if(c.$tag===1)_=c._0;else{s=c._0;break e}o=new we(_);break t}o=new y$(s)}if(o.$tag===1)return{_0:o._0,_1:void 0};t:if(tt($.str,1,$.start,$.end)){if(L($.str,h($.str,0,$.start,$.end))===45)return{_0:$$,_1:$};break t}else break t;return{_0:s$,_1:$}}}function ic(t,e){for(;;)t:{const n=bt(t);if(n===-1)return Ce(t,e,t.offset);{const o=n;if(o>=48&&o<=57)break t;return t.offset=t.offset-1|0,Ce(t,e,t.offset)}}}function Sf(t,e){const n=bt(t);if(n===-1)return new Cn(qt);{const o=n;return o>=48&&o<=57?new Bt(ic(t,e)):(t.offset=t.offset-1|0,L$(t,0))}}function P$(t,e){t:{const o=bt(t);if(o===-1)return new Cn(qt);{const c=o;switch(c){case 43:break t;case 45:break t;default:return c>=48&&c<=57?new Bt(ic(t,e)):(t.offset=t.offset-1|0,L$(t,0))}}}const n=Sf(t,e);let $;if(n.$tag===1)$=n._0;else return n;return new Bt($)}function Cf(t,e){for(;;)t:{e:{const o=bt(t);if(o===-1)return new Bt(Ce(t,e,t.offset));{const c=o;switch(c){case 101:break e;case 69:break e;default:{if(c>=48&&c<=57)break t;return t.offset=t.offset-1|0,new Bt(Ce(t,e,t.offset))}}}}const n=P$(t,e);let $;if(n.$tag===1)$=n._0;else return n;return new Bt($)}}function rc(t,e){const n=bt(t);if(n===-1)return new Cn(qt);{const o=n;return o>=48&&o<=57?Cf(t,e):L$(t,-1)}}function Ss(t,e){for(;;)t:{e:{const o=bt(t);if(o===-1)return new Bt(Ce(t,e,t.offset));{const c=o;switch(c){case 46:{const _=rc(t,e);let i;if(_.$tag===1)i=_._0;else return _;return new Bt(i)}case 101:break e;case 69:break e;default:{if(c>=48&&c<=57)break t;return t.offset=t.offset-1|0,new Bt(Ce(t,e,t.offset))}}}}const n=P$(t,e);let $;if(n.$tag===1)$=n._0;else return n;return new Bt($)}}function xf(t,e){let n=0,$=0;for(;;){const o=$;if(o<e){const s=bt(t);if(s===-1)return new Ds(qt);{const _=s;if(_>=65){const i=((_&-33)-65|0)+10|0;if(i>15){const r=Xt(t,-1);if(r.$tag===1)r._0;else return r}n=n<<4|i}else if(_>=48){const i=_-48|0;if(i>9){const r=Xt(t,-1);if(r.$tag===1)r._0;else return r}n=n<<4|i}else{const i=Xt(t,-1);if(i.$tag===1)i._0;else return i}}$=o+1|0;continue}else break}return new Us(n)}function Cs(t,e){const n=t._2,$=t._1,o=t._0;if(o.val>0&&e>o.val){const c=$.input.str,i=$.input.start;vo(n,c,i+o.val|0,e-o.val|0);return}else return}function G$(t){const e=$n(),n={val:t.offset},$={_0:n,_1:t,_2:e};t:for(;;)e:{n:{o:{const s=bt(t);if(s===-1)return new e$(qt);{const _=s;switch(_){case 34:{Cs($,t.offset-1|0);break t}case 10:break o;case 13:break o;case 92:{Cs($,t.offset-1|0);const i=bt(t);if(i===-1)return new e$(qt);switch(i){case 98:{Z(e,8);break}case 102:{Z(e,12);break}case 110:{Z(e,10);break}case 114:{Z(e,13);break}case 116:{Z(e,9);break}case 34:{Z(e,34);break}case 92:{Z(e,92);break}case 47:{Z(e,47);break}case 117:{const u=xf(t,4);let l;if(u.$tag===1)l=u._0;else return u;Z(e,l);break}default:{const u=Xt(t,-1);if(u.$tag===1)u._0;else return u}}n.val=t.offset;break}default:if(_<32){const i=Xt(t,-1);if(i.$tag===1)i._0;else return i}else break e}}break n}const o=Xt(t,-1);if(o.$tag===1)o._0;else return o}break e}return new Vs(e.val)}function xs(t,e){t:{const n=bt(t);if(n===-1)return new Bt(Ce(t,e,t.offset));{const o=n;switch(o){case 46:return rc(t,e);case 101:break t;case 69:break t;default:{if(o>=48&&o<=57){t.offset=t.offset-1|0;const s=Xt(t,0);if(s.$tag===1)s._0;else return s}return t.offset=t.offset-1|0,new Bt(Ce(t,e,t.offset))}}}}return P$(t,e)}function f$(t,e){for(;;)t:{e:{n:{const n=bt(t);if(n===-1)return new Se(qt);{const o=n;if(o===9)break n;if(o===32)break n;if(o===10)break n;if(o===13)break n;if(o===123)return new ut(Pi);if(o===91)return new ut(Gi);if(o===93){if(e)return new ut(Xs);{const s=Xt(t,-1);if(s.$tag===1)s._0;else return s}}else if(o===110){const s=oe(t,117);if(s.$tag===1)s._0;else return s;const c=oe(t,108);if(c.$tag===1)c._0;else return c;const _=oe(t,108);if(_.$tag===1)_._0;else return _;return new ut(Ii)}else if(o===116){const s=oe(t,114);if(s.$tag===1)s._0;else return s;const c=oe(t,117);if(c.$tag===1)c._0;else return c;const _=oe(t,101);if(_.$tag===1)_._0;else return _;return new ut(vi)}else if(o===102){const s=oe(t,97);if(s.$tag===1)s._0;else return s;const c=oe(t,108);if(c.$tag===1)c._0;else return c;const _=oe(t,115);if(_.$tag===1)_._0;else return _;const i=oe(t,101);if(i.$tag===1)i._0;else return i;return new ut(Li)}else if(o===45){const s=bt(t);if(s===-1)return new Se(qt);{const _=s;if(_===48){const i=xs(t,t.offset-2|0);let r;if(i.$tag===1)r=i._0;else return i;const a=r._0,u=r._1;return new ut(new an(a,Yn(u,l=>Zn(l))))}else{if(_>=49&&_<=57){const r=Ss(t,t.offset-2|0);let a;if(r.$tag===1)a=r._0;else return r;const u=a._0,l=a._1;return new ut(new an(u,Yn(l,p=>Zn(p))))}const i=Xt(t,-1);if(i.$tag===1)i._0;else return i}}}else if(o===48){const s=xs(t,t.offset-1|0);let c;if(s.$tag===1)c=s._0;else return s;const _=c._0,i=c._1;return new ut(new an(_,Yn(i,r=>Zn(r))))}else if(o>=49&&o<=57){const s=Ss(t,t.offset-1|0);let c;if(s.$tag===1)c=s._0;else return s;const _=c._0,i=c._1;return new ut(new an(_,Yn(i,r=>Zn(r))))}else if(o===34){const s=G$(t);let c;if(s.$tag===1)c=s._0;else return s;return new ut(new Mo(c))}else{if(o>127&&cc(p_,o))break t;const c=-(o<=65535?1:2)|0,_=Xt(t,c);if(_.$tag===1)_._0;else return _}}break e}break t}break t}}function If(t){sn(t);const e=bt(t);if(e===-1)return new Se(qt);switch(e){case 93:return new ut(Xs);case 44:return new ut(Ys);default:return Eo(t,-1)}}function vf(t){sn(t);const e=bt(t);if(e===-1)return new Se(qt);switch(e){case 125:return new ut(Ws);case 44:return new ut(Ys);default:return Eo(t,-1)}}function Lf(t){sn(t);const e=bt(t);return e===-1?new wo(qt):e===58?new k$(void 0):Xt(t,-1)}function Pf(t){sn(t);const e=bt(t);if(e===-1)return new Se(qt);switch(e){case 125:return new ut(Ws);case 34:{const o=G$(t);let s;if(o.$tag===1)s=o._0;else return o;return new ut(new Mo(s))}default:return Eo(t,-1)}}function Gf(t){sn(t);const e=bt(t);if(e===-1)return new Se(qt);if(e===34){const o=G$(t);let s;if(o.$tag===1)s=o._0;else return o;return new ut(new Mo(s))}else return Eo(t,-1)}function ac(t){const e=f$(t,!1);let n;if(e.$tag===1)n=e._0;else return e;return uc(t,n)}function uc(t,e){t:switch(e.$tag){case 0:return new se(Ei);case 1:return new se(Ts);case 2:return new se(Js);case 3:{const n=e,$=n._0,o=n._1;return new se(new Mn($,o))}case 4:{const $=e._0;return new se(new q($))}case 5:return Of(t);case 7:return jf(t);case 8:break t;case 6:break t;default:break t}return new se(co())}function jf(t){if(t.remaining_available_depth<=0)return new ko(Ns);t.remaining_available_depth=t.remaining_available_depth-1|0;const e=[];let n;const $=f$(t,!0);let o;if($.$tag===1)o=$._0;else return $;let s=o;t:for(;;){const c=s;if(c.$tag===8){t.remaining_available_depth=t.remaining_available_depth+1|0,n=new Lt(e);break}else{const _=uc(t,c);let i;if(_.$tag===1)i=_._0;else return _;x1(e,i);const r=If(t);let a;if(r.$tag===1)a=r._0;else return r;switch(a.$tag){case 9:{const u=f$(t,!1);if(u.$tag===1)s=u._0;else return u;continue t}case 8:{t.remaining_available_depth=t.remaining_available_depth+1|0,n=new Lt(e);break t}default:{n=co();break t}}}}return new se(n)}function Of(t){if(t.remaining_available_depth<=0)return new ko(Ns);t.remaining_available_depth=t.remaining_available_depth-1|0;const e=g_(8);let n;const $=Pf(t);let o;if($.$tag===1)o=$._0;else return $;let s=o;t:for(;;){const c=s;switch(c.$tag){case 6:{t.remaining_available_depth=t.remaining_available_depth+1|0,n=new j(e);break t}case 4:{const i=c._0,r=Lf(t);if(r.$tag===1)r._0;else return r;const a=ac(t);let u;if(a.$tag===1)u=a._0;else return a;C(e,i,u);const l=vf(t);let p;if(l.$tag===1)p=l._0;else return l;switch(p.$tag){case 9:{const m=Gf(t);if(m.$tag===1)s=m._0;else return m;continue t}case 6:{t.remaining_available_depth=t.remaining_available_depth+1|0,n=new j(e);break t}default:{n=co();break t}}}default:{n=co();break t}}}return new se(n)}function Af(t,e){const n=Mf(t,e),$=ac(n);let o;if($.$tag===1)o=$._0;else return $;return sn(n),n.offset>=n.end_offset?new se(o):yf(n,0)}function Is(t,e){const n=$n(t.length),$=yb(t);for(;;){const o=p1($);if(o===-1)break;{const c=o;switch(c){case 34:{et(n,'\\"');break}case 92:{et(n,"\\\\");break}case 47:{Z(n,c);break}case 10:{et(n,"\\n");break}case 13:{et(n,"\\r");break}case 8:{et(n,"\\b");break}case 9:{et(n,"\\t");break}default:{const _=c;_===12?et(n,"\\f"):_<32?(et(n,"\\u00"),et(n,Ad(_&255))):Z(n,c)}}continue}}return n.val}function Ue(t,e){return""}function N(t,e,n,$){const o=$n(),s=[];let c=t;for(;;){const _=c;if(_===void 0){if(s.length===0)break;{const i=s[s.length-1|0];if(i.$tag===0){const r=i,a=r._0,u=r._1;if(u<a.length){const l=_d(a,u);r._1=u+1|0,u>0&&(Z(o,44),et(o,Ue())),c=l;continue}else{Ms(s),et(o,Ue()),Z(o,93),c=void 0;continue}}else{const r=i,a=r._0,u=r._1,l=l1(a);if(l===void 0){Ms(s),et(o,Ue()),Z(o,125),c=void 0;continue}else{const m=l,g=m._0;let f=m._1;u||(Z(o,44),et(o,Ue())),Z(o,34),et(o,Is(g)),Z(o,34),Z(o,58),r._1=!1,c=f;continue}}}}else{const r=_;switch(r.$tag){case 6:{const u=r._0;u.size===0?et(o,"{}"):(Z(o,123),et(o,Ue()),ms(s,new Qs(_1(u),!0)));break}case 5:{const u=r._0;u.length===0?et(o,"[]"):(Z(o,91),et(o,Ue()),ms(s,new Ks(u,0)));break}case 4:{const u=r._0;Z(o,34),et(o,Is(u)),Z(o,34);break}case 3:{const a=r,u=a._0,l=a._1;l===void 0?Od(o,u):et(o,l);break}case 1:{et(o,"true");break}case 2:{et(o,"false");break}default:et(o,"null")}c=void 0;continue}}return o.val}function no(t){if(t.$tag===4)return t._0}function Ef(t){if(t.$tag===5){const n=t._0;return new Zs(n)}else return ji}function qf(t){return n=>{let $=t;for(;;){const o=$;if(o.$tag===0)return 1;{const s=o,c=s._0,_=s._1;if(n(c)===0)return 0;$=_;continue}}}}function zf(t,e){let n=t;for(;;){const $=n;if($.$tag===0)return;{const o=$,s=o._0,c=s._0,_=s._1,i=o._1;if(c===e)return _;n=i;continue}}}function lc(t,e){let n=t,$=0;for(;;){const o=n,s=$;if(o.$tag===0)return;{const c=o,_=c._0,i=c._1;if(e(_))return s;n=i,$=s+1|0;continue}}}function pc(t,e){if(t.$tag===0)return We;if(e<0)return t;if(e===0)return t._1;{const n=t,$=n._0,o=n._1,s=new pn($,We);let c=s,_=o,i=e-1|0;for(;;){const r=c,a=_,u=i;if(a.$tag===0)break;if(r.$tag===1){const l=r,p=a,m=p._0,g=p._1;if(u===0){l._1=g;break}else{l._1=new pn(m,We),c=l._1,_=g,i=u-1|0;continue}}else{y();break}}return s}}function Yn(t,e){if(t!==void 0)return e(t)}function Rf(t){for(;;){const e=df(t);if(e!==void 0)return e;ff(t)}}function Tf(t){return{self:mf(t),method_0:Rf}}function Jf(t){return Tf(Oi)}function vs(t,e){const n=Ae(t,Do),$=Qt(t,32),o=Ae(e,Do),s=Qt(e,32),c=Vt(n,o),_=ge(Vt($,o),Qt(c,32)),i=ge(Vt(n,s),Ae(_,Do));return{hi:ge(ge(Vt($,s),Qt(_,32)),Qt(i,32)),lo:Vt(t,e)}}function Bf(t,e){if(he(e,$t)){const o=t;return o.method_0(o.self)}else if(he(Ae(e,m$(e,St)),$t)){const o=t;return Ae(o.method_0(o.self),m$(e,St))}const n=t;let $=vs(n.method_0(n.self),e);if(c$($.lo,e)){const o=V1(X1(e),e);for(;c$($.lo,o);){const s=t;$=vs(s.method_0(s.self),e);continue}}return $.hi}function Hf(t,e){if(e===0){const n=t;return ws(n.method_0(n.self))}return ws(Bf(t,p$(e)))}function Ff(t,e){if(e===0){const n=t;return b_(Qt(n.method_0(n.self),33))}else return Hf(t,e)}function Nf(t){const e=t;return ao(Qt(bn(e.method_0(e.self),11),11))/ao(bn(St,53))}function Df(t,e){{t:{let n;e:{let $;n:{let o;o:if(tt(t.str,2,t.start,t.end))if(L(t.str,h(t.str,0,t.start,t.end))===48)switch(L(t.str,h(t.str,1,t.start,t.end))){case 120:{const _=t.str,i=h(t.str,2,t.start,t.end);let r;i===void 0?r=t.end:r=i,o={str:_,start:r,end:t.end};break o}case 88:{const _=t.str,i=h(t.str,2,t.start,t.end);let r;i===void 0?r=t.end:r=i,o={str:_,start:r,end:t.end};break o}case 111:{const _=t.str,i=h(t.str,2,t.start,t.end);let r;i===void 0?r=t.end:r=i,$={str:_,start:r,end:t.end};break n}case 79:{const _=t.str,i=h(t.str,2,t.start,t.end);let r;i===void 0?r=t.end:r=i,$={str:_,start:r,end:t.end};break n}case 98:{const _=t.str,i=h(t.str,2,t.start,t.end);let r;i===void 0?r=t.end:r=i,n={str:_,start:r,end:t.end};break e}case 66:{const _=t.str,i=h(t.str,2,t.start,t.end);let r;i===void 0?r=t.end:r=i,n={str:_,start:r,end:t.end};break e}default:break t}else break t;else break t;return new un({_0:16,_1:o,_2:!0})}return new un({_0:8,_1:$,_2:!0})}return new un({_0:2,_1:n,_2:!0})}return new un({_0:10,_1:t,_2:!1})}}function oo(){return new t_(new pe(i_))}function Kn(){return new yo(new pe(i_))}function Uf(){return new e_(new pe(nn))}function cn(){return new yo(new pe(nn))}function fo(){return new y$(new pe(nn))}function Vf(){return new o_(new pe(nn))}function Ls(){return new $_(new pe(nn))}function Ps(){return new s_(new pe(nn))}function Wf(t,e){return e?t===10?be(Vo,Mt):t===16?be(Vo,Y$):be(Vo,Ht(t)):_e(t===10?be(Uo,Mt):t===16?be(Uo,Y$):be(Uo,Ht(t)),St)}function mc(t,e){if($d(t,{str:ts,start:0,end:ts.length})){let n,$;t:{e:{const p=bc(t,0,void 0);if(tt(p.str,1,p.start,p.end))switch(L(p.str,h(p.str,0,p.start,p.end))){case 43:{const g=p.str,b=h(p.str,1,p.start,p.end);let f;b===void 0?f=p.end:f=b,n={_0:!1,_1:{str:g,start:f,end:p.end}};break}case 45:{const g=p.str,b=h(p.str,1,p.start,p.end);let f;b===void 0?f=p.end:f=b,n={_0:!0,_1:{str:g,start:f,end:p.end}};break}default:{$=p;break e}}else{$=p;break e}break t}n={_0:!1,_1:$}}const o=n._0,s=n._1,c=Df(s);let _;if(c.$tag===1)_=c._0;else return c;const i=_._0,r=_._1,a=_._2,u=Wf(i,o);let l;if(tt(r.str,1,r.start,r.end)){const p=L(r.str,h(r.str,0,r.start,r.end));if(p>=48&&p<=57)l=!0;else if(p>=97&&p<=122)l=!0;else if(p>=65&&p<=90)l=!0;else if(tt(r.str,2,r.start,r.end))if(p===95){const m=L(r.str,h(r.str,1,r.start,r.end));l=m>=48&&m<=57||m>=97&&m<=122?!0:m>=65&&m<=90}else l=!1;else l=!1}else l=!1;if(l){let p,m=r,g=$t,b=a;for(;;){const f=m,k=g,w=b;let v,M,I;t:if(ye(f.str,1,f.start,f.end)){const x=L(f.str,h(f.str,0,f.start,f.end));if(x===95){const O=cn();if(O.$tag===1){p=O._0;break}else return O}else{const O=f.str,R=h(f.str,1,f.start,f.end);let B;R===void 0?B=f.end:B=R;const F={str:O,start:B,end:f.end};v=k,M=F,I=x;break t}}else if(tt(f.str,1,f.start,f.end)){const x=L(f.str,h(f.str,0,f.start,f.end));if(x===95)if(w===!1){const O=cn();if(O.$tag===1){p=O._0;break}else return O}else{const O=f.str,R=h(f.str,1,f.start,f.end);let B;R===void 0?B=f.end:B=R,m={str:O,start:B,end:f.end},b=!1;continue}else{const O=f.str,R=h(f.str,1,f.start,f.end);let B;R===void 0?B=f.end:B=R;const F={str:O,start:B,end:f.end};v=k,M=F,I=x;break t}}else{p=k;break}const P=I;let z;if(P>=48&&P<=57)z=P-48|0;else if(P>=97&&P<=122)z=P+-87|0;else if(P>=65&&P<=90)z=P+-55|0;else{const x=Uf();if(x.$tag===1)z=x._0;else return x}if(z<i)if(o)if(_$(v,u)){const x=fn(Te(v,Ht(i)),Ht(z));if(dn(x,v)){m=M,g=x,b=!0;continue}else{const O=Kn();if(O.$tag===1){p=O._0;break}else return O}}else{const x=Kn();if(x.$tag===1){p=x._0;break}else return x}else if(Co(v,u)){const x=_e(Te(v,Ht(i)),Ht(z));if(_$(x,v)){m=M,g=x,b=!0;continue}else{const O=Kn();if(O.$tag===1){p=O._0;break}else return O}}else{const x=Kn();if(x.$tag===1){p=x._0;break}else return x}else{const x=cn();if(x.$tag===1){p=x._0;break}else return x}}return new w$(p)}else return cn()}else return cn()}function Xf(t,e){const n=mc(t);let $;if(n.$tag===1)$=n._0;else return n;if(Co($,Ht(-2147483648))||d_($,Ht(2147483647))){const o=oo();if(o.$tag===1)o._0;else return o}return new n_(Ge($))}function Yf(t){let e;if(tt(t.str,1,t.start,t.end))switch(L(t.str,h(t.str,0,t.start,t.end))){case 43:{const u=t.str,l=h(t.str,1,t.start,t.end);let p;l===void 0?p=t.end:p=l,e={str:u,start:p,end:t.end};break}case 45:{const u=t.str,l=h(t.str,1,t.start,t.end);let p;l===void 0?p=t.end:p=l,e={str:u,start:p,end:t.end};break}default:e=t}else e=t;let n,$;t:{e:{let a;n:{o:{let u;_:{$:{let l;s:if(tt(e.str,2,e.start,e.end))if(L(e.str,h(e.str,0,e.start,e.end))===48)switch(L(e.str,h(e.str,1,e.start,e.end))){case 120:{const g=e.str,b=h(e.str,2,e.start,e.end);let f;b===void 0?f=e.end:f=b,l={str:g,start:f,end:e.end};break s}case 88:{const g=e.str,b=h(e.str,2,e.start,e.end);let f;b===void 0?f=e.end:f=b,l={str:g,start:f,end:e.end};break s}case 111:{const g=e.str,b=h(e.str,2,e.start,e.end);let f;b===void 0?f=e.end:f=b,u={str:g,start:f,end:e.end};break $}case 79:{const g=e.str,b=h(e.str,2,e.start,e.end);let f;b===void 0?f=e.end:f=b,u={str:g,start:f,end:e.end};break $}case 98:{const g=e.str,b=h(e.str,2,e.start,e.end);let f;b===void 0?f=e.end:f=b,a={str:g,start:f,end:e.end};break o}case 66:{const g=e.str,b=h(e.str,2,e.start,e.end);let f;b===void 0?f=e.end:f=b,a={str:g,start:f,end:e.end};break o}default:{$=e;break e}}else{$=e;break e}else{$=e;break e}n={_0:l,_1:!0,_2:!0};break _}n={_0:u,_1:!0,_2:!1}}break n}n={_0:a,_1:!0,_2:!1}}break t}n={_0:$,_1:!1,_2:!1}}const o=n._0,s=n._1,c=n._2;let _=o,i=s,r=!1;for(;;){const a=_,u=i,l=r;let p,m,g;t:{if(ye(a.str,0,a.start,a.end))return!0;if(ye(a.str,1,a.start,a.end)){const b=L(a.str,h(a.str,0,a.start,a.end));if(b===95)return!1;{const f=a.str,k=h(a.str,1,a.start,a.end);let w;k===void 0?w=a.end:w=k,p={str:f,start:w,end:a.end},m=b,g=l;break t}}else{const b=L(a.str,h(a.str,0,a.start,a.end));if(b===95){if(u===!1)return!1;{const f=a.str,k=h(a.str,1,a.start,a.end);let w;k===void 0?w=a.end:w=k,_={str:f,start:w,end:a.end},i=!1,r=!0;continue}}else{const f=a.str,k=h(a.str,1,a.start,a.end);let w;k===void 0?w=a.end:w=k,p={str:f,start:w,end:a.end},m=b,g=l;break t}}}if(m>=48&&m<=57||c&&(m>=97&&m<=102||m>=65&&m<=70)){_=p,i=!0,r=!1;continue}else{if(g)return!1;_=p,i=!1,r=!1;continue}}}function Kf(){return{digits:mi(800),digits_num:0,decimal_point:0,negative:!1,truncated:!1}}function j$(t){for(;;){let e;if(t.digits_num>0){const n=t.digits,$=t.digits_num-1|0;d(n,$),e=n[$]===0}else e=!1;if(e){t.digits_num=t.digits_num-1|0;continue}else break}if(t.digits_num===0){t.decimal_point=0;return}else return}function Qf(t){const e=Kf();let n=!1,$=!1,o;t:{e:{if(tt(t.str,1,t.start,t.end))switch(L(t.str,h(t.str,0,t.start,t.end))){case 45:{const i=t.str,r=h(t.str,1,t.start,t.end);let a;r===void 0?a=t.end:a=r;const l={str:i,start:a,end:t.end};e.negative=!0,o=l;break}case 43:{const i=t.str,r=h(t.str,1,t.start,t.end);let a;r===void 0?a=t.end:a=r,o={str:i,start:a,end:t.end};break}default:break e}else break e;break t}o=t}let s,c=o;for(;;){const _=c;if(tt(_.str,1,_.start,_.end)){const i=L(_.str,h(_.str,0,_.start,_.end));if(i===95){const r=_.str,a=h(_.str,1,_.start,_.end);let u;a===void 0?u=_.end:u=a,c={str:r,start:u,end:_.end};continue}else if(i===46){const r=_.str,a=h(_.str,1,_.start,_.end);let u;a===void 0?u=_.end:u=a;const p={str:r,start:u,end:_.end};if(n){const m=Ls();if(m.$tag===1){s=m._0;break}else return m}else{n=!0,e.decimal_point=e.digits_num,c=p;continue}}else if(i>=48&&i<=57){const r=_.str,a=h(_.str,1,_.start,_.end);let u;a===void 0?u=_.end:u=a;const p={str:r,start:u,end:_.end};if($=!0,i===48&&e.digits_num===0){e.decimal_point=e.decimal_point-1|0,c=p;continue}if(e.digits_num<e.digits.length){const m=e.digits,g=e.digits_num;d(m,g),m[g]=(i-48|0)&255,e.digits_num=e.digits_num+1|0}else i!==48&&(e.truncated=!0);c=p;continue}else{s=_;break}}else{s=_;break}}if($){n||(e.decimal_point=e.digits_num);let _,i;t:{e:{if(tt(s.str,1,s.start,s.end))switch(L(s.str,h(s.str,0,s.start,s.end))){case 101:{const l=s.str,p=h(s.str,1,s.start,s.end);let m;p===void 0?m=s.end:m=p,i={str:l,start:m,end:s.end};break e}case 69:{const l=s.str,p=h(s.str,1,s.start,s.end);let m;p===void 0?m=s.end:m=p,i={str:l,start:m,end:s.end};break e}default:_=s}else _=s;break t}let r=1,a;if(tt(i.str,1,i.start,i.end))switch(L(i.str,h(i.str,0,i.start,i.end))){case 43:{const l=i.str,p=h(i.str,1,i.start,i.end);let m;p===void 0?m=i.end:m=p,a={str:l,start:m,end:i.end};break}case 45:{const l=i.str,p=h(i.str,1,i.start,i.end);let m;p===void 0?m=i.end:m=p;const b={str:l,start:m,end:i.end};r=-1,a=b;break}default:a=i}else a=i;e:{n:{if(tt(a.str,1,a.start,a.end)){const l=L(a.str,h(a.str,0,a.start,a.end));if(l>=48&&l<=57){let p=0,m,g=a;for(;;){const b=g;if(tt(b.str,1,b.start,b.end)){const f=L(b.str,h(b.str,0,b.start,b.end));if(f===95){const k=b.str,w=h(b.str,1,b.start,b.end);let v;w===void 0?v=b.end:v=w,g={str:k,start:v,end:b.end};continue}else if(f>=48&&f<=57){const k=b.str,w=h(b.str,1,b.start,b.end);let v;w===void 0?v=b.end:v=w;const I={str:k,start:v,end:b.end};p=(Math.imul(p,10)|0)+(f-48|0)|0,g=I;continue}else{m=b;break}}else{m=b;break}}e.decimal_point=e.decimal_point+(Math.imul(r,p)|0)|0,_=m}else break n}else break n;break e}const u=Ls();if(u.$tag===1)_=u._0;else return u}}return ye(_.str,0,_.start,_.end)?(j$(e),new __(e)):Ps()}else return Ps()}function Zf(t){return Qf(t)}function tb(t){let e,n;t:{e:{if(tt(t.str,1,t.start,t.end))switch(L(t.str,h(t.str,0,t.start,t.end))){case 45:{const c=t.str,_=h(t.str,1,t.start,t.end);let i;_===void 0?i=t.end:i=_,e={_0:!1,_1:{str:c,start:i,end:t.end}};break}case 43:{const c=t.str,_=h(t.str,1,t.start,t.end);let i;_===void 0?i=t.end:i=_,n={str:c,start:i,end:t.end};break e}default:{n=t;break e}}else{n=t;break e}break t}e={_0:!0,_1:n}}const $=e._0,o=e._1;t:{let s;e:{n:if(ye(o.str,3,o.start,o.end))switch(L(o.str,h(o.str,0,o.start,o.end))){case 110:switch(L(o.str,h(o.str,1,o.start,o.end))){case 97:switch(L(o.str,h(o.str,2,o.start,o.end))){case 110:break n;case 78:break n;default:break t}case 65:switch(L(o.str,h(o.str,2,o.start,o.end))){case 110:break n;case 78:break n;default:break t}default:break t}case 78:switch(L(o.str,h(o.str,1,o.start,o.end))){case 97:switch(L(o.str,h(o.str,2,o.start,o.end))){case 110:break n;case 78:break n;default:break t}case 65:switch(L(o.str,h(o.str,2,o.start,o.end))){case 110:break n;case 78:break n;default:break t}default:break t}case 105:switch(L(o.str,h(o.str,1,o.start,o.end))){case 110:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}case 78:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}default:break t}case 73:switch(L(o.str,h(o.str,1,o.start,o.end))){case 110:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}case 78:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}default:break t}default:break t}else if(tt(o.str,3,o.start,o.end))switch(L(o.str,h(o.str,0,o.start,o.end))){case 105:switch(L(o.str,h(o.str,1,o.start,o.end))){case 110:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}case 78:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}default:break t}case 73:switch(L(o.str,h(o.str,1,o.start,o.end))){case 110:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}case 78:switch(L(o.str,h(o.str,2,o.start,o.end))){case 102:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}case 70:{const r=o.str,a=h(o.str,3,o.start,o.end);let u;a===void 0?u=o.end:u=a,s={str:r,start:u,end:o.end};break e}default:break t}default:break t}default:break t}else break t;return new we(H0)}e:{n:{if(ye(s.str,0,s.start,s.end))break n;if(ye(s.str,5,s.start,s.end))switch(L(s.str,h(s.str,0,s.start,s.end))){case 105:switch(L(s.str,h(s.str,1,s.start,s.end))){case 110:switch(L(s.str,h(s.str,2,s.start,s.end))){case 105:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}case 73:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}default:break e}case 78:switch(L(s.str,h(s.str,2,s.start,s.end))){case 105:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}case 73:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}default:break e}default:break e}case 73:switch(L(s.str,h(s.str,1,s.start,s.end))){case 110:switch(L(s.str,h(s.str,2,s.start,s.end))){case 105:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}case 73:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}default:break e}case 78:switch(L(s.str,h(s.str,2,s.start,s.end))){case 105:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}case 73:switch(L(s.str,h(s.str,3,s.start,s.end))){case 116:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}case 84:switch(L(s.str,h(s.str,4,s.start,s.end))){case 121:break n;case 89:break n;default:break e}default:break e}default:break e}default:break e}default:break e}else break e}return $?new we(s$):new we($$)}return fo()}return fo()}function eb(t,e,n){let $=e,o=0,s=t;for(;;){const c=s;if(tt(c.str,1,c.start,c.end)){const _=L(c.str,h(c.str,0,c.start,c.end)),i=c.str,r=h(c.str,1,c.start,c.end);let a;r===void 0?a=c.end:a=r;const l={str:i,start:a,end:c.end};if(_>=48&&_<=57)o=o+1|0,$=n(_-48|0,$);else if(_!==95)break;s=l;continue}else break}return{_0:s,_1:$,_2:o}}function nb(t,e,n){let $=e,o=0,s=t;for(;;){const c=s;if(tt(c.str,1,c.start,c.end)){const _=L(c.str,h(c.str,0,c.start,c.end)),i=c.str,r=h(c.str,1,c.start,c.end);let a;r===void 0?a=c.end:a=r;const l={str:i,start:a,end:c.end};if(_>=48&&_<=57)o=o+1|0,$=n(_-48|0,$);else if(_!==95)break;s=l;continue}else break}return{_0:s,_1:$,_2:o}}function Gs(t,e){return eb(t,e,(n,$)=>ge(Vt($,Mt),x$(n)))}function ob(t){let e=t,n=!1,$,o;t:{e:{const s=e;if(tt(s.str,1,s.start,s.end)){const c=L(s.str,h(s.str,0,s.start,s.end));switch(c){case 43:{const _=s.str,i=h(s.str,1,s.start,s.end);let r;i===void 0?r=s.end:r=i,$={str:_,start:r,end:s.end},o=c;break e}case 45:{const _=s.str,i=h(s.str,1,s.start,s.end);let r;i===void 0?r=s.end:r=i,$={str:_,start:r,end:s.end},o=c;break e}}}break t}n=o===45,e=$}t:{const s=e;if(tt(s.str,1,s.start,s.end)){const c=L(s.str,h(s.str,0,s.start,s.end));if(c>=48&&c<=57){const _=nb(e,Ni,(a,u)=>Co(u,Ai)?_e(Te(Mt,u),Ht(a)):u),i=_._0,r=_._1;return n?{_0:i,_1:Q_(r)}:{_0:i,_1:r}}else break t}else break t}}function js(t,e){let n=e,$=0,o=t;for(;;){const s=o;let c;t:if(tt(s.str,1,s.start,s.end)){const _=L(s.str,h(s.str,0,s.start,s.end));if(_>=48&&_<=57){const i=s.str,r=h(s.str,1,s.start,s.end);let a;r===void 0?a=s.end:a=r;const l={str:i,start:a,end:s.end};if(c$(n,r_)){$=$+1|0,n=ge(Vt(n,Mt),x$(_-48|0)),o=l;continue}else{c=s;break t}}else if(_===95){const i=s.str,r=h(s.str,1,s.start,s.end);let a;r===void 0?a=s.end:a=r,o={str:i,start:a,end:s.end};continue}else{c=s;break t}}else{c=s;break t}return{_0:c,_1:n,_2:$}}}function $b(t){let e,n;t:{e:{if(tt(t.str,1,t.start,t.end))switch(L(t.str,h(t.str,0,t.start,t.end))){case 45:{const k=t.str,w=h(t.str,1,t.start,t.end);let v;w===void 0?v=t.end:v=w,e={_0:{str:k,start:v,end:t.end},_1:!0};break}case 43:{const k=t.str,w=h(t.str,1,t.start,t.end);let v;w===void 0?v=t.end:v=w,n={str:k,start:v,end:t.end};break e}default:{n=t;break e}}else{n=t;break e}break t}e={_0:n,_1:!1}}const $=e._0,o=e._1;if(xb($))return new Le(void 0);const s=Gs($,$t),c=s._0,_=s._1,i=s._2;let r=_,a=c,u=i,l=0,p=$t;const m=a;if(tt(m.str,1,m.start,m.end)&&L(m.str,h(m.str,0,m.start,m.end))===46){const k=m.str,w=h(m.str,1,m.start,m.end);let v;w===void 0?v=m.end:v=w,a={str:k,start:v,end:m.end};const P=Gs(a,r),z=P._0,x=P._1,O=P._2;a=z,r=x,l=O,p=Q_(Ht(l))}if(u=u+l|0,u===0)return new Le(void 0);let g;t:{e:{const M=a;if(tt(M.str,1,M.start,M.end))switch(L(M.str,h(M.str,0,M.start,M.end))){case 101:{const P=M.str,z=h(M.str,1,M.start,M.end);let x;z===void 0?x=M.end:x=z,g={str:P,start:x,end:M.end};break e}case 69:{const P=M.str,z=h(M.str,1,M.start,M.end);let x;z===void 0?x=M.end:x=z,g={str:P,start:x,end:M.end};break e}}break t}const f=ob(g);let k;if(f===void 0)return new Le(void 0);k=f;const w=k._0,v=k._1;a=w,p=_e(p,v)}const b=a;if(ye(b.str,0,b.start,b.end)){if(u<=19)return new Le({exponent:p,mantissa:r,negative:o,many_digits:!1});u=u-19|0;let f=!1,k=t.str,w=t.start,v=t.end;t:for(;;){const I=k,P=w,z=v;let x,O;e:if(tt(I,1,P,z)){const R=L(I,h(I,0,P,z));switch(R){case 48:{const B=h(I,1,P,z);let D;B===void 0?D=z:D=B,x={str:I,start:D,end:z},O=R;break e}case 46:{const B=h(I,1,P,z);let D;B===void 0?D=z:D=B,x={str:I,start:D,end:z},O=R;break e}default:break t}}else break;u=u-((O-46|0)/2|0)|0,k=x.str,w=x.start,v=x.end}let M=r;if(u>0){f=!0,M=$t;const I=js(t,M),P=I._0,z=I._1,x=I._2;M=z;let O;if(Z0(M,r_))O=x;else if(tt(P.str,1,P.start,P.end)){const R=P.str,B=h(P.str,1,P.start,P.end);let D;B===void 0?D=P.end:D=B;const T={str:R,start:D,end:P.end},pt=js(T,M),wt=pt._1,Ot=pt._2;M=wt,O=Ot}else return new Le(void 0);p=Ht(O),p=_e(p,Di)}return new Le({exponent:p,mantissa:M,negative:o,many_digits:f})}else return Vf()}function Os(t,e,n){const $=e-kt.bias|0;let o=Z_(t,fn(je(St,kt.mantissa_bits),St));const s=Ht($&((1<<kt.exponent_bits)-1|0));return o=hs(o,je(s,kt.mantissa_bits)),n&&(o=hs(o,je(je(St,kt.mantissa_bits),kt.exponent_bits))),o}function sb(t,e){if(e<0||e>=t.digits_num)return!1;let n;const $=t.digits;if(d($,e),$[e]===5?n=(e+1|0)===t.digits_num:n=!1,n){if(t.truncated)return!0;let s;if(e>0){const c=t.digits,_=e-1|0;d(c,_),s=(c[_]%2|0)!==0}else s=!1;return s}const o=t.digits;return d(o,e),o[e]>=5}function _b(t){if(t.decimal_point>20)return Bs;let e=$t,n=0;for(;n<t.decimal_point&&n<t.digits_num;){const $=Te(e,Mt),o=t.digits,s=n;d(o,s),e=_e($,lo(o[s])),n=n+1|0;continue}for(;n<t.decimal_point;){e=Te(e,Mt),n=n+1|0;continue}return sb(t,t.decimal_point)&&(e=_e(e,St)),e}function cb(t,e){d(Wn,e);const n=Wn[e]._0;d(Wn,e);const $=Wn[e]._1;let o=!1;const s=$.length;let c=0;for(;;){const _=c;if(_<s){if(_>=t.digits_num){o=!0;break}const i=$.charCodeAt(_)-48|0,r=t.digits;if(d(r,_),r[_]!==i){const a=t.digits;d(a,_),o=a[_]<i;break}c=_+1|0;continue}else break}return o?n-1|0:n}function As(t,e){const n=cb(t,e);let $=t.digits_num,o=t.digits_num+n|0,s=$t;for($=$-1|0;$>=0;){const c=t.digits,_=$;d(c,_);const i=lo(c[_]);s=_e(s,je(i,e));const r=be(s,Mt),a=Ge(fn(s,Te(r,Mt)));if(o=o-1|0,o<t.digits.length){const u=t.digits,l=o;d(u,l),u[l]=a&255}else a!==0&&(t.truncated=!0);s=r,$=$-1|0;continue}for(;d_(s,$t);){const c=be(s,Mt),_=Ge(fn(s,Te(Mt,c)));if(o=o-1|0,o<t.digits.length){const i=t.digits,r=o;d(i,r),i[r]=_&255}else _!==0&&(t.truncated=!0);s=c;continue}t.digits_num=t.digits_num+n|0,t.digits_num>t.digits.length&&(t.digits_num=t.digits.length),t.decimal_point=t.decimal_point+n|0,j$(t)}function Es(t,e){let n=0,$=0,o=$t;for(;he(Qt(o,e),$t);){if(n>=t.digits_num){for(;he(Qt(o,e),$t);){o=Vt(o,Mt),n=n+1|0;continue}break}const c=t.digits,_=n;d(c,_);const i=c[_];o=ge(Vt(o,Mt),lo(i)),n=n+1|0;continue}t.decimal_point=t.decimal_point-(n-1|0)|0;const s=m$(bn(St,e),St);for(;n<t.digits_num;){const c=Qt(o,e),_=t.digits,i=$;d(_,i),_[i]=gs(c),$=$+1|0,o=Ae(o,s);const r=t.digits,a=n;d(r,a);const u=r[a];o=ge(Vt(o,Mt),lo(u)),n=n+1|0;continue}for(;io(o,$t);){const c=Qt(o,e);if($<t.digits.length){const _=t.digits,i=$;d(_,i),_[i]=gs(c),$=$+1|0}else io(c,$t)&&(t.truncated=!0);o=Ae(o,s),o=Vt(o,Mt);continue}t.digits_num=$,j$(t)}function Qn(t,e){if(t.digits_num===0)return;let n=e;if(n>0){for(;n>59;){As(t,59),n=n-59|0;continue}As(t,n)}if(n<0){for(;n<-59;){Es(t,59),n=n+59|0;continue}Es(t,-n|0);return}else return}function ib(t){let e=0,n=$t;if(t.digits_num===0||t.decimal_point<-330){n=$t,e=kt.bias;const o=Os(n,e,t.negative);return new we(Re(o))}if(t.decimal_point>310){const o=oo();if(o.$tag===1)o._0;else return o}for(;t.decimal_point>0;){let o=0;t.decimal_point>=Vn.length?o=60:o=ue(Vn,t.decimal_point),Qn(t,-o|0),e=e+o|0;continue}for(;;){let o;if(t.decimal_point<0)o=!0;else{let s;if(t.decimal_point===0){const c=t.digits;d(c,0),s=c[0]<5}else s=!1;o=s}if(o){let s=0;(-t.decimal_point|0)>=Vn.length?s=60:s=ue(Vn,-t.decimal_point|0),Qn(t,s),e=e-s|0;continue}else break}if(e=e-1|0,e<(kt.bias+1|0)){const o=(kt.bias+1|0)-e|0;Qn(t,-o|0),e=e+o|0}if((e-kt.bias|0)>=((1<<kt.exponent_bits)-1|0)){const o=oo();if(o.$tag===1)o._0;else return o}if(Qn(t,kt.mantissa_bits+1|0),n=_b(t),ks(n,je(Hs,kt.mantissa_bits))&&(n=F1(n,1),e=e+1|0,(e-kt.bias|0)>=((1<<kt.exponent_bits)-1|0))){const o=oo();if(o.$tag===1)o._0;else return o}ks(Z_(n,je(St,kt.mantissa_bits)),$t)&&(e=kt.bias);const $=Os(n,e,t.negative);return new we(Re($))}function rb(t,e){if(he(t,$t)||he(e,$t))return ea;if(he(t,St))return e;if(he(e,St))return t;if(ys(e)===0||ys(t)===0)return;const n=U1($a,e);if(!io(t,n))return Vt(t,e)}function Yo(t){const e=t&31;return d(ns,e),ns[e]}function ab(t){return dn(ta,t.exponent)&&dn(t.exponent,Zr)&&td(t.mantissa,m_)&&!t.many_digits}function ub(t){if(ab(t)){let e;if(dn(t.exponent,Xo)){const n=ao(t.mantissa);e=Co(t.exponent,$t)?n/Yo(-Ge(t.exponent)|0):n*Yo(Ge(t.exponent))}else{const n=fn(t.exponent,Xo),$=t.mantissa,o=Ge(n);d(es,o);const s=rb($,es[o]);let c;if(s===void 0||(c=s,io(c,m_)))return Wo;e=ao(c)*Yo(Ge(Xo))}return t.negative&&(e=-e),new c_(e)}else return Wo}function lb(t){if((t.end-t.start|0)>0)if(Yf(t)){const e=$b(t);let n;if(e.$tag===1)n=e._0;else return e;if(n===void 0)return tb(t);{const s=ub(n);if(s.$tag===1){const _=s._0;return new we(_)}else{const c=Zf(t);let _;if(c.$tag===1)_=c._0;else return c;return ib(_)}}}else return fo();else return fo()}function pb(t){return{val:t}}function mb(t){return{val:t}}function db(t){return{val:t}}function vn(t){const e=nt(t),n=e-1|0,$=(Math.imul(e,13)|0)/16|0;return{entries:K(e,void 0),size:0,capacity:e,capacity_mask:n,grow_at:$,head:void 0,tail:-1}}function fb(t,e,n){const $=t.tail;if($===-1)t.head=n;else{const s=t.entries;d(s,$);const c=s[$];let _;c===void 0?_=y():_=c,_.next=n}t.tail=e;const o=t.entries;d(o,e),o[e]=n,t.size=t.size+1|0}function qs(t,e,n){const $=t.entries;d($,n),$[n]=e;const o=e.next;if(o===void 0){t.tail=n;return}else{const c=o;c.prev=n;return}}function bb(t,e,n){let $=n.psl+1|0,o=e+1&t.capacity_mask,s=n;for(;;){const c=$,_=o,i=s,r=t.entries;d(r,_);const a=r[_];if(a===void 0){i.psl=c,qs(t,i,_);break}else{const l=a;if(c>l.psl){i.psl=c,qs(t,i,_),$=l.psl+1|0,o=_+1&t.capacity_mask,s=l;continue}else{$=c+1|0,o=_+1&t.capacity_mask;continue}}}}function dc(t,e,n){t.size>=t.grow_at&&gb(t);let $,o=0,s=n&t.capacity_mask;for(;;){const u=o,l=s,p=t.entries;d(p,l);const m=p[l];if(m===void 0){$={_0:l,_1:u};break}else{const b=m;let f;if(b.hash===n){const k=b.key;f=k._0===e._0&&k._1===e._1}else f=!1;if(f)return;if(u>b.psl){bb(t,l,b),$={_0:l,_1:u};break}o=u+1|0,s=l+1&t.capacity_mask;continue}}const c=$._0,_=$._1,a={prev:t.tail,next:void 0,psl:_,hash:n,key:e};fb(t,c,a)}function gb(t){const e=t.head,n=t.capacity<<1;t.entries=K(n,void 0),t.capacity=n,t.capacity_mask=n-1|0;const $=t.capacity;t.grow_at=(Math.imul($,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let o=e;for(;;){const s=o;if(s===void 0)return;{const _=s,i=_.next,r=_.key,a=_.hash;dc(t,r,a),o=i;continue}}}function It(t,e){dc(t,e,Be(e))}function fc(t){const e=t.end-t.start|0;let n=nt(e);e>((Math.imul(n,13)|0)/16|0)&&(n=Math.imul(n,2)|0);const o=vn(n),s=t.end-t.start|0;let c=0;for(;;){const _=c;if(_<s){const i=t.buf[t.start+_|0];It(o,i),c=_+1|0;continue}else break}return o}function $e(t,e){const n=Be(e);let $=0,o=n&t.capacity_mask;for(;;){const s=$,c=o,_=t.entries;d(_,c);const i=_[c];if(i===void 0)return!1;{const a=i;let u;if(a.hash===n){const l=a.key;u=l._0===e._0&&l._1===e._1}else u=!1;if(u)return!0;if(s>a.psl)return!1;$=s+1|0,o=c+1&t.capacity_mask;continue}}}function _t(t){s1(t.entries,void 0,0),t.size=0,t.head=void 0,t.tail=-1}function ct(t){const e={val:t.head};return()=>{const $=e.val;if($!==void 0){const s=$,c=s.key,_=s.next;return e.val=_,c}}}function bc(t,e,n){let $;return n===void 0?$=t.end-t.start|0:$=n,e>=0&&e<=$&&$<=(t.end-t.start|0)?{str:t.str,start:t.start+e|0,end:t.start+$|0}:V0()}function hb(t,e,n,$){let o=0,s=$;for(;(s-1|0)>=n&&o<e;){const c=s-1|0,_=t.charCodeAt(c);56320<=_&&_<=57343?s=s-2|0:s=s-1|0,o=o+1|0;continue}return o<e||s<n?void 0:s}function kb(t,e,n,$){if(n>=0&&n<=$){let o=n,s=0;for(;o<$&&s<e;){const c=o,_=t.charCodeAt(c);55296<=_&&_<=56319?o=o+2|0:o=o+1|0,s=s+1|0;continue}return s<e||o>=$?void 0:o}else return W0()}function h(t,e,n,$){let o;return $===void 0?o=t.length:o=$,e>=0?kb(t,e,n,o):hb(t,-e|0,n,o)}function ye(t,e,n,$){let o;$===void 0?o=t.length:o=$;let s=n,c=0;for(;;){const _=s,i=c;if(_<o&&i<e){const r=t.charCodeAt(_);if(55296<=r&&r<=56319&&(_+1|0)<o){const a=_+1|0,u=t.charCodeAt(a);if(56320<=u&&u<=57343){s=_+2|0,c=i+1|0;continue}else re()}s=_+1|0,c=i+1|0;continue}else return i===e&&_===o}}function tt(t,e,n,$){let o;$===void 0?o=t.length:o=$;let s=n,c=0;for(;;){const _=s,i=c;if(_<o&&i<e){const r=t.charCodeAt(_);if(55296<=r&&r<=56319&&(_+1|0)<o){const a=_+1|0,u=t.charCodeAt(a);if(56320<=u&&u<=57343){s=_+2|0,c=i+1|0;continue}else re()}s=_+1|0,c=i+1|0;continue}else return i>=e}}function Zn(t){return t.str.substring(t.start,t.end)}function gc(t,e){return(((Math.imul(t-55296|0,1024)|0)+e|0)-56320|0)+65536|0}function wb(t,e){const n=t.end-t.start|0;if(n===(e.end-e.start|0)){if(t.str===e.str&&t.start===e.start)return!0;let $=0;for(;;){const o=$;if(o<n){const s=t.str,c=t.start+o|0,_=s.charCodeAt(c),i=e.str,r=e.start+o|0;if(_!==i.charCodeAt(r))return!1;$=o+1|0;continue}else break}return!0}else return!1}function yb(t){const e=t.length,n={val:0};return()=>{if(n.val<e){const o=n.val,s=t.charCodeAt(o);if(55296<=s&&s<=56319&&(n.val+1|0)<e){const c=n.val+1|0,_=t.charCodeAt(c);if(56320<=_&&_<=57343){const i=gc(s,_);return n.val=n.val+2|0,i}}return n.val=n.val+1|0,s}else return-1}}function Mb(t,e){const n=t.end-t.start|0,$=e.end-e.start|0;if($>0)if(n>=$){const o=K(256,$),s=$-1|0;let c=0;for(;;){const i=c;if(i<s){const r=e.str,a=e.start+i|0,u=r.charCodeAt(a)&255;d(o,u),o[u]=($-1|0)-i|0,c=i+1|0;continue}else break}let _=0;for(;;){const i=_;if(i<=(n-$|0)){const r=$-1|0;let a=0;for(;;){const g=a;if(g<=r){const b=i+g|0,f=t.str,k=t.start+b|0,w=f.charCodeAt(k),v=e.str,M=e.start+g|0;if(w!==v.charCodeAt(M))break;a=g+1|0;continue}else return i}const u=(i+$|0)-1|0,l=t.str,p=t.start+u|0,m=l.charCodeAt(p)&255;d(o,m),_=i+o[m]|0;continue}else break}return}else return;else return na}function Sb(t,e){const n=t.end-t.start|0,$=e.end-e.start|0;if($>0)if(n>=$){const s=e.str,c=e.start+0|0,_=s.charCodeAt(c),i=n-$|0;let r=0;for(;r<=i;){for(;;){let a;if(r<=i){const u=r,l=t.str,p=t.start+u|0;a=l.charCodeAt(p)!==_}else a=!1;if(a){r=r+1|0;continue}else break}if(r<=i){let a=1;for(;;){const u=a;if(u<$){const l=r+u|0,p=t.str,m=t.start+l|0,g=p.charCodeAt(m),b=e.str,f=e.start+u|0;if(g!==b.charCodeAt(f))break;a=u+1|0;continue}else return r}r=r+1|0}continue}return}else return;else return oa}function Cb(t,e){return(e.end-e.start|0)<=4?Sb(t,e):Mb(t,e)}function Ko(t,e){return Cb(t,e)!==void 0}function xb(t){return(t.end-t.start|0)===0}function qo(t,e){if(e>=0&&e<(t.end-t.start|0)){const n=t.str,$=t.start+e|0,o=n.charCodeAt($);if(55296<=o&&o<=56319)if((e+1|0)<(t.end-t.start|0)){const s=e+1|0,c=t.str,_=t.start+s|0,i=c.charCodeAt(_);return 56320<=i&&i<=57343?gc(o,i):-1}else return-1;else return 56320<=o&&o<=57343?-1:o}else return-1}function hc(){return{now:0}}function ve(t){return t.now=t.now+1|0,t.now}function kc(t){const e=A([]);return C(e,"cost",k1(t.cost)),new j(e)}function _n(t,e){switch(t){case 0:return e===0;case 1:return e===1;case 2:return e===2;case 3:return e===3;default:return e===4}}function Ib(t,e){switch(t){case 0:{Ve(e,0);return}case 1:{Ve(e,1);return}case 2:{Ve(e,2);return}case 3:{Ve(e,3);return}default:{Ve(e,4);return}}}function zo(t){switch(t){case 0:{const e="HeartCrystalDust";return new q(e)}case 1:{const e="RecallGear";return new q(e)}case 2:{const e="SpiritalSpark";return new q(e)}case 3:{const e="RefinedCopper";return new q(e)}default:{const e="ResonantCrystal";return new q(e)}}}function ot(t){return{cost:t}}function vb(t,e){return Math.fround(t.health===e.health)&&Math.fround(t.attack===e.attack)&&Math.fround(t.defense===e.defense)&&Math.fround(t.dodge===e.dodge)}function Ro(t){const e=A([]);return C(e,"health",At(t.health)),C(e,"attack",At(t.attack)),C(e,"defense",At(t.defense)),C(e,"dodge",At(t.dodge)),new j(e)}function Q(t,e,n,$){return{health:t,attack:e,defense:n,dodge:$}}function bo(t,e){return{health:Math.fround(t.health+e.health),attack:Math.fround(t.attack+e.attack),defense:Math.fround(t.defense+e.defense),dodge:Math.fround(t.dodge+e.dodge)}}function Lb(t,e){return Pb(t.equipment_base,e.equipment_base)&&t.id===e.id}function b$(t){const e=A([]);return C(e,"equipment_base",Gb(t.equipment_base)),C(e,"id",H(t.id)),new j(e)}function Pb(t,e){return t.name===e.name&&t.description===e.description&&t.resource_url===e.resource_url&&vb(t.attribute,e.attribute)}function Gb(t){const e=A([]),n=t.name;C(e,"name",new q(n));const $=t.description;C(e,"description",new q($));const o=t.resource_url;return C(e,"resource_url",new q(o)),C(e,"attribute",Ro(t.attribute)),new j(e)}function ft(t){return{equipment_base:t,id:ve(Je)}}function jb(t){const e=A([]);C(e,"id",H(t.id));const n=t.type_msg;C(e,"type_msg",new q(n));const $=t.content;return C(e,"content",new q($)),new j(e)}function Ob(){return{history:[],callback:t=>{}}}function Ab(t,e){t.callback=e}function V(t,e){const n={id:ve(J0),type_msg:e.type_msg,content:e.content};M1(t.history,n);const $=t.callback;$(N(jb(n)))}function O$(t){const e=A([]);return C(e,"id",H(t.id)),C(e,"level",H(t.level)),C(e,"suffix",H(t.suffix)),C(e,"live_left",H(t.live_left)),C(e,"attribute",Ro(t.attribute)),C(e,"copper_type",wc(t.copper_type)),C(e,"equipment_slot",Eb(t.equipment_slot)),C(e,"copper_info",qb(t.copper_info)),new j(e)}function wc(t){switch(t){case 0:{const e="IronWall";return new q(e)}case 1:{const e="Arcanist";return new q(e)}case 2:{const e="CraftsMan";return new q(e)}case 3:{const e="Mechanic";return new q(e)}default:{const e="Resonator";return new q(e)}}}function Eb(t){const e=A([]),n=t.slot1;n===void 0||C(e,"slot1",b$(n));const $=t.slot2;return $===void 0||C(e,"slot2",b$($)),C(e,"is_slot2_locked",xt(t.is_slot2_locked)),new j(e)}function qb(t){const e=A([]),n=t.name;C(e,"name",new q(n)),C(e,"copper_type",wc(t.copper_type));const $=t.description;C(e,"description",new q($));const o=t.icon_url;C(e,"icon_url",new q(o));const s=t.model_url;C(e,"model_url",new q(s));const c=t.skill;c===void 0||C(e,"skill",zb(c));const _=t.attack_range;return _===void 0||C(e,"attack_range",H(_)),new j(e)}function zb(t){const e=A([]),n=t.name;C(e,"name",new q(n));const $=t.description;C(e,"description",new q($));const o=t.resource_url;C(e,"resource_url",new q(o));const s=t.cool_down;return s===void 0||C(e,"cool_down",H(s)),new j(e)}function Rb(t){t:switch(t.copper_type){case 0:return Q(Math.fround(30),Math.fround(5),Math.fround(5),Math.fround(5));case 1:return Q(Math.fround(15),Math.fround(10),Math.fround(2.5),Math.fround(2.5));case 4:return Q(Math.fround(15),Math.fround(2.5),Math.fround(2.5),Math.fround(2.5));case 3:break t;default:break t}return Q(Math.fround(15),Math.fround(2.5),Math.fround(2.5),Math.fround(2.5))}function Tb(t){return{slot1:t.slot1,slot2:t.slot2,is_slot2_locked:!1}}function Jb(t){const e=Rb(t);return t.level===4?{...t,attribute:bo(t.attribute,e),level:t.level+1|0,equipment_slot:Tb(t.equipment_slot)}:{...t,attribute:bo(t.attribute,e),level:t.level+1|0}}function Bb(t){let e;switch(t){case 1:{e=5;break}case 2:{e=10;break}case 3:{e=20;break}case 4:{e=30;break}default:V(U,Sl),e=0}return ot([{_0:2,_1:e}])}function yc(){return{slot1:void 0,slot2:void 0,is_slot2_locked:!0}}function Hb(t,e){return t.slot1===void 0?{_0:{slot1:e,slot2:t.slot2,is_slot2_locked:t.is_slot2_locked},_1:!0}:t.slot2===void 0?{_0:{slot1:t.slot1,slot2:e,is_slot2_locked:t.is_slot2_locked},_1:!0}:{_0:t,_1:!1}}function Fb(t,e){switch(e){case 0:return{slot1:void 0,slot2:t.slot2,is_slot2_locked:t.is_slot2_locked};case 1:return{slot1:t.slot1,slot2:void 0,is_slot2_locked:t.is_slot2_locked};default:return U0()}}function Mc(t){switch(t){case 0:return Q(Math.fround(150),Math.fround(15),Math.fround(20),Math.fround(10));case 1:return Q(Math.fround(50),Math.fround(20),Math.fround(5),Math.fround(10));case 4:return Q(Math.fround(50),Math.fround(10),Math.fround(5),Math.fround(10));case 3:return Q(Math.fround(80),Math.fround(5),Math.fround(5),Math.fround(10));default:return Q(Math.fround(80),Math.fround(0),Math.fround(5),Math.fround(10))}}function Qo(t){const e=V2(T0,t),n=ve(Je);return{id:n,level:1,suffix:n,live_left:5,attribute:Mc(e.copper_type),copper_type:e.copper_type,equipment_slot:yc(),copper_info:e}}function Oe(t,e){return t+Ff(a_,(e-t|0)+1|0)|0}function tn(t){const e=Nf(a_);return d$(`12121:${String(e)}`),e<=t}function Nb(){return j2([Cl,xl,Il,vl,Ll])}function Pe(t,e){const n=T_(t,e);return n===void 0?y():n}function Sc(t,e,n){const $=T_(t,e);let o;if($===void 0?o=y():o=$,o<n){V(U,Pl);return}else{G_(t,e,o-n|0);return}}function Db(t,e){const n=e.cost,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s],_=c._0,i=c._1;if(Pe(t,_)<i)return!1;o=s+1|0;continue}else break}return!0}function Ub(t,e){const n=e.cost,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s],_=c._0,i=c._1;Sc(t,_,i),o=s+1|0;continue}else return}}function Vb(){const t=Qo("阿磐"),e=Qo("咝咝"),n=Qo("波波");return{coppers:eo(eo(eo(void 0,t.id,t),e.id,e),n.id,n)}}function Cc(t,e){return{coppers:eo(t.coppers,e.id,e)}}function $o(t,e){const n=gf(t.coppers,e);return n===void 0?y():n}function Wb(t){return A1(wf(t.coppers))}function Xb(t,e){return{coppers:hf(t.coppers,e)}}function Yb(){const t=ve(Je),e=Oe(0,ln.length-1|0);d(ln,e);const n=ln[e],$=Mc(n.copper_type);return{id:t,level:1,suffix:t,live_left:5,attribute:$,copper_type:n.copper_type,equipment_slot:yc(),copper_info:n}}function Kb(t){if(Pe(t,2)>10)return Sc(t,2,10),Yb();V(U,Gl)}function Qb(){return{resource:Nb(),warehouse:Vb()}}function Zb(t){const e=t.resource,n=A([{_0:"SpiritalSpark",_1:H(Pe(e,2))},{_0:"RecallGear",_1:H(Pe(e,1))},{_0:"ResonantCrystal",_1:H(Pe(e,4))},{_0:"RefinedCopper",_1:H(Pe(e,3))},{_0:"HeartCrystalDust",_1:H(Pe(e,0))}]);return N(new j(n))}function t4(t){const e=t.warehouse,n=A([{_0:"coppers",_1:b1(Wb(e))}]);return N(new j(n))}function e4(t){const e=Kb(t.resource);let n;if(e===void 0){const $="error",o={_0:"type",_1:new q($)},s="资源不足",c=A([o,{_0:"content",_1:new q(s)}]);n=new j(c)}else{const o=e;t.warehouse=Cc(t.warehouse,o);const s="success",c=A([{_0:"type",_1:new q(s)},{_0:"copper",_1:O$(o)}]);n=new j(c)}return N(n)}function n4(t,e){const n=t.warehouse,$=$o(n,e),o=Bb($.level);let s;if(Db(t.resource,o)){const c=Jb($);Ub(t.resource,o),t.warehouse=Xb(t.warehouse,e),t.warehouse=Cc(t.warehouse,c);const _="success",i=A([{_0:"type",_1:new q(_)}]);s=new j(i)}else{const c="error",_={_0:"type",_1:new q(c)},i="资源不足",r=A([_,{_0:"content",_1:new q(i)}]);s=new j(r)}return N(s)}function xc(t){const e=A([]);return C(e,"id",H(t.id)),C(e,"original_id",H(t.original_id)),C(e,"copper",O$(t.copper)),C(e,"can_move",xt(t.can_move)),C(e,"can_attack",xt(t.can_attack)),C(e,"can_summon",xt(t.can_summon)),C(e,"position",jt(t.position)),C(e,"now_health",At(t.now_health)),C(e,"attribute",Ro(t.attribute)),C(e,"inventory",o4(t.inventory)),new j(e)}function Ic(t){const e=A([]);return C(e,"id",H(t.id)),C(e,"owned",xt(t.owned)),C(e,"can_move",xt(t.can_move)),C(e,"can_attack",xt(t.can_attack)),C(e,"position",jt(t.position)),C(e,"now_health",At(t.now_health)),C(e,"enemy_base",Lc(t.enemy_base)),new j(e)}function o4(t){const e=A([]);return C(e,"capacity",H(t.capacity)),C(e,"items",Go(t.items)),new j(e)}function $4(t){const e=A([]),n=t.name;C(e,"name",new q(n)),C(e,"resource_type",zo(t.resource_type));const $=t.model_url;return C(e,"model_url",new q($)),new j(e)}function vc(t){const e=A([]);C(e,"id",H(t.id)),C(e,"owned",xt(t.owned)),C(e,"position",jt(t.position));const n=t.storage;n===void 0||C(e,"storage",A$(n)),C(e,"can_move",xt(t.can_move)),C(e,"can_attack",xt(t.can_attack));const $=t.resource_type;return $===void 0||C(e,"resource_type",zo($)),C(e,"now_health",At(t.now_health)),C(e,"structure_base",Pc(t.structure_base)),new j(e)}function A$(t){const e=A([]);return C(e,"item_type",s4(t.item_type)),C(e,"count",H(t.count)),new j(e)}function Lc(t){const e=A([]);C(e,"level",H(t.level)),C(e,"health",At(t.health)),C(e,"attack",At(t.attack)),C(e,"defense",At(t.defense)),C(e,"dodge",At(t.dodge)),C(e,"attack_range",H(t.attack_range)),C(e,"move_range",H(t.move_range));const n=t.name;C(e,"name",new q(n));const $=t.enemy_type;C(e,"enemy_type",new q($));const o=t.description;C(e,"description",new q(o));const s=t.asset_url;C(e,"asset_url",new q(s));const c=t.model_url;return C(e,"model_url",new q(c)),C(e,"drop_items",h1(t.drop_items)),C(e,"summon_cost",kc(t.summon_cost)),new j(e)}function E$(t,e){if(t.$tag===0){const $=t._0;if(e.$tag===0){const s=e._0;return _n($,s)}else return!1}else{const $=t._0;if(e.$tag===1){const s=e._0;return Lb($,s)}else return!1}}function s4(t){if(t.$tag===0){const n=t._0,$="Resource",o=[new q($),zo(n)];return new Lt(o)}else{const n=t._0,$="Equipment",o=[new q($),b$(n)];return new Lt(o)}}function _4(t){const e=A([]);return C(e,"id",H(t.id)),C(e,"material_base",$4(t.material_base)),new j(e)}function Pc(t){const e=A([]),n=t.name;C(e,"name",new q(n)),C(e,"health",At(t.health)),C(e,"can_move",xt(t.can_move)),C(e,"can_attack",xt(t.can_attack)),C(e,"has_storage",xt(t.has_storage)),C(e,"attack_range",H(t.attack_range));const $=t.description;C(e,"description",new q($));const o=t.asset_url;C(e,"asset_url",new q(o));const s=t.model_url;return C(e,"model_url",new q(s)),C(e,"attribute",Ro(t.attribute)),C(e,"cost",kc(t.cost)),new j(e)}function c4(t,e){switch(t){case 0:{e.method_0(e.self,"PositiveX");return}case 1:{e.method_0(e.self,"NegativeX");return}case 2:{e.method_0(e.self,"PositiveY");return}default:{e.method_0(e.self,"NegativeY");return}}}function Me(t,e){const n={_0:"id",_1:H(t)},$=Ld(e),o=A([n,{_0:"direction",_1:new q($)}]);V(U,{type_msg:"change_direction",content:N(new j(o))})}function gn(t,e){const n=A([{_0:"id",_1:H(t)},{_0:"to",_1:jt(e)}]);V(U,{type_msg:"move_to",content:N(new j(n))})}function q$(t,e){const n={_0:"id",_1:H(t)},$=M$(e),o=A([n,{_0:"can_attack",_1:new q($)}]);V(U,{type_msg:"display_can_attack",content:N(new j(o))})}function Gc(t,e){const n={_0:"id",_1:H(t)},$=M$(e),o=A([n,{_0:"can_move",_1:new q($)}]);V(U,{type_msg:"display_can_move",content:N(new j(o))})}function z$(t){const e=A([{_0:"id",_1:H(t)}]);V(U,{type_msg:"clear_state",content:N(new j(e))})}function ee(t){const e=A([{_0:"id",_1:H(t)}]);V(U,{type_msg:"remove_unit",content:N(new j(e))})}function xe(t){const e=A([{_0:"id",_1:H(t)}]);V(U,{type_msg:"animate_move",content:N(new j(e))})}function i4(){const t=A([]);V(U,{type_msg:"animate_reset",content:N(new j(t))})}function it(t){const e=A([{_0:"position",_1:jt(t)}]);V(U,{type_msg:"clear_block",content:N(new j(e))})}function Zt(t){const e=A([{_0:"position",_1:jt(t)}]);V(U,{type_msg:"set_attack_block",content:N(new j(e))})}function hn(t){const e=A([{_0:"position",_1:jt(t)}]);V(U,{type_msg:"set_move_block",content:N(new j(e))})}function jc(t,e,n,$){const o={id:ve(Je),owned:e,position:$,storage:void 0,can_move:t.can_move,can_attack:t.can_attack,resource_type:n,now_health:t.health,structure_base:t};return j_(Ie,o.id,o),o}function me(t){const e=N2(Ie,t);return e===void 0?y():e}function Ye(t){if(z$(t.id),t.structure_base.can_attack){q$(t.id,!0);return}else return}function He(t){const e=[];let $=-t|0;for(;;){const o=$;if(o<=t){let c=-t|0;for(;;){const _=c;if(_<=t){(o!==0||_!==0)&&Et(e,{_0:o,_1:_}),c=_+1|0;continue}else break}$=o+1|0;continue}else break}return e}function Oc(t,e){const n=e._0,$=e._1,o=t.index_position,s=o._0,c=o._1;return n>=s&&n<(s+16|0)&&$>=c&&$<(c+16|0)}function Fe(t,e){const n=t.rooms,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s];if(Oc(c,e))return c;o=s+1|0;continue}else break}}function vt(t,e){const n=t.rooms,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s];if(Oc(c,e)){const _=e._0-c.index_position._0|0,i=e._1-c.index_position._1|0;return{_0:c,_1:{_0:_,_1:i}}}o=s+1|0;continue}else break}}function To(t,e){const n=Fe(t,e);if(n===void 0)return y();{const o=n,s=vt(t,e);if(s===void 0)return y();{const i=s._1;return{_0:o,_1:i}}}}function Dt(t,e){const n=To(t,e),$=n._0,o=n._1;return W(X($.blocks,o._0),o._1).occupant}function Ne(t,e){const n=Fe(t,e);if(n!==void 0){const o=n,s=vt(t,e);if(s===void 0)y();else{const i=s._1,r=W(X(o.blocks,i._0),i._1).occupant;let a;return r.$tag===4?a=!0:a=!1,!a}}return!1}function r4(t,e){const n=t.structure_base.attack_range,$=He(n),o=[],s=$.length;let c=0;for(;;){const _=c;if(_<s){const i=$[_],r={_0:t.position._0+i._0|0,_1:t.position._1+i._1|0};if(Ne(e,r)){const a=Dt(e,r);if(t.owned)switch(a.$tag){case 1:{const l=a._0;t.structure_base.name==="维修工坊"&&Ct(o,new ze(l));break}case 0:{const l=a._0;l.owned===!0&&Ct(o,new qe(l));break}case 3:{const l=a._0;l.owned===!0&&Ct(o,new Qe(l));break}}else switch(a.$tag){case 1:{const l=a._0;Ct(o,new ze(l));break}case 0:{const l=a._0;l.owned===!1&&Ct(o,new qe(l));break}case 3:{const l=a._0;l.owned===!1&&Ct(o,new Qe(l));break}}}c=_+1|0;continue}else break}return o}function Jo(t,e){return t.now_health=Math.fround(t.now_health-e),Math.fround(t.now_health<=Math.fround(0))}function Ln(t,e){const n=Fe(t,e);if(n!==void 0){const o=n,s=vt(t,e);if(s===void 0)y();else{const i=s._1,r=W(X(o.blocks,i._0),i._1).occupant;let a;return r.$tag===4?a=!0:a=!1,!a}}return!0}function a4(t,e){const n=[],$=He(5),o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c],i={_0:t.position._0+_._0|0,_1:t.position._1+_._1|0};Ln(e,i)||Et(n,i),s=c+1|0;continue}else break}return n}function u4(t,e){const n=[],$=He(5),o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c],i={_0:t.position._0+_._0|0,_1:t.position._1+_._1|0},r=t.storage;if(Ne(e,i)){const a=Dt(e,i);if(a.$tag===3){const p=a._0.storage;if(p!==void 0){const g=p,b=g.item_type;if(b.$tag===0){const k=b._0;if(g.count>0)t:{e:{if(r===void 0)break e;if(r!==void 0){const M=r.item_type;if(M.$tag===0){const P=M._0;if(_n(P,k))break e}}break t}Et(n,i)}}}}}s=c+1|0;continue}else break}return n}function Bo(t,e){if(t.items.length<t.capacity)return!0;const n=t.items,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s];if(c.item_type.$tag===0&&E$(c.item_type,e))return!0;o=s+1|0;continue}else break}return!1}function l4(t,e,n){const $=[],o=[Hp,Fp,Np,Dp,Up,Vp,Wp,Xp],s=o.length;let c=0;for(;;){const _=c;if(_<s){const i=o[_],r={_0:t.position._0+i._0|0,_1:t.position._1+i._1|0};if(Ne(n,r)){const a=Dt(n,r);if(a.$tag===1){const l=a._0;Bo(l.inventory,e.item_type)&&Et($,r)}}c=_+1|0;continue}else break}return $}function p4(t,e,n){const $=A([{_0:"id",_1:H(e)},{_0:"position",_1:jt(n)},{_0:"copper",_1:xc(t)}]);V(U,{type_msg:"set_copper",content:N(new j($))})}function Ac(t,e,n){const $=A([{_0:"id",_1:H(e)},{_0:"position",_1:jt(n)},{_0:"enemy",_1:Ic(t)}]);V(U,{type_msg:"set_enemy",content:N(new j($))})}function Ec(t,e,n){const $=A([{_0:"id",_1:H(e)},{_0:"position",_1:jt(n)},{_0:"structure",_1:vc(t)}]);V(U,{type_msg:"set_structure",content:N(new j($))})}function m4(t,e,n){const $=A([{_0:"id",_1:H(e)},{_0:"position",_1:jt(n)},{_0:"material",_1:_4(t)}]);V(U,{type_msg:"set_material",content:N(new j($))})}function d4(t,e){const n={_0:"id",_1:H(t)},$=M$(e),o=A([n,{_0:"can_summon",_1:new q($)}]);V(U,{type_msg:"display_can_summon",content:N(new j(o))})}function f4(t,e){const n=A([{_0:"room_position",_1:jt(t)},{_0:"size",_1:H(e)}]);V(U,{type_msg:"put_room_blocks",content:N(new j(n))})}function Pn(t){const e=A([{_0:"position",_1:jt(t)}]);V(U,{type_msg:"put_resource_marker",content:N(new j(e))})}function b4(t){const e=A([{_0:"position",_1:jt(t)}]);V(U,{type_msg:"clear_resource_marker",content:N(new j(e))})}function go(t){const e=A([{_0:"position",_1:jt(t)}]);V(U,{type_msg:"set_can_summon_blocks",content:N(new j(e))})}function R$(t){const e=A([{_0:"id",_1:H(t)}]);V(U,{type_msg:"attack_complete",content:N(new j(e))})}function Nt(t,e,n){const $=A([{_0:"id",_1:H(t)},{_0:"now_health",_1:At(e)},{_0:"max_health",_1:At(n)}]);V(U,{type_msg:"update_health",content:N(new j($))})}function G(t,e){return{item_type:t,count:e}}function qc(t){if(t===10)return W2(l_,"（BOSS）废械吞噬者 · 饕餮");{const e=[],n=_o.length;let $=0;for(;;){const s=$;if(s<n){const c=_o[s];c.level<=t&&I1(e,c),$=s+1|0;continue}else break}const o=e;return ud(o,Oe(0,o.length-1|0))}}function Zo(t){let e=Oe(0,15),n=Oe(0,15);for(;$e(t,{_0:e,_1:n});){e=Oe(0,15),n=Oe(0,15);continue}return{_0:e,_1:n}}function T$(t,e,n){const $=ve(Je),o=t.health,s={id:$,owned:n,can_move:!0,can_attack:!0,position:e,now_health:o,enemy_base:t};return S$(Pt,s.id,s),s}function g4(){return{occupant:Ze,resources:[]}}function zs(t){return{id:ve(Je),material_base:t}}function zc(t,e,n){const $=[];let o=0;for(;;){const _=o;if(_<16){const i=[];let r=0;for(;;){const a=r;if(a<16){S1(i,g4()),r=a+1|0;continue}else break}C1($,i),o=_+1|0;continue}else break}W(X($,7),7).occupant=new So(jc(U2(u_,"充能线圈"),!1,void 0,Yp));const s=ue(Bl,t);let c=0;for(;;){const _=c;if(_<s){const i=qc(t),r=Zo(n);It(n,r);const a={_0:e._0+r._0|0,_1:e._1+r._1|0};W(X($,r._0),r._1).occupant=new en(T$(i,a,!1)),c=_+1|0;continue}else break}if(tn(.7)){d$("生成精炼铜锭");const _=Zo(n);It(n,_),W(X($,_._0),_._1).occupant=new n$(zs(Jp))}if(tn(.7)){d$("生成共鸣星晶");const _=Zo(n);It(n,_),W(X($,_._0),_._1).occupant=new n$(zs(Bp))}return{level:t,index_position:e,blocks:$}}function h4(t){const e=t.blocks,n=e.length;let $=0;for(;;){const o=$;if(o<n){const s=e[o],c=s.length;let _=0;for(;;){const i=_;if(i<c){if(s[i].occupant.$tag===0)return!1;_=i+1|0;continue}else break}$=o+1|0;continue}else break}return!0}function k4(t){const e=[];let n=0;for(;;){const $=n;if($<16){let o=0;for(;;){const s=o;if(s<16){W(X(t.blocks,$),s).occupant.$tag===4&&Et(e,{_0:$,_1:s}),o=s+1|0;continue}else break}n=$+1|0;continue}else break}return e}function w4(t,e){const n=e._0,$=e._1,o=t.index_position,s=o._0,c=o._1,_=n-s|0,i=$-c|0;return _<0?i<0?{_0:5,_1:{_0:s-16|0,_1:c}}:i>=16?{_0:4,_1:{_0:s-16|0,_1:c+16|0}}:{_0:0,_1:{_0:s-16|0,_1:c}}:_>=16?i<0?{_0:7,_1:{_0:s+16|0,_1:c}}:i>=16?{_0:6,_1:{_0:s+16|0,_1:c+16|0}}:{_0:1,_1:{_0:s+16|0,_1:c}}:i<0?{_0:3,_1:{_0:s,_1:c-16|0}}:{_0:2,_1:{_0:s,_1:c+16|0}}}function y4(t){const e=J2([]),n=t.rooms,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s],_=c.index_position,i=_._0,r=_._1;let a=0;for(;;){const u=a;if(u<16){let l=0;for(;;){const p=l;if(p<16){const m={_0:i+u|0,_1:r+p|0};z_(e,m,W(X(c.blocks,u),p)),l=p+1|0;continue}else break}a=u+1|0;continue}else break}o=s+1|0;continue}else break}return e}function M4(t){const e=y4(t),n=R_([]),$={map:n},o=c1(e);for(;;){const s=m1(o);if(s===void 0)break;{const _=s,i=_._0;_._1.occupant.$tag===4?ro(n,i,!0):ro(n,i,!1);continue}}return $}function S4(t,e){const n=J_(t.map,e);return n===-1?!1:n}function C4(t,e,n){const $=He(e),o=[],s=$.length;let c=0;for(;;){const _=c;if(_<s){const i=$[_],r={_0:n._0+i._0|0,_1:n._1+i._1|0};S4(t,r)&&Et(o,r),c=_+1|0;continue}else break}return o}function to(t,e){const n=t._0>e._0?t._0-e._0|0:e._0-t._0|0,$=t._1>e._1?t._1-e._1|0:e._1-t._1|0;return n+$|0}function x4(t,e,n,$,o){if(e._0===n._0&&e._1===n._1)return e;const s=[{position:e,g_cost:0,h_cost:to(e,n),f_cost:to(e,n)}],c=R_([]),_=z2([]);for(;s.length>0;){let i=0,r=de(s,0);const a=s.length;let u=1;for(;;){const k=u;if(k<a){de(s,k).f_cost<r.f_cost&&(r=de(s,k),i=k),u=k+1|0;continue}else break}nf(s,i),ro(c,r.position,!0);const l=to(r.position,n);let p;const m=r.position;if(m._0===n._0&&m._1===n._1?p=!0:p=l<=o,p){let k=r.position,w=r.position;for(;;){const v=D2(_,k);if(v===void 0)break;{const I=v;w=k,k=I;const P=k;if(P._0===e._0&&P._1===e._1)break;continue}}return w}const g=C4(t,$,r.position),b=g.length;let f=0;for(;;){const k=f;if(k<b){t:{const w=g[k];if(J_(c,w)!==-1)break t;const M=r.g_cost+1|0;let I=!1,P=0;const z=s.length;let x=0;for(;;){const O=x;if(O<z){const R=de(s,O).position;if(R._0===w._0&&R._1===w._1){I=!0,P=O;break}x=O+1|0;continue}else break}if(I)M<de(s,P).g_cost&&(de(s,P).g_cost=M,de(s,P).f_cost=M+de(s,P).h_cost|0,l$(_,w,r.position));else{const O=to(w,n),R=M+O|0;v1(s,{position:w,g_cost:M,h_cost:O,f_cost:R}),l$(_,w,r.position)}break t}f=k+1|0;continue}else break}continue}}function I4(t,e){N_(t.rooms,e)}function v4(t){const e=zc(1,Kp,t),n={rooms:[]};return I4(n,e),n}function Rs(t,e){const n=Fe(t,e);if(n===void 0)return y();{const o=n,s=vt(t,e);if(s===void 0)return y();{const i=s._1;return W(X(o.blocks,i._0),i._1)}}}function Wt(t,e){const n=To(t,e),$=n._0,o=n._1;W(X($.blocks,o._0),o._1).occupant=Ze}function J$(t,e,n){const $=To(t,e),o=$._0,s=$._1;W(X(o.blocks,s._0),s._1).occupant=n}function B$(t){const e=t.index_position,n=e._0,$=e._1;f4(t.index_position,16);let o=0;for(;;){const s=o;if(s<16){let c=0;for(;;){const _=c;if(_<16){const i={_0:n+s|0,_1:$+_|0},r=W(X(t.blocks,s),_).occupant;switch(r.$tag){case 4:break;case 0:{const u=r._0;Ac(u,u.id,i),Nt(u.id,u.now_health,u.enemy_base.health);break}case 1:{const u=r._0;p4(u,u.id,i),Nt(u.id,u.now_health,u.copper.attribute.health);break}case 3:{const u=r._0;Ec(u,u.id,i);break}default:{const u=r._0;m4(u,u.id,i)}}W(X(t.blocks,s),_).resources.length>0&&Pn(i),c=_+1|0;continue}else break}o=s+1|0;continue}else return}}function L4(t,e){N_(t.rooms,e),B$(e)}function Ho(t,e,n){if(n.item_type.$tag===0){const o=To(t,e),s=o._0,c=o._1,_=W(X(s.blocks,c._0),c._1).resources.length;let i=0;for(;;){const r=i;if(r<_){if(E$(le(W(X(s.blocks,c._0),c._1).resources,r).item_type,n.item_type)){const a=le(W(X(s.blocks,c._0),c._1).resources,r);a.count=a.count+n.count|0;return}i=r+1|0;continue}else break}uo(W(X(s.blocks,c._0),c._1).resources,n);return}else return}function P4(t){return((t/5|0)+1|0)>11?11:(t/5|0)+1|0}function G4(t){return{capacity:t,items:[]}}function rn(t,e){return G1(qd(t.items),n=>{const $=n.item_type;if($.$tag===0){const s=$._0;return _n(s,e)}else return!1})}function te(t,e){const n=e.item_type;if(n.$tag===0){const o=n._0,s=t.items.length;let c=0;for(;;){const _=c;if(_<s){const i=le(t.items,_).item_type;if(i.$tag===0){const a=i._0;if(_n(a,o)){const u=le(t.items,_);u.count=u.count+e.count|0,le(t.items,_).count<=0&&I$(t.items,_);return}}c=_+1|0;continue}else break}if(e.count>0){uo(t.items,{item_type:new J(o),count:e.count});return}else return}else{const o=n._0;uo(t.items,{item_type:new at(o),count:e.count});return}}function j4(t,e){if(!(t.items.length<=e))return I$(t.items,e)}function O4(t){const e=rn(t,0),n=rn(t,1),$=rn(t,4),o=rn(t,3),s=rn(t,2);return e&&n&&$&&o&&(s||t.capacity<t.items.length)?(te(t,G(Qp,1)),te(t,G(Zp,-1)),te(t,G(tm,-1)),te(t,G(em,-1)),te(t,G(nm,-1)),!0):!1}function A4(t,e){const n=t.items,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s];if(E$(c.item_type,e))return c.count;o=s+1|0;continue}else break}return 0}function Rc(t,e){const n=e.cost,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s],_=c._0,i=c._1;if(A4(t,new J(_))<i)return!1;o=s+1|0;continue}else break}return!0}function Tc(t,e){const n=e.cost,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s],_=c._0,i=c._1;te(t,G(new J(_),-i|0)),o=s+1|0;continue}else return}}function E4(){return{map:v4(fc({buf:_m,start:0,end:3}))}}function ht(t,e){if(e===0&&($e(lt,t)?hn(t):$e(Ft,t)?Zt(t):$e(ie,t)&&go(t)),e===1&&($e(rt,t)||$e(Ft,t)?Zt(t):$e(ie,t)&&go(t)),e===2)if($e(rt,t)){Zt(t);return}else if($e(Ft,t)){Zt(t);return}else if($e(lt,t)){hn(t);return}else return;else return}function q4(t){const e=me(t),n=e.position,$=Y.val;let o;$===void 0?o=y():o=$;const s=o.map,c=vt(s,n);if(c===void 0){y();return}else{const i=c,r=i._0,a=i._1,u=W(X(r.blocks,a._0),a._1).resources,l=A([{_0:"structure",_1:vc(e)},{_0:"resources",_1:Go(u)}]);V(U,{type_msg:"handle_on_click_structure",content:N(new j(l))});return}}function zt(){const t=ct(rt);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,0);continue}}_t(rt)}function Rt(){const t=ct(lt);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,1);continue}}_t(lt)}function Tt(){const t=ct(ie);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,2);continue}}_t(ie)}function Jt(){const t=ct(Ft);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,0);continue}}_t(Ft),so.val=void 0,mn.val=void 0}function Fo(t){switch(t.$tag){case 0:return t._0.position;case 1:return t._0.position;default:return t._0.position}}function z4(t,e){Rt(),zt(),Jt(),Tt();const n=me(e),$=r4(n,t),o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c],i=Fo(_);Zt(i),It(rt,i),s=c+1|0;continue}else return}}function R4(){const t=ct(rt);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,0);continue}}_t(rt)}function Jc(t,e){const n=Math.fround(e-t.attribute.defense);if(Math.fround(n>Math.fround(0))){if(tn(t.attribute.dodge/100))return!1;if(t.now_health=Math.fround(t.now_health-n),Math.fround(t.now_health<=Math.fround(0)))return!0}return!1}function Bc(t,e){if(t.now_health=Math.fround(t.now_health+e),Math.fround(t.now_health>t.attribute.health)){t.now_health=t.attribute.health;return}else return}function No(t,e){const n=Math.fround(e-t.enemy_base.defense);if(Math.fround(n>Math.fround(0))){if(tn(t.enemy_base.dodge/100))return!1;if(t.now_health=Math.fround(t.now_health-n),Math.fround(t.now_health<=Math.fround(0)))return!0}return!1}function H$(t){const e=[],n=t.enemy_base.drop_items,$=n.length;let o=0;for(;;){const s=o;if(s<$){const c=n[s],_=c._0,i=c._1;tn(i)&&uo(e,_),o=s+1|0;continue}else break}return e}function T4(t,e,n){xe(t);const $=me(t),o=Dt(n,e);switch(o.$tag){case 0:{const i=o._0;if(No(i,$.structure_base.attribute.attack)){const a=H$(i),u=a.length;let l=0;for(;;){const p=l;if(p<u){const m=a[p];Ho(n,i.position,m),l=p+1|0;continue}else break}a.length>0&&Pn(i.position),Lo(Pt,i.id),ee(i.id),Wt(n,i.position)}else Nt(i.id,i.now_health,i.enemy_base.health);$.can_attack=!1,Ye($);break}case 1:{const i=o._0;$.owned?Bc(i,$.structure_base.attribute.attack):Jc(i,$.structure_base.attribute.attack)&&(B_(on,i.id),ee(i.id),Wt(n,i.position)),Nt(i.id,i.now_health,i.copper.attribute.health),$.can_attack=!1,Ye($);break}case 3:{const i=o._0;Jo(i,i.structure_base.attribute.attack)?(Po(Ie,i.id),ee(i.id),Wt(n,i.position)):Nt(i.id,i.now_health,i.structure_base.health),i.can_attack=!1,Ye(i);break}case 4:break;default:re()}const s=ct(rt);for(;;){const _=st(s);if(_===void 0)break;{const r=_;it(r),ht(r,0);continue}}_t(rt);let c;if(o.$tag===4?c=!0:c=!1,!c){R$(t);return}}function J4(t,e){Rt(),zt(),Jt(),Tt();const n=me(e),$=a4(n,t),o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c];hn(_),It(lt,_),s=c+1|0;continue}else return}}function B4(){const t=ct(lt);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,1);continue}}_t(lt)}function kn(t){t:switch(t){case 0:return 1;case 1:return 0;case 2:return 2;case 3:return 3;case 4:break t;case 5:break t;case 6:break t;default:break t}return N0()}function wn(t,e){const n=e._0-t._0|0,$=e._1-t._1|0;return n!==0?n>0?2:3:$>0?0:1}function H4(t,e,n){xe(t);const $=me(t);if(Fe(n,e)===void 0)re();else{const c=$.position,_=vt(n,c);let i;_===void 0?i=y():i=_;const r=i._0,a=i._1,u=vt(n,e);let l;u===void 0?l=y():l=u;const p=l._0,m=l._1;W(X(r.blocks,a._0),a._1).occupant=Ze,W(X(p.blocks,m._0),m._1).occupant=new So($),$.position=e,Me(t,kn(wn(c,e))),gn(t,e)}$.can_move=!1,Ye($);const s=ct(lt);for(;;){const c=st(s);if(c===void 0)break;{const i=c;it(i),ht(i,1);continue}}_t(lt)}function F4(t,e){Rt(),zt(),Jt(),Tt();const n=me(e),$=u4(n,t),o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c];Zt(_),It(rt,_),s=c+1|0;continue}else return}}function N4(t,e,n){const $=me(t),o=Dt(n,e);if(o.$tag===3){const c=o._0,_=c.storage;if(_===void 0){y();return}else{const r=_,a=$.storage;if(a===void 0)$.storage=r;else{const l=a;l.count=l.count+r.count|0}c.storage=void 0;return}}else{y();return}}function D4(){const t=ct(rt);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,0);continue}}_t(rt)}function U4(t,e){Rt(),zt(),Jt(),Tt();const n=me(e),$=n.storage;let o;$===void 0?o=y():o=$;const s=l4(n,o,t),c=s.length;let _=0;for(;;){const i=_;if(i<c){const r=s[i];Zt(r),It(Ft,r),_=i+1|0;continue}else return}}function V4(t,e,n){const $=me(t),o=Dt(n,e);if(o.$tag===1){const _=o._0.inventory,i=$.storage;let r;i===void 0?r=y():r=i,te(_,r),$.storage=void 0;return}else{y();return}}function W4(){const t=ct(Ft);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,0);continue}}_t(Ft)}function t$(t,e,n){const $=t.copper_type;let o;switch($){case 2:{o=!1;break}case 4:{o=!1;break}default:o=!0}const s=G4(5);te(s,G(cm,5));const c=ve(Je),_=t.copper_type;let i;_===4?i=!0:i=!1;const r=t.attribute.health,a=t.attribute,u={id:c,original_id:e,copper:t,can_move:!0,can_attack:o,can_summon:i,position:n,now_health:r,attribute:a,inventory:s};return G2(on,u.id,u),u}function ce(t){z$(t.id),Gc(t.id,t.can_move),q$(t.id,t.can_attack),d4(t.id,t.can_summon)}function X4(t){const e=xn.warehouse,n=t$($o(e,ue(t,0)),ue(t,0),im),$=t$($o(e,ue(t,1)),ue(t,1),rm),o=t$($o(e,ue(t,2)),ue(t,2),am);Y.val=E4();const s=Y.val;let c;s===void 0?c=y():c=s;const _=c.map,i=cd(_.rooms,0);W(X(i.blocks,0),6).occupant=new Xe(n),W(X(i.blocks,0),7).occupant=new Xe($),W(X(i.blocks,0),8).occupant=new Xe(o),B$(i),Me(n.id,2),Me($.id,2),Me(o.id,2),ce(n),ce($),ce(o)}function Y4(){return E1(H_(on))}function K4(t){const e=[],n=t.position,$=n._0,o=n._1,s=Y4(),c=s.length;let _=0;for(;;){const p=_;if(p<c){const m=s[p];fs(e,{_0:m.position,_1:new ze(m)}),_=p+1|0;continue}else break}C$(Pt)(p=>(p.id!==t.id&&p.owned&&fs(e,{_0:p.position,_1:new qe(p)}),1));let r=1e9,a;const u=e.length;let l=0;for(;;){const p=l;if(p<u){const m=e[p],g=m._0,b=g._0,f=g._1,k=m._1,w=b-$|0,v=w<0?-w|0:w,M=f-o|0,I=v+(M<0?-M|0:M)|0;I<r&&(r=I,a=k),l=p+1|0;continue}else break}return a}function F$(t,e){const n=t.enemy_base.attack_range,$=He(n),o=[],s=$.length;let c=0;for(;;){const _=c;if(_<s){const i=$[_],r={_0:t.position._0+i._0|0,_1:t.position._1+i._1|0};if(Ne(e,r)){const a=Dt(e,r);if(t.owned)switch(a.$tag){case 1:{const l=a._0;Ct(o,new ze(l));break}case 0:{const l=a._0;l.owned===!0&&Ct(o,new qe(l));break}case 3:{const l=a._0;l.owned===!0&&Ct(o,new Qe(l));break}}else switch(a.$tag){case 1:{const l=a._0;Ct(o,new ze(l));break}case 0:{const l=a._0;l.owned===!1&&Ct(o,new qe(l));break}case 3:{const l=a._0;l.owned===!1&&Ct(o,new Qe(l));break}}}c=_+1|0;continue}else break}return o}function Q4(t,e){const n=F$(e,t);if(n.length>0){const $=ld(n,0);switch(xe(e.id),$.$tag){case 0:{const s=$._0;No(s,e.enemy_base.attack)?(Lo(Pt,s.id),ee(s.id),Wt(t,s.position)):Nt(s.id,s.now_health,s.enemy_base.health);break}case 1:{const s=$._0;Jc(s,e.enemy_base.attack)?(B_(on,s.id),ee(s.id),Wt(t,s.position)):Nt(s.id,s.now_health,s.copper.attribute.health);break}default:{const s=$._0;Jo(s,e.enemy_base.attack)?(Po(Ie,s.id),ee(s.id),Wt(t,s.position)):Nt(s.id,s.now_health,s.structure_base.health)}}}else{const $=K4(e);if($!==void 0){const c=Fo($),_=M4(t),i=x4(_,e.position,c,e.enemy_base.move_range,e.enemy_base.attack_range);if(i!==void 0){const a=i;xe(e.id),Me(e.id,kn(wn(e.position,a))),gn(e.id,a),Wt(t,e.position),e.position=a,J$(t,e.position,new en(e))}}}return 1}function Z4(){const t=Y.val;let e;t===void 0?e=y():e=t;const n=e.map;C$(Pt)(o=>o.owned===!1?Q4(n,o):1)}function tg(){const t=ct(rt);for(;;){const o=st(t);if(o===void 0)break;it(o)}_t(rt);const e=ct(lt);for(;;){const o=st(e);if(o===void 0)break;it(o)}_t(lt);const n=ct(Ft);for(;;){const o=st(n);if(o===void 0)break;it(o)}_t(Ft);const $=ct(ie);for(;;){const o=st($);if(o===void 0)break;it(o)}_t(ie)}function yn(t){if(z$(t.id),t.can_move&&Gc(t.id,!0),t.can_attack){q$(t.id,!0);return}else return}function eg(){H_(on)($=>{$.can_move=!0;const o=$.copper.copper_type;let s;switch(o){case 2:{s=!1;break}case 4:{s=!1;break}default:s=!0}$.can_attack=s;const c=$.copper.copper_type;let _;return c===4?_=!0:_=!1,$.can_summon=_,ce($),1}),C$(Pt)($=>($.owned&&($.can_move=!0,$.can_attack=!0,yn($)),1)),F_(Ie)($=>($.owned&&($.structure_base.can_move&&($.can_move=!0),$.structure_base.can_attack&&($.can_attack=!0),Ye($)),1))}function ng(){F_(Ie)(e=>{if(e.structure_base.name==="心源矿钻"){const n=e.storage;let $;if(n===void 0){const o=e.resource_type;let s;o===void 0?s=y():s=o,$=G(new J(s),2)}else{const s=n;$={item_type:s.item_type,count:s.count+2|0}}e.storage=$}return 1})}function og(){if(tn(.2)){const t=Y.val;let e;t===void 0?e=y():e=t;const $=e.map.rooms,o=$.length;let s=0;for(;;){const c=s;if(c<o){t:{const _=$[c];if(h4(_))break t;if(W(X(_.blocks,7),7).occupant.$tag===3){const r=_.level,a=qc(r),u=k4(_),l=rd(u,Oe(0,u.length-1|0)),p=T$(a,l,!1);W(X(_.blocks,l._0),l._1).occupant=new en(p),S$(Pt,p.id,p)}break t}s=c+1|0;continue}else return}}else return}function $g(){tg(),eg(),Z4(),i4(),ng(),og()}function sg(t){Rt(),zt(),Jt(),Tt();const e=In(Pt,t);let n;e===void 0?n=y():n=e;const $=n.position,o=Y.val;let s;o===void 0?s=y():s=o;const c=s.map,_=vt(c,$);if(_===void 0){y();return}else{const r=_,a=r._0,u=r._1,l=W(X(a.blocks,u._0),u._1).resources,m=F$(n,c).length!==0,g=A([{_0:"enemy",_1:Ic(n)},{_0:"resources",_1:Go(l)},{_0:"has_attack_targets",_1:xt(m)}]);V(U,{type_msg:"handle_on_click_enemy",content:N(new j(g))});return}}function _g(t,e){Rt(),zt(),Jt(),Tt();const n=In(Pt,e);let $;n===void 0?$=y():$=n;const o=F$($,t),s=o.length;let c=0;for(;;){const _=c;if(_<s){const i=o[_],r=Fo(i);Zt(r),It(rt,r),c=_+1|0;continue}else return}}function cg(){const t=ct(rt);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,0);continue}}_t(rt)}function ig(t,e,n){xe(t);const $=In(Pt,t);let o;$===void 0?o=y():o=$;const s=Dt(n,e);switch(s.$tag){case 0:{const r=s._0;if(No(r,o.enemy_base.attack)){const u=H$(r),l=u.length;let p=0;for(;;){const m=p;if(m<l){const g=u[m];Ho(n,r.position,g),p=m+1|0;continue}else break}u.length>0&&Pn(r.position),Lo(Pt,r.id),ee(r.id),Wt(n,r.position)}else Nt(r.id,r.now_health,r.enemy_base.health);o.can_attack=!1,yn(o);break}case 3:{const r=s._0;Jo(r,o.enemy_base.attack)?(Po(Ie,r.id),ee(r.id),Wt(n,r.position)):Nt(r.id,r.now_health,r.structure_base.health),o.can_attack=!1,yn(o);break}case 4:break;default:re()}const c=ct(rt);for(;;){const i=st(c);if(i===void 0)break;{const a=i;it(a),ht(a,0);continue}}_t(rt);let _;if(s.$tag===4?_=!0:_=!1,!_){R$(t);return}}function rg(t,e){const n=He(t.enemy_base.move_range),$=[],o=n.length;let s=0;for(;;){const c=s;if(c<o){const _=n[c],i={_0:t.position._0+_._0|0,_1:t.position._1+_._1|0};Ln(e,i)||Et($,i),s=c+1|0;continue}else break}return $}function ag(t,e){Rt(),zt(),Jt(),Tt();const n=In(Pt,e);let $;n===void 0?$=y():$=n;const o=rg($,t),s=o.length;let c=0;for(;;){const _=c;if(_<s){const i=o[_];hn(i),It(lt,i),c=_+1|0;continue}else return}}function ug(){const t=ct(lt);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,1);continue}}_t(lt)}function lg(t,e,n){xe(t);const $=In(Pt,t);let o;if($===void 0?o=y():o=$,Fe(n,e)===void 0)re();else{const _=o.position,i=vt(n,_);let r;i===void 0?r=y():r=i;const a=r._0,u=r._1,l=vt(n,e);let p;l===void 0?p=y():p=l;const m=p._0,g=p._1;W(X(a.blocks,u._0),u._1).occupant=Ze,W(X(m.blocks,g._0),g._1).occupant=new en(o),o.position=e,Me(t,kn(wn(_,e))),gn(t,e)}o.can_move=!1,yn(o);const c=ct(lt);for(;;){const _=st(c);if(_===void 0)break;{const r=_;it(r),ht(r,1);continue}}_t(lt)}function gt(t){const e=F2(on,t);return e===void 0?y():e}function pg(t){const e=t.copper.copper_info.attack_range;if(e===void 0)switch(t.copper.copper_type){case 0:return 1;case 1:return 3;case 3:return 1;case 4:return 0;default:return 0}else return e}function Hc(t,e){const n=pg(t),$=He(n),o=[],s=$.length;let c=0;for(;;){const _=c;if(_<s){const i=$[_],r={_0:t.position._0+i._0|0,_1:t.position._1+i._1|0};if(Ne(e,r)){const a=Dt(e,r);switch(a.$tag){case 1:{const l=a._0;l.copper.copper_type===3&&Ct(o,new ze(l));break}case 3:{const l=a._0;l.owned===!1&&Ct(o,new Qe(l));break}case 0:{const l=a._0;l.owned===!1&&Ct(o,new qe(l));break}}}c=_+1|0;continue}else break}return o}function mg(t){Rt(),zt(),Jt(),Tt();const e=gt(t),n=e.position,$=Y.val;let o;$===void 0?o=y():o=$;const s=o.map,c=vt(s,n);if(c===void 0){y();return}else{const i=c,r=i._0,a=i._1,u=W(X(r.blocks,a._0),a._1).resources,p=Hc(e,s).length!==0,m=A([{_0:"copper",_1:xc(gt(t))},{_0:"resources",_1:Go(u)},{_0:"has_attack_targets",_1:xt(p)}]);V(U,{type_msg:"handle_on_click_copper",content:N(new j(m))}),ce(e);return}}function dg(t,e){Rt(),zt(),Jt(),Tt();const n=gt(e),$=Hc(n,t),o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c],i=Fo(_);Zt(i),It(rt,i),s=c+1|0;continue}else return}}function fg(t,e,n){xe(t);const $=gt(t),o=Dt(n,e);switch(o.$tag){case 0:{const i=o._0;if(No(i,$.attribute.attack)){const a=H$(i),u=a.length;let l=0;for(;;){const p=l;if(p<u){const m=a[p];Ho(n,i.position,m),l=p+1|0;continue}else break}a.length>0&&Pn(i.position),Lo(Pt,i.id),ee(i.id),Wt(n,i.position)}else Nt(i.id,i.now_health,i.enemy_base.health);$.can_attack=!1,ce($);break}case 1:{const i=o._0;Bc(i,$.attribute.attack),Nt(i.id,i.now_health,i.copper.attribute.health),$.can_attack=!1,ce($);break}case 3:{const i=o._0;Jo(i,$.attribute.attack)?(Po(Ie,i.id),ee(i.id),Wt(n,i.position)):Nt(i.id,i.now_health,i.structure_base.health),$.can_attack=!1,ce($);break}case 4:break;default:re()}const s=ct(rt);for(;;){const _=st(s);if(_===void 0)break;{const r=_;it(r),ht(r,0);continue}}_t(rt);let c;if(o.$tag===4?c=!0:c=!1,!c){R$(t);return}}function bg(t,e){const n=[],$=[],o=[];ds(o,{_0:t.position,_1:0}),Et($,t.position);let s=0;for(;s<o.length;){const c=id(o,s),_=c._0,i=c._1;if(s=s+1|0,i>=5)continue;const r=[um,lm,pm,mm],a=r.length;let u=0;for(;;){const l=u;if(l<a){t:{const p=r[l],m=_._0+p._0|0,g=_._1+p._1|0,b={_0:m,_1:g};let f,k;e:{n:{const w=$.length;let v=0;for(;;){const M=v;if(M<w){const I=$[M];if(I._0===m&&I._1===g){k=!0;break n}v=M+1|0;continue}else break}f=!1;break e}f=k}if(f)break t;Et($,b),Ln(e,b)||(Et(n,b),ds(o,{_0:b,_1:i+1|0}));break t}u=l+1|0;continue}else break}continue}return n}function gg(t,e){Rt(),zt(),Jt(),Tt();const n=gt(e),$=bg(n,t),o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c];hn(_),It(lt,_),s=c+1|0;continue}else return}}function hg(t,e,n){xe(t);const $=gt(t);if(Fe(n,e)===void 0){const c=$.position,_=vt(n,c);let i;_===void 0?i=y():i=_;const r=i._0,a=i._1,l=w4(r,e)._1,p=P4(n.rooms.length+1|0),g=zc(p,l,fc({buf:[l],start:0,end:1}));L4(n,g),W(X(r.blocks,a._0),a._1).occupant=Ze;const b=e._0-l._0|0,f=e._1-l._1|0;W(X(g.blocks,b),f).occupant=new Xe($),B$(g),Me(t,kn(wn(c,e))),$.position=e,gn(t,e)}else{const c=$.position,_=vt(n,c);let i;_===void 0?i=y():i=_;const r=i._0,a=i._1,u=vt(n,e);let l;u===void 0?l=y():l=u;const p=l._0,m=l._1;W(X(r.blocks,a._0),a._1).occupant=Ze,W(X(p.blocks,m._0),m._1).occupant=new Xe($),$.position=e,Me(t,kn(wn(c,e))),gn(t,e)}$.can_move=!1,ce($);const s=ct(lt);for(;;){const c=st(s);if(c===void 0)break;{const i=c;it(i),ht(i,1);continue}}_t(lt)}function kg(t,e,n){const $=[],o=[dm,fm,bm,gm],s=o.length;let c=0;for(;;){const _=c;if(_<s){const i=o[_],r={_0:t.position._0+i._0|0,_1:t.position._1+i._1|0};if(Ne(n,r)){const a=Dt(n,r);if(a.$tag===1){const l=a._0;Bo(l.inventory,e.item_type)&&Et($,r)}}c=_+1|0;continue}else break}return $}function wg(t,e,n){Rt(),zt(),Jt(),Tt(),so.val=t;const $=gt(t),o=le($.inventory.items,e).item_type;mn.val=G(o,n);const s=Y.val;let c;s===void 0?c=y():c=s;const _=c.map,i=mn.val;let r;i===void 0?r=y():r=i;const a=kg($,r,_),u=a.length;let l=0;for(;;){const p=l;if(p<u){const m=a[p];Zt(m),It(Ft,m),l=p+1|0;continue}else return}}function yg(t,e,n){const $=gt(e);te(t.inventory,{item_type:n.item_type,count:-n.count|0}),te($.inventory,n)}function Mg(t){const e=so.val;let n;e===void 0?n=y():n=e;const $=gt(n),o=Y.val;let s;o===void 0?s=y():s=o;const c=s.map,_=Dt(c,t);if(_.$tag===1){const a=_._0.id,u=mn.val;let l;u===void 0?l=y():l=u,yg($,a,l);const p=ct(Ft);for(;;){const m=st(p);if(m===void 0)break;{const b=m;it(b),ht(b,0);continue}}_t(Ft),so.val=void 0,mn.val=void 0;return}else{y();return}}function Sg(t,e){if(X2(Pt,t)){const _="无法拾取该物品",i=A([{_0:"message",_1:new q(_)}]);V(U,{type_msg:"cannot_pick_up_item",content:N(new j(i))});return}const n=gt(t),$=Y.val;let o;$===void 0?o=y():o=$;const s=o.map,c=vt(s,n.position);if(c===void 0){y();return}else{const i=c,r=i._0,a=i._1,u=W(X(r.blocks,a._0),a._1).resources,l=le(u,e);if(Bo(n.inventory,l.item_type))if(te(n.inventory,l),I$(W(X(r.blocks,a._0),a._1).resources,e),W(X(r.blocks,a._0),a._1).resources.length===0){b4(n.position);return}else return;else{const p="无法拾取该物品",m=A([{_0:"message",_1:new q(p)}]);V(U,{type_msg:"cannot_pick_up_item",content:N(new j(m))});return}}}function Cg(t,e){const n=gt(t),$=le(n.inventory.items,e);j4(n.inventory,e);const o=Y.val;let s;o===void 0?s=y():s=o;const c=s.map;Ho(c,n.position,$),Pn(n.position)}function xg(t){const e=gt(t);if(O4(e.inventory)){const $="合成成功：获得灵光火花",o=A([{_0:"message",_1:new q($)}]);V(U,{type_msg:"craft_success",content:N(new j(o))});return}else{const $="合成失败：材料不足",o=A([{_0:"message",_1:new q($)}]);V(U,{type_msg:"craft_failed",content:N(new j(o))});return}}function Ig(t,e){const n=gt(t),o=le(n.inventory.items,e).item_type;if(o.$tag===1){const c=o._0,_=Hb(n.copper.equipment_slot,c),i=_._0;if(_._1){n.copper.equipment_slot=i,n.copper.attribute=bo(n.copper.attribute,c.equipment_base.attribute);return}else{const a="装备槽已满",u=A([{_0:"message",_1:new q(a)}]);V(U,{type_msg:"equipment_slot_full",content:N(new j(u))});return}}else{y();return}}function vg(t,e){const n=gt(t),$=n.copper.equipment_slot;let o;switch(e){case 0:{const c=$.slot1;c===void 0?o=y():o=c;break}case 1:{const c=$.slot2;c===void 0?o=y():o=c;break}default:o=F0()}const s=Q(-o.equipment_base.attribute.health,-o.equipment_base.attribute.attack,-o.equipment_base.attribute.defense,-o.equipment_base.attribute.dodge);if(Bo(n.inventory,new at(o))){const c=Fb(n.copper.equipment_slot,e);n.copper.equipment_slot=c,n.copper.attribute=bo(n.copper.attribute,s);return}else{const c="背包已满",_=A([{_0:"message",_1:new q(c)}]);V(U,{type_msg:"inventory_full",content:N(new j(_))});return}}function Lg(t,e){const n=[],$=[hm,km,wm,ym],o=$.length;let s=0;for(;;){const c=s;if(c<o){const _=$[c],i={_0:t.position._0+_._0|0,_1:t.position._1+_._1|0};Ln(e,i)||Et(n,i),s=c+1|0;continue}else break}return n}function Pg(t){Rt(),zt(),Jt(),Tt();const e=gt(t),n=Y.val;let $;n===void 0?$=y():$=n;const o=$.map,s=Lg(e,o),c=s.length;let _=0;for(;;){const i=_;if(i<c){const r=s[i];go(r),It(ie,r),_=i+1|0;continue}else return}}function Gg(t,e,n,$){const o=B2(l_,$);let s;o===void 0?s=y():s=o;const c=s.summon_cost,_=gt(t);if(Rc(_.inventory,c)){Tc(_.inventory,c);const i=T$(s,e,!0);J$(n,e,new en(i)),Ac(i,i.id,e),yn(i),_.can_summon=!1,ce(_);return}else{const i="资源不足",r=A([{_0:"message",_1:new q(i)}]);V(U,{type_msg:"resource_not_enough",content:N(new j(r))});return}}function jg(){const t=A([{_0:"contents",_1:g1(_o)}]);V(U,{type_msg:"get_summon_menu",content:N(new j(t))})}function Og(){const t=A([{_0:"contents",_1:w1(o$)}]);V(U,{type_msg:"get_structure_menu",content:N(new j(t))})}function Ag(t,e,n){const $=[],o=[Mm,Sm,Cm,xm],s=o.length;let c=0;for(;;){const _=c;if(_<s){const i=o[_],r={_0:t.position._0+i._0|0,_1:t.position._1+i._1|0};if(n)Ne(e,r)&&Rs(e,r).occupant.$tag===2&&Et($,r);else{let a;Ln(e,r)?a=!1:a=Rs(e,r).resources.length===0,a&&Et($,r)}c=_+1|0;continue}else break}return $}function Eg(t,e){Rt(),zt(),Jt(),Tt();const n=gt(t),$=Y.val;let o;$===void 0?o=y():o=$;const s=o.map,c=Ag(n,s,e==="心源矿钻"),_=c.length;let i=0;for(;;){const r=i;if(r<_){const a=c[r];go(a),It(ie,a),i=r+1|0;continue}else return}}function g$(){const t=ct(ie);for(;;){const e=st(t);if(e===void 0)break;{const $=e;it($),ht($,2);continue}}_t(ie)}function qg(t,e,n,$){const o=H2(u_,$);let s;o===void 0?s=y():s=o;const c=s.cost,_=gt(t);if(Rc(_.inventory,c)){Tc(_.inventory,c);let i;if($==="心源矿钻"){const a=Dt(n,e);if(a.$tag===2){const l=a._0;Wt(n,e),ee(l.id),i=l.material_base.resource_type}else i=y()}else i=void 0;const r=jc(s,!0,i,e);J$(n,e,new So(r)),Ec(r,r.id,e),Ye(r),g$();return}else{const i="资源不足",r=A([{_0:"message",_1:new q(i)}]);V(U,{type_msg:"resource_not_enough",content:N(new j(r))}),g$();return}}function E(t){t:{const e=no(t);let n;e===void 0?n=y():n=e;const $=Xf({str:n,start:0,end:n.length});if($.$tag===1)return $._0;$._0;break t}return y()}function zg(t){let e;t:{e:{const n=Af({str:t,start:0,end:t.length},1024);if(n.$tag===1)e=n._0;else{n._0;break e}break t}e=y()}t:if(e.$tag===6){const $=e._0,o=S($,"type");if(o===void 0)break t;{const c=o;if(c.$tag===4)switch(c._0){case"on_click_copper":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;mg(E(m));return}else break t}}case"on_attack_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,dg(k.map,E(b));return}}else break t}}case"on_attack_end":{zt();return}case"on_attack_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,fg(B,D,T.map);return}}}else break t}}}else break t}}case"on_move_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,gg(k.map,E(b));return}}else break t}}case"on_move_end":{Rt();return}case"on_move_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,hg(B,D,T.map);return}}}else break t}}}else break t}}case"on_game_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"ids");if(m===void 0)break t;{const f=zd(Ef(m)),k=new Array(f.length),w=f.length;let v=0;for(;;){const M=v;if(M<w){const I=f[M];k[M]=E(I),v=M+1|0;continue}else break}X4(k);return}}else break t}}case"on_transfer_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"index");if(f===void 0)break t;{const w=f,v=S(p,"count");if(v===void 0)break t;{const I=v;wg(E(b),E(w),E(I));return}}}}else break t}}case"on_transfer_end":{Jt();return}case"on_transfer_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"position");if(m===void 0)break t;{const b=m;if(b.$tag===6){const k=b._0,w=S(k,"x");if(w===void 0)break t;{const M=w,I=S(k,"y");if(I===void 0)break t;{const z=I;Mg({_0:E(M),_1:E(z)});return}}}else break t}}else break t}}case"on_copper_pick_up":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"index");if(f===void 0)break t;{const w=f;Sg(E(b),E(w));return}}}else break t}}case"on_copper_drop_item":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"index");if(f===void 0)break t;{const w=f;Cg(E(b),E(w));return}}}else break t}}case"on_copper_craft":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;xg(E(m));return}else break t}}case"on_copper_equip_item":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"index");if(f===void 0)break t;{const w=f;Ig(E(b),E(w));return}}}else break t}}case"on_copper_unequip_item":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"index");if(f===void 0)break t;{const w=f;vg(E(b),E(w));return}}}else break t}}case"on_game_round_pass":{$g();return}case"on_click_enemy":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;sg(E(m));return}else break t}}case"on_enemy_attack_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,_g(k.map,E(b));return}}else break t}}case"on_enemy_attack_end":{cg();return}case"on_enemy_attack_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,ig(B,D,T.map);return}}}else break t}}}else break t}}case"on_enemy_move_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,ag(k.map,E(b));return}}else break t}}case"on_enemy_move_end":{ug();return}case"on_enemy_move_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,lg(B,D,T.map);return}}}else break t}}}else break t}}case"on_get_summon_menu":{jg();return}case"on_summon_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;Pg(E(m));return}else break t}}case"on_summon_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=S(p,"name");if(B===void 0)break t;{const F=B,T=E(b),pt={_0:E(z),_1:E(R)},wt=Y.val;let Ot;wt===void 0?Ot=y():Ot=wt;const Ut=Ot.map,ae=no(F);let Kt;ae===void 0?Kt=y():Kt=ae,Gg(T,pt,Ut,Kt);return}}}}else break t}}}else break t}}case"on_summon_end":{Tt();return}case"on_click_structure":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;q4(E(m));return}else break t}}case"on_get_structure_menu":{Og();return}case"on_structure_build_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"name");if(f===void 0)break t;{const w=f,v=E(b),M=no(w);let I;M===void 0?I=y():I=M,Eg(v,I);return}}}else break t}}case"on_structure_build_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=S(p,"name");if(B===void 0)break t;{const F=B,T=E(b),pt={_0:E(z),_1:E(R)},wt=Y.val;let Ot;wt===void 0?Ot=y():Ot=wt;const Ut=Ot.map,ae=no(F);let Kt;ae===void 0?Kt=y():Kt=ae,qg(T,pt,Ut,Kt);return}}}}else break t}}}else break t}}case"on_structure_build_end":{g$();return}case"on_structure_attack_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,z4(k.map,E(b));return}}else break t}}case"on_structure_attack_end":{R4();return}case"on_structure_attack_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,T4(B,D,T.map);return}}}else break t}}}else break t}}case"on_structure_move_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,J4(k.map,E(b));return}}else break t}}case"on_structure_move_end":{B4();return}case"on_structure_move_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,H4(B,D,T.map);return}}}else break t}}}else break t}}case"on_structure_extract_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,F4(k.map,E(b));return}}else break t}}case"on_structure_extract_end":{D4();return}case"on_structure_extract_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,N4(B,D,T.map);return}}}else break t}}}else break t}}case"on_structure_transfer_start":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=Y.val;let k;f===void 0?k=y():k=f,U4(k.map,E(b));return}}else break t}}case"on_structure_transfer_end":{W4();return}case"on_structure_transfer_apply":{const r=S($,"content");if(r===void 0)break t;{const u=r;if(u.$tag===6){const p=u._0,m=S(p,"id");if(m===void 0)break t;{const b=m,f=S(p,"position");if(f===void 0)break t;{const w=f;if(w.$tag===6){const M=w._0,I=S(M,"x");if(I===void 0)break t;{const z=I,x=S(M,"y");if(x===void 0)break t;{const R=x,B=E(b),D={_0:E(z),_1:E(R)},F=Y.val;let T;F===void 0?T=y():T=F,V4(B,D,T.map);return}}}else break t}}}else break t}}default:break t}else break t}}else break t;re()}function Rg(){return Zb(xn)}function Tg(){return t4(xn)}function Jg(){return e4(xn)}function Bg(t){return n4(xn,t)}function Hg(t){Ab(U,t)}function Fg(t){zg(t)}export{Fg as eventloop,Jg as global_gacha,Tg as global_get_copper_list,Rg as global_get_resource,Hg as global_info_subscribe,Bg as global_upgrade_copper};
