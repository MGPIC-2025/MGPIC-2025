import{T as _l,a as Ho,b as sa,L as oa,c as Vn,F as Gs,M as xt,V as ra,C as kt,d as vt,S as Et,e as ml,P as gl,D as ur,f as Hs,g as st,I as bl,Q as ia,h as yl,O as aa,i as wl,j as vl,B as Kn,k as Tl,l as ca,N as Ml,m as xl,n as Cl,o as Uo,p as la,R as jo,q as Sl,r as Al,s as Ll,t as $o,u as Il,v as fr,w as Rl,x as Un,y as El,z as ua,A as Pl,E as fa,G as kl,H as Ol,J as Nl,K as Dl,U as _o,W as pr,X as Fl,Y as Gl,Z as Hl,_ as Ul,$ as jl,a0 as Bl,a1 as pa,a2 as Vl,a3 as Hr,a4 as Ur,a5 as jr,a6 as Br,a7 as Bo,a8 as Kl,a9 as Wl,aa as Us,ab as ql,ac as da,ad as zl,ae as Vr,af as Xl,ag as ha,ah as $a,ai as _a}from"./three-CaWlP2oR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ot(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ue=Object.freeze({}),wn=Object.freeze([]),Ae=()=>{},ma=()=>!1,hs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),js=e=>e.startsWith("onUpdate:"),me=Object.assign,dr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Jl=Object.prototype.hasOwnProperty,re=(e,t)=>Jl.call(e,t),z=Array.isArray,rn=e=>so(e)==="[object Map]",ga=e=>so(e)==="[object Set]",J=e=>typeof e=="function",_e=e=>typeof e=="string",Xt=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",hr=e=>(ce(e)||J(e))&&J(e.then)&&J(e.catch),ba=Object.prototype.toString,so=e=>ba.call(e),$r=e=>so(e).slice(8,-1),ya=e=>so(e)==="[object Object]",_r=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Wn=Ot(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yl=Ot("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),oo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Zl=/-\w/g,ot=oo(e=>e.replace(Zl,t=>t.slice(1).toUpperCase())),Ql=/\B([A-Z])/g,qt=oo(e=>e.replace(Ql,"-$1").toLowerCase()),ro=oo(e=>e.charAt(0).toUpperCase()+e.slice(1)),tn=oo(e=>e?`on${ro(e)}`:""),Vt=(e,t)=>!Object.is(e,t),En=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Bs=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},eu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},tu=e=>{const t=_e(e)?Number(e):NaN;return isNaN(t)?e:t};let Kr;const $s=()=>Kr||(Kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bt(e){if(z(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=_e(s)?ru(s):Bt(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(_e(e)||ce(e))return e}const nu=/;(?![^(]*\))/g,su=/:([^]+)/,ou=/\/\*[^]*?\*\//g;function ru(e){const t={};return e.replace(ou,"").split(nu).forEach(n=>{if(n){const s=n.split(su);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function zt(e){let t="";if(_e(e))t=e;else if(z(e))for(let n=0;n<e.length;n++){const s=zt(e[n]);s&&(t+=s+" ")}else if(ce(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const iu="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",au="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",cu="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",lu=Ot(iu),uu=Ot(au),fu=Ot(cu),pu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",du=Ot(pu);function wa(e){return!!e||e===""}const va=e=>!!(e&&e.__v_isRef===!0),$e=e=>_e(e)?e:e==null?"":z(e)||ce(e)&&(e.toString===ba||!J(e.toString))?va(e)?$e(e.value):JSON.stringify(e,Ta,2):String(e),Ta=(e,t)=>va(t)?Ta(e,t.value):rn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[mo(s,r)+" =>"]=o,n),{})}:ga(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>mo(n))}:Xt(t)?mo(t):ce(t)&&!z(t)&&!ya(t)?String(t):t,mo=(e,t="")=>{var n;return Xt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function it(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let Ue;class hu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ue;try{return Ue=this,t()}finally{Ue=n}}else it("cannot run an inactive effect scope.")}on(){++this._on===1&&(this.prevScope=Ue,Ue=this)}off(){this._on>0&&--this._on===0&&(Ue=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function $u(){return Ue}let le;const go=new WeakSet;class Ma{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ue&&Ue.active&&Ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,go.has(this)&&(go.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ca(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wr(this),Sa(this);const t=le,n=rt;le=this,rt=!0;try{return this.fn()}finally{le!==this&&it("Active effect was not restored correctly - this is likely a Vue internal bug."),Aa(this),le=t,rt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)br(t);this.deps=this.depsTail=void 0,Wr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?go.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vo(this)&&this.run()}get dirty(){return Vo(this)}}let xa=0,qn,zn;function Ca(e,t=!1){if(e.flags|=8,t){e.next=zn,zn=e;return}e.next=qn,qn=e}function mr(){xa++}function gr(){if(--xa>0)return;if(zn){let t=zn;for(zn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;qn;){let t=qn;for(qn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Sa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Aa(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),br(s),_u(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function Vo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(La(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function La(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===rs)||(e.globalVersion=rs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Vo(e))))return;e.flags|=2;const t=e.dep,n=le,s=rt;le=e,rt=!0;try{Sa(e);const o=e.fn(e._value);(t.version===0||Vt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{le=n,rt=s,Aa(e),e.flags&=-3}}function br(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subsHead===e&&(n.subsHead=o),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)br(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function _u(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let rt=!0;const Ia=[];function at(){Ia.push(rt),rt=!1}function ct(){const e=Ia.pop();rt=e===void 0?!0:e}function Wr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=le;le=void 0;try{t()}finally{le=n}}}let rs=0;class mu{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,this.subsHead=void 0}track(t){if(!le||!rt||le===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==le)n=this.activeLink=new mu(le,this),le.deps?(n.prevDep=le.depsTail,le.depsTail.nextDep=n,le.depsTail=n):le.deps=le.depsTail=n,Ra(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=le.depsTail,n.nextDep=void 0,le.depsTail.nextDep=n,le.depsTail=n,le.deps===n&&(le.deps=s)}return le.onTrack&&le.onTrack(me({effect:le},t)),n}trigger(t){this.version++,rs++,this.notify(t)}notify(t){mr();try{for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(me({effect:n.sub},t));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{gr()}}}function Ra(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Ra(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e}}const Ko=new WeakMap,an=Symbol("Object iterate"),Wo=Symbol("Map keys iterate"),is=Symbol("Array iterate");function Me(e,t,n){if(rt&&le){let s=Ko.get(e);s||Ko.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new yr),o.map=s,o.key=n),o.track({target:e,type:t,key:n})}}function gt(e,t,n,s,o,r){const i=Ko.get(e);if(!i){rs++;return}const a=c=>{c&&c.trigger({target:e,type:t,key:n,newValue:s,oldValue:o,oldTarget:r})};if(mr(),t==="clear")i.forEach(a);else{const c=z(e),u=c&&_r(n);if(c&&n==="length"){const l=Number(s);i.forEach((f,p)=>{(p==="length"||p===is||!Xt(p)&&p>=l)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(is)),t){case"add":c?u&&a(i.get("length")):(a(i.get(an)),rn(e)&&a(i.get(Wo)));break;case"delete":c||(a(i.get(an)),rn(e)&&a(i.get(Wo)));break;case"set":rn(e)&&a(i.get(an));break}}gr()}function $n(e){const t=ee(e);return t===e?t:(Me(t,"iterate",is),Ne(e)?t:t.map(Ce))}function io(e){return Me(e=ee(e),"iterate",is),e}const gu={__proto__:null,[Symbol.iterator](){return bo(this,Symbol.iterator,Ce)},concat(...e){return $n(this).concat(...e.map(t=>z(t)?$n(t):t))},entries(){return bo(this,"entries",e=>(e[1]=Ce(e[1]),e))},every(e,t){return Ct(this,"every",e,t,void 0,arguments)},filter(e,t){return Ct(this,"filter",e,t,n=>n.map(Ce),arguments)},find(e,t){return Ct(this,"find",e,t,Ce,arguments)},findIndex(e,t){return Ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ct(this,"findLast",e,t,Ce,arguments)},findLastIndex(e,t){return Ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return yo(this,"includes",e)},indexOf(...e){return yo(this,"indexOf",e)},join(e){return $n(this).join(e)},lastIndexOf(...e){return yo(this,"lastIndexOf",e)},map(e,t){return Ct(this,"map",e,t,void 0,arguments)},pop(){return Pn(this,"pop")},push(...e){return Pn(this,"push",e)},reduce(e,...t){return qr(this,"reduce",e,t)},reduceRight(e,...t){return qr(this,"reduceRight",e,t)},shift(){return Pn(this,"shift")},some(e,t){return Ct(this,"some",e,t,void 0,arguments)},splice(...e){return Pn(this,"splice",e)},toReversed(){return $n(this).toReversed()},toSorted(e){return $n(this).toSorted(e)},toSpliced(...e){return $n(this).toSpliced(...e)},unshift(...e){return Pn(this,"unshift",e)},values(){return bo(this,"values",Ce)}};function bo(e,t,n){const s=io(e),o=s[t]();return s!==e&&!Ne(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.done||(r.value=n(r.value)),r}),o}const bu=Array.prototype;function Ct(e,t,n,s,o,r){const i=io(e),a=i!==e&&!Ne(e),c=i[t];if(c!==bu[t]){const f=c.apply(e,r);return a?Ce(f):f}let u=n;i!==e&&(a?u=function(f,p){return n.call(this,Ce(f),p,e)}:n.length>2&&(u=function(f,p){return n.call(this,f,p,e)}));const l=c.call(i,u,s);return a&&o?o(l):l}function qr(e,t,n,s){const o=io(e);let r=n;return o!==e&&(Ne(e)?n.length>3&&(r=function(i,a,c){return n.call(this,i,a,c,e)}):r=function(i,a,c){return n.call(this,i,Ce(a),c,e)}),o[t](r,...s)}function yo(e,t,n){const s=ee(e);Me(s,"iterate",is);const o=s[t](...n);return(o===-1||o===!1)&&Vs(n[0])?(n[0]=ee(n[0]),s[t](...n)):o}function Pn(e,t,n=[]){at(),mr();const s=ee(e)[t].apply(e,n);return gr(),ct(),s}const yu=Ot("__proto__,__v_isRef,__isVue"),Ea=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xt));function wu(e){Xt(e)||(e=String(e));const t=ee(this);return Me(t,"has",e),t.hasOwnProperty(e)}class Pa{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Ga:Fa:r?Da:Na).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=z(t);if(!o){let c;if(i&&(c=gu[n]))return c;if(n==="hasOwnProperty")return wu}const a=Reflect.get(t,n,we(t)?t:s);if((Xt(n)?Ea.has(n):yu(n))||(o||Me(t,"get",n),r))return a;if(we(a)){const c=i&&_r(n)?a:a.value;return o&&ce(c)?zo(c):c}return ce(a)?o?zo(a):wr(a):a}}class ka extends Pa{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Tt(r);if(!Ne(s)&&!Tt(s)&&(r=ee(r),s=ee(s)),!z(t)&&we(r)&&!we(s))return c?(it(`Set operation on key "${String(n)}" failed: target is readonly.`,t[n]),!0):(r.value=s,!0)}const i=z(t)&&_r(n)?Number(n)<t.length:re(t,n),a=Reflect.set(t,n,s,we(t)?t:o);return t===ee(o)&&(i?Vt(s,r)&&gt(t,"set",n,s,r):gt(t,"add",n,s)),a}deleteProperty(t,n){const s=re(t,n),o=t[n],r=Reflect.deleteProperty(t,n);return r&&s&&gt(t,"delete",n,void 0,o),r}has(t,n){const s=Reflect.has(t,n);return(!Xt(n)||!Ea.has(n))&&Me(t,"has",n),s}ownKeys(t){return Me(t,"iterate",z(t)?"length":an),Reflect.ownKeys(t)}}class Oa extends Pa{constructor(t=!1){super(!0,t)}set(t,n){return it(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return it(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const vu=new ka,Tu=new Oa,Mu=new ka(!0),xu=new Oa(!0),qo=e=>e,ws=e=>Reflect.getPrototypeOf(e);function Cu(e,t,n){return function(...s){const o=this.__v_raw,r=ee(o),i=rn(r),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,u=o[e](...s),l=n?qo:t?Ks:Ce;return!t&&Me(r,"iterate",c?Wo:an),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[l(f[0]),l(f[1])]:l(f),done:p}},[Symbol.iterator](){return this}}}}function vs(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";it(`${ro(e)} operation ${n}failed: target is readonly.`,ee(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function Su(e,t){const n={get(o){const r=this.__v_raw,i=ee(r),a=ee(o);e||(Vt(o,a)&&Me(i,"get",o),Me(i,"get",a));const{has:c}=ws(i),u=t?qo:e?Ks:Ce;if(c.call(i,o))return u(r.get(o));if(c.call(i,a))return u(r.get(a));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Me(ee(o),"iterate",an),o.size},has(o){const r=this.__v_raw,i=ee(r),a=ee(o);return e||(Vt(o,a)&&Me(i,"has",o),Me(i,"has",a)),o===a?r.has(o):r.has(o)||r.has(a)},forEach(o,r){const i=this,a=i.__v_raw,c=ee(a),u=t?qo:e?Ks:Ce;return!e&&Me(c,"iterate",an),a.forEach((l,f)=>o.call(r,u(l),u(f),i))}};return me(n,e?{add:vs("add"),set:vs("set"),delete:vs("delete"),clear:vs("clear")}:{add(o){!t&&!Ne(o)&&!Tt(o)&&(o=ee(o));const r=ee(this);return ws(r).has.call(r,o)||(r.add(o),gt(r,"add",o,o)),this},set(o,r){!t&&!Ne(r)&&!Tt(r)&&(r=ee(r));const i=ee(this),{has:a,get:c}=ws(i);let u=a.call(i,o);u?zr(i,a,o):(o=ee(o),u=a.call(i,o));const l=c.call(i,o);return i.set(o,r),u?Vt(r,l)&&gt(i,"set",o,r,l):gt(i,"add",o,r),this},delete(o){const r=ee(this),{has:i,get:a}=ws(r);let c=i.call(r,o);c?zr(r,i,o):(o=ee(o),c=i.call(r,o));const u=a?a.call(r,o):void 0,l=r.delete(o);return c&&gt(r,"delete",o,void 0,u),l},clear(){const o=ee(this),r=o.size!==0,i=rn(o)?new Map(o):new Set(o),a=o.clear();return r&&gt(o,"clear",void 0,void 0,i),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Cu(o,e,t)}),n}function ao(e,t){const n=Su(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(re(n,o)&&o in s?n:s,o,r)}const Au={get:ao(!1,!1)},Lu={get:ao(!1,!0)},Iu={get:ao(!0,!1)},Ru={get:ao(!0,!0)};function zr(e,t,n){const s=ee(n);if(s!==n&&t.call(e,s)){const o=$r(e);it(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Na=new WeakMap,Da=new WeakMap,Fa=new WeakMap,Ga=new WeakMap;function Eu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pu(e){return e.__v_skip||!Object.isExtensible(e)?0:Eu($r(e))}function wr(e){return Tt(e)?e:co(e,!1,vu,Au,Na)}function ku(e){return co(e,!1,Mu,Lu,Da)}function zo(e){return co(e,!0,Tu,Iu,Fa)}function yt(e){return co(e,!0,xu,Ru,Ga)}function co(e,t,n,s,o){if(!ce(e))return it(`value cannot be made ${t?"readonly":"reactive"}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Pu(e);if(r===0)return e;const i=o.get(e);if(i)return i;const a=new Proxy(e,r===2?s:n);return o.set(e,a),a}function cn(e){return Tt(e)?cn(e.__v_raw):!!(e&&e.__v_isReactive)}function Tt(e){return!!(e&&e.__v_isReadonly)}function Ne(e){return!!(e&&e.__v_isShallow)}function Vs(e){return e?!!e.__v_raw:!1}function ee(e){const t=e&&e.__v_raw;return t?ee(t):e}function Ou(e){return!re(e,"__v_skip")&&Object.isExtensible(e)&&Bs(e,"__v_skip",!0),e}const Ce=e=>ce(e)?wr(e):e,Ks=e=>ce(e)?zo(e):e;function we(e){return e?e.__v_isRef===!0:!1}function Q(e){return Nu(e,!1)}function Nu(e,t){return we(e)?e:new Du(e,t)}class Du{constructor(t,n){this.dep=new yr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ee(t),this._value=n?t:Ce(t),this.__v_isShallow=n}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ne(t)||Tt(t);t=s?t:ee(t),Vt(t,n)&&(this._rawValue=t,this._value=s?t:Ce(t),this.dep.trigger({target:this,type:"set",key:"value",newValue:t,oldValue:n}))}}function Fu(e){return we(e)?e.value:e}const Gu={get:(e,t,n)=>t==="__v_raw"?e:Fu(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return we(o)&&!we(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Ha(e){return cn(e)?e:new Proxy(e,Gu)}class Hu{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new yr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=rs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return Ca(this,!0),!0}get value(){const t=this.dep.track({target:this,type:"get",key:"value"});return La(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter?this.setter(t):it("Write operation failed: computed value is readonly")}}function Uu(e,t,n=!1){let s,o;return J(e)?s=e:(s=e.get,o=e.set),new Hu(s,o,n)}const Ts={},Ws=new WeakMap;let nn;function ju(e,t=!1,n=nn){if(n){let s=Ws.get(n);s||Ws.set(n,s=[]),s.push(e)}else t||it("onWatcherCleanup() was called when there was no active watcher to associate with.")}function Bu(e,t,n=ue){const{immediate:s,deep:o,once:r,scheduler:i,augmentJob:a,call:c}=n,u=g=>{(n.onWarn||it)("Invalid watch source: ",g,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=g=>o?g:Ne(g)||o===!1||o===0?Rt(g,1):Rt(g);let f,p,h,m,b=!1,x=!1;if(we(e)?(p=()=>e.value,b=Ne(e)):cn(e)?(p=()=>l(e),b=!0):z(e)?(x=!0,b=e.some(g=>cn(g)||Ne(g)),p=()=>e.map(g=>{if(we(g))return g.value;if(cn(g))return l(g);if(J(g))return c?c(g,2):g();u(g)})):J(e)?t?p=c?()=>c(e,2):e:p=()=>{if(h){at();try{h()}finally{ct()}}const g=nn;nn=f;try{return c?c(e,3,[m]):e(m)}finally{nn=g}}:(p=Ae,u(e)),t&&o){const g=p,w=o===!0?1/0:o;p=()=>Rt(g(),w)}const L=$u(),G=()=>{f.stop(),L&&L.active&&dr(L.effects,f)};if(r&&t){const g=t;t=(...w)=>{g(...w),G()}}let D=x?new Array(e.length).fill(Ts):Ts;const T=g=>{if(!(!(f.flags&1)||!f.dirty&&!g))if(t){const w=f.run();if(o||b||(x?w.some((I,A)=>Vt(I,D[A])):Vt(w,D))){h&&h();const I=nn;nn=f;try{const A=[w,D===Ts?void 0:x&&D[0]===Ts?[]:D,m];D=w,c?c(t,3,A):t(...A)}finally{nn=I}}}else f.run()};return a&&a(T),f=new Ma(p),f.scheduler=i?()=>i(T,!1):T,m=g=>ju(g,!1,f),h=f.onStop=()=>{const g=Ws.get(f);if(g){if(c)c(g,4);else for(const w of g)w();Ws.delete(f)}},f.onTrack=n.onTrack,f.onTrigger=n.onTrigger,t?s?T(!0):D=f.run():i?i(T.bind(null,!0),!0):f.run(),G.pause=f.pause.bind(f),G.resume=f.resume.bind(f),G.stop=G,G}function Rt(e,t=1/0,n){if(t<=0||!ce(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,we(e))Rt(e.value,t,n);else if(z(e))for(let s=0;s<e.length;s++)Rt(e[s],t,n);else if(ga(e)||rn(e))e.forEach(s=>{Rt(s,t,n)});else if(ya(e)){for(const s in e)Rt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Rt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ln=[];function Ls(e){ln.push(e)}function Is(){ln.pop()}let wo=!1;function H(e,...t){if(wo)return;wo=!0,at();const n=ln.length?ln[ln.length-1].component:null,s=n&&n.appContext.config.warnHandler,o=Vu();if(s)In(s,n,11,[e+t.map(r=>{var i,a;return(a=(i=r.toString)==null?void 0:i.call(r))!=null?a:JSON.stringify(r)}).join(""),n&&n.proxy,o.map(({vnode:r})=>`at <${ho(n,r.type)}>`).join(`
`),o]);else{const r=[`[Vue warn]: ${e}`,...t];o.length&&r.push(`
`,...Ku(o)),console.warn(...r)}ct(),wo=!1}function Vu(){let e=ln[ln.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function Ku(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...Wu(n))}),t}function Wu({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,o=` at <${ho(e.component,e.type,s)}`,r=">"+n;return e.props?[o,...qu(e.props),r]:[o+r]}function qu(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...Ua(s,e[s]))}),n.length>3&&t.push(" ..."),t}function Ua(e,t,n){return _e(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:we(t)?(t=Ua(e,ee(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):J(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ee(t),n?t:[`${e}=`,t])}function zu(e,t){e!==void 0&&(typeof e!="number"?H(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&H(`${t} is NaN - the duration expression might be incorrect.`))}const vr={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function In(e,t,n,s){try{return s?e(...s):e()}catch(o){_s(o,t,n)}}function lt(e,t,n,s){if(J(e)){const o=In(e,t,n,s);return o&&hr(o)&&o.catch(r=>{_s(r,t,n)}),o}if(z(e)){const o=[];for(let r=0;r<e.length;r++)o.push(lt(e[r],t,n,s));return o}else H(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof e}`)}function _s(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ue;if(t){let a=t.parent;const c=t.proxy,u=vr[n];for(;a;){const l=a.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,c,u)===!1)return}a=a.parent}if(r){at(),In(r,null,10,[e,c,u]),ct();return}}Xu(e,n,o,s,i)}function Xu(e,t,n,s=!0,o=!1){{const r=vr[t];if(n&&Ls(n),H(`Unhandled error${r?` during execution of ${r}`:""}`),n&&Is(),s)throw e;console.error(e)}}const ke=[];let _t=-1;const vn=[];let Ut=null,gn=0;const ja=Promise.resolve();let qs=null;const Ju=100;function Kt(e){const t=qs||ja;return e?t.then(this?e.bind(this):e):t}function Yu(e){let t=_t+1,n=ke.length;for(;t<n;){const s=t+n>>>1,o=ke[s],r=as(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function lo(e){if(!(e.flags&1)){const t=as(e),n=ke[ke.length-1];!n||!(e.flags&2)&&t>=as(n)?ke.push(e):ke.splice(Yu(t),0,e),e.flags|=1,Ba()}}function Ba(){qs||(qs=ja.then(Wa))}function Va(e){z(e)?vn.push(...e):Ut&&e.id===-1?Ut.splice(gn+1,0,e):e.flags&1||(vn.push(e),e.flags|=1),Ba()}function Xr(e,t,n=_t+1){for(t=t||new Map;n<ke.length;n++){const s=ke[n];if(s&&s.flags&2){if(e&&s.id!==e.uid||Tr(t,s))continue;ke.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ka(e){if(vn.length){const t=[...new Set(vn)].sort((n,s)=>as(n)-as(s));if(vn.length=0,Ut){Ut.push(...t);return}for(Ut=t,e=e||new Map,gn=0;gn<Ut.length;gn++){const n=Ut[gn];Tr(e,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}Ut=null,gn=0}}const as=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wa(e){e=e||new Map;const t=n=>Tr(e,n);try{for(_t=0;_t<ke.length;_t++){const n=ke[_t];if(n&&!(n.flags&8)){if(t(n))continue;n.flags&4&&(n.flags&=-2),In(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;_t<ke.length;_t++){const n=ke[_t];n&&(n.flags&=-2)}_t=-1,ke.length=0,Ka(e),qs=null,(ke.length||vn.length)&&Wa(e)}}function Tr(e,t){const n=e.get(t)||0;if(n>Ju){const s=t.i,o=s&&Pc(s.type);return _s(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,n+1),!1}let wt=!1;const Rs=new Map;$s().__VUE_HMR_RUNTIME__={createRecord:vo(qa),rerender:vo(ef),reload:vo(tf)};const fn=new Map;function Zu(e){const t=e.type.__hmrId;let n=fn.get(t);n||(qa(t,e.type),n=fn.get(t)),n.instances.add(e)}function Qu(e){fn.get(e.type.__hmrId).instances.delete(e)}function qa(e,t){return fn.has(e)?!1:(fn.set(e,{initialDef:zs(t),instances:new Set}),!0)}function zs(e){return kc(e)?e.__vccOpts:e}function ef(e,t){const n=fn.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,zs(s.type).render=t),s.renderCache=[],wt=!0,s.job.flags&8||s.update(),wt=!1}))}function tf(e,t){const n=fn.get(e);if(!n)return;t=zs(t),Jr(n.initialDef,t);const s=[...n.instances];for(let o=0;o<s.length;o++){const r=s[o],i=zs(r.type);let a=Rs.get(i);a||(i!==n.initialDef&&Jr(i,t),Rs.set(i,a=new Set)),a.add(r),r.appContext.propsCache.delete(r.type),r.appContext.emitsCache.delete(r.type),r.appContext.optionsCache.delete(r.type),r.ceReload?(a.add(r),r.ceReload(t.styles),a.delete(r)):r.parent?lo(()=>{r.job.flags&8||(wt=!0,r.parent.update(),wt=!1,a.delete(r))}):r.appContext.reload?r.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),r.root.ce&&r!==r.root&&r.root.ce._removeChildStyle(i)}Va(()=>{Rs.clear()})}function Jr(e,t){me(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function vo(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let bt,jn=[],Xo=!1;function ms(e,...t){bt?bt.emit(e,...t):Xo||jn.push({event:e,args:t})}function za(e,t){var n,s;bt=e,bt?(bt.enabled=!0,jn.forEach(({event:o,args:r})=>bt.emit(o,...r)),jn=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{za(r,t)}),setTimeout(()=>{bt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Xo=!0,jn=[])},3e3)):(Xo=!0,jn=[])}function nf(e,t){ms("app:init",e,t,{Fragment:je,Text:bs,Comment:be,Static:Zn})}function sf(e){ms("app:unmount",e)}const of=Mr("component:added"),Xa=Mr("component:updated"),rf=Mr("component:removed"),af=e=>{bt&&typeof bt.cleanupBuffer=="function"&&!bt.cleanupBuffer(e)&&rf(e)};function Mr(e){return t=>{ms(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const cf=Ja("perf:start"),lf=Ja("perf:end");function Ja(e){return(t,n,s)=>{ms(e,t.appContext.app,t.uid,t,n,s)}}function uf(e,t,n){ms("component:emit",e.appContext.app,e,t,n)}let Oe=null,Ya=null;function Xs(e){const t=Oe;return Oe=e,Ya=e&&e.type.__scopeId||null,t}function Za(e,t=Oe,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&eo(-1);const r=Xs(t);let i;try{i=e(...o)}finally{Xs(r),s._d&&eo(1)}return Xa(t),i};return s._n=!0,s._c=!0,s._d=!0,s}function Qa(e){Yl(e)&&H("Do not use built-in directive ids as custom directive id: "+e)}function ec(e,t){if(Oe===null)return H("withDirectives can only be used inside render functions."),e;const n=po(Oe),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,a,c=ue]=t[o];r&&(J(r)&&(r={mounted:r,updated:r}),r.deep&&Rt(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function Jt(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];r&&(a.oldValue=r[i].value);let c=a.dir[s];c&&(at(),lt(c,n,8,[e.el,a,e,t]),ct())}}const ff=Symbol("_vte"),tc=e=>e.__isTeleport,Lt=Symbol("_leaveCb"),Ms=Symbol("_enterCb");function pf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ye(()=>{e.isMounted=!0}),pn(()=>{e.isUnmounting=!0}),e}const qe=[Function,Array],nc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qe,onEnter:qe,onAfterEnter:qe,onEnterCancelled:qe,onBeforeLeave:qe,onLeave:qe,onAfterLeave:qe,onLeaveCancelled:qe,onBeforeAppear:qe,onAppear:qe,onAfterAppear:qe,onAppearCancelled:qe},sc=e=>{const t=e.subTree;return t.component?sc(t.component):t},df={name:"BaseTransition",props:nc,setup(e,{slots:t}){const n=Rr(),s=pf();return()=>{const o=t.default&&ic(t.default(),!0);if(!o||!o.length)return;const r=oc(o),i=ee(e),{mode:a}=i;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&H(`invalid <transition> mode: ${a}`),s.isLeaving)return To(r);const c=Yr(r);if(!c)return To(r);let u=Jo(c,i,s,n,f=>u=f);c.type!==be&&cs(c,u);let l=n.subTree&&Yr(n.subTree);if(l&&l.type!==be&&!sn(l,c)&&sc(n).type!==be){let f=Jo(l,i,s,n);if(cs(l,f),a==="out-in"&&c.type!==be)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,l=void 0},To(r);a==="in-out"&&c.type!==be?f.delayLeave=(p,h,m)=>{const b=rc(s,l);b[String(l.key)]=l,p[Lt]=()=>{h(),p[Lt]=void 0,delete u.delayedLeave,l=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,l=void 0}}:l=void 0}else l&&(l=void 0);return r}}};function oc(e){let t=e[0];if(e.length>1){let n=!1;for(const s of e)if(s.type!==be){if(n){H("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}t=s,n=!0}}return t}const hf=df;function rc(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Jo(e,t,n,s,o){const{appear:r,mode:i,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:l,onEnterCancelled:f,onBeforeLeave:p,onLeave:h,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:x,onAppear:L,onAfterAppear:G,onAppearCancelled:D}=t,T=String(e.key),g=rc(n,e),w=(v,M)=>{v&&lt(v,s,9,M)},I=(v,M)=>{const O=M[1];w(v,M),z(v)?v.every(y=>y.length<=1)&&O():v.length<=1&&O()},A={mode:i,persisted:a,beforeEnter(v){let M=c;if(!n.isMounted)if(r)M=x||c;else return;v[Lt]&&v[Lt](!0);const O=g[T];O&&sn(e,O)&&O.el[Lt]&&O.el[Lt](),w(M,[v])},enter(v){let M=u,O=l,y=f;if(!n.isMounted)if(r)M=L||u,O=G||l,y=D||f;else return;let K=!1;const Z=v[Ms]=V=>{K||(K=!0,V?w(y,[v]):w(O,[v]),A.delayedLeave&&A.delayedLeave(),v[Ms]=void 0)};M?I(M,[v,Z]):Z()},leave(v,M){const O=String(e.key);if(v[Ms]&&v[Ms](!0),n.isUnmounting)return M();w(p,[v]);let y=!1;const K=v[Lt]=Z=>{y||(y=!0,M(),Z?w(b,[v]):w(m,[v]),v[Lt]=void 0,g[O]===e&&delete g[O])};g[O]=e,h?I(h,[v,K]):K()},clone(v){const M=Jo(v,t,n,s,o);return o&&o(M),M}};return A}function To(e){if(gs(e))return e=Mt(e),e.children=null,e}function Yr(e){if(!gs(e))return tc(e.type)&&e.children?oc(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&J(n.default))return n.default()}}function cs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,cs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ic(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:r);i.type===je?(i.patchFlag&128&&o++,s=s.concat(ic(i.children,t,a))):(t||i.type!==be)&&s.push(a!=null?Mt(i,{key:a}):i)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function ac(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Zr=new WeakSet,Js=new WeakMap;function Xn(e,t,n,s,o=!1){if(z(e)){e.forEach((b,x)=>Xn(b,t&&(z(t)?t[x]:t),n,s,o));return}if(Jn(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Xn(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?po(s.component):s.el,i=o?null:r,{i:a,r:c}=e;if(!a){H("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=t&&t.r,l=a.refs===ue?a.refs={}:a.refs,f=a.setupState,p=ee(f),h=f===ue?ma:b=>(re(p,b)&&!we(p[b])&&H(`Template ref "${b}" used on a non-ref value. It will not work in the production build.`),Zr.has(p[b])?!1:re(p,b)),m=b=>!Zr.has(b);if(u!=null&&u!==c){if(Qr(t),_e(u))l[u]=null,h(u)&&(f[u]=null);else if(we(u)){m(u)&&(u.value=null);const b=t;b.k&&(l[b.k]=null)}}if(J(c))In(c,a,12,[i,l]);else{const b=_e(c),x=we(c);if(b||x){const L=()=>{if(e.f){const G=b?h(c)?f[c]:l[c]:m(c)||!e.k?c.value:l[e.k];if(o)z(G)&&dr(G,r);else if(z(G))G.includes(r)||G.push(r);else if(b)l[c]=[r],h(c)&&(f[c]=l[c]);else{const D=[r];m(c)&&(c.value=D),e.k&&(l[e.k]=D)}}else b?(l[c]=i,h(c)&&(f[c]=i)):x?(m(c)&&(c.value=i),e.k&&(l[e.k]=i)):H("Invalid template ref type:",c,`(${typeof c})`)};if(i){const G=()=>{L(),Js.delete(e)};G.id=-1,Js.set(e,G),Ke(G,n)}else Qr(e),L()}else H("Invalid template ref type:",c,`(${typeof c})`)}}function Qr(e){const t=Js.get(e);t&&(t.flags|=8,Js.delete(e))}$s().requestIdleCallback;$s().cancelIdleCallback;const Jn=e=>!!e.type.__asyncLoader,gs=e=>e.type.__isKeepAlive;function $f(e,t){cc(e,"a",t)}function _f(e,t){cc(e,"da",t)}function cc(e,t,n=Se){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(uo(t,s,n),n){let o=n.parent;for(;o&&o.parent;)gs(o.parent.vnode)&&mf(s,t,n,o),o=o.parent}}function mf(e,t,n,s){const o=uo(t,e,s,!0);lc(()=>{dr(s[t],o)},n)}function uo(e,t,n=Se,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{at();const a=ys(n),c=lt(t,n,e,i);return a(),ct(),c});return s?o.unshift(r):o.push(r),r}else{const o=tn(vr[e].replace(/ hook$/,""));H(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Nt=e=>(t,n=Se)=>{(!us||e==="sp")&&uo(e,(...s)=>t(...s),n)},gf=Nt("bm"),Ye=Nt("m"),bf=Nt("bu"),yf=Nt("u"),pn=Nt("bum"),lc=Nt("um"),wf=Nt("sp"),vf=Nt("rtg"),Tf=Nt("rtc");function Mf(e,t=Se){uo("ec",e,t)}const xf=Symbol.for("v-ndc");function Mo(e,t,n,s){let o;const r=n,i=z(e);if(i||_e(e)){const a=i&&cn(e);let c=!1,u=!1;a&&(c=!Ne(e),u=Tt(e),e=io(e)),o=new Array(e.length);for(let l=0,f=e.length;l<f;l++)o[l]=t(c?u?Ks(Ce(e[l])):Ce(e[l]):e[l],l,void 0,r)}else if(typeof e=="number"){Number.isInteger(e)||H(`The v-for range expect an integer value but got ${e}.`),o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,r)}else if(ce(e))if(e[Symbol.iterator])o=Array.from(e,(a,c)=>t(a,c,void 0,r));else{const a=Object.keys(e);o=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const l=a[c];o[c]=t(e[l],l,c,r)}}else o=[];return o}const Yo=e=>e?Rc(e)?po(e):Yo(e.parent):null,un=me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>yt(e.props),$attrs:e=>yt(e.attrs),$slots:e=>yt(e.slots),$refs:e=>yt(e.refs),$parent:e=>Yo(e.parent),$root:e=>Yo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>pc(e),$forceUpdate:e=>e.f||(e.f=()=>{lo(e.update)}),$nextTick:e=>e.n||(e.n=Kt.bind(e.proxy)),$watch:e=>op.bind(e)}),xr=e=>e==="_"||e==="$",xo=(e,t)=>e!==ue&&!e.__isScriptSetup&&re(e,t),uc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:a,appContext:c}=e;if(t==="__isVue")return!0;let u;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(xo(s,t))return i[t]=1,s[t];if(o!==ue&&re(o,t))return i[t]=2,o[t];if((u=e.propsOptions[0])&&re(u,t))return i[t]=3,r[t];if(n!==ue&&re(n,t))return i[t]=4,n[t];Zo&&(i[t]=0)}}const l=un[t];let f,p;if(l)return t==="$attrs"?(Me(e.attrs,"get",""),Qs()):t==="$slots"&&Me(e,"get",t),l(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ue&&re(n,t))return i[t]=4,n[t];if(p=c.config.globalProperties,re(p,t))return p[t];Oe&&(!_e(t)||t.indexOf("__v")!==0)&&(o!==ue&&xr(t[0])&&re(o,t)?H(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Oe&&H(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return xo(o,t)?(o[t]=n,!0):o.__isScriptSetup&&re(o,t)?(H(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==ue&&re(s,t)?(s[t]=n,!0):re(e.props,t)?(H(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(H(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r,type:i}},a){let c,u;return!!(n[a]||e!==ue&&a[0]!=="$"&&re(e,a)||xo(t,a)||(c=r[0])&&re(c,a)||re(s,a)||re(un,a)||re(o.config.globalProperties,a)||(u=i.__cssModules)&&u[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:re(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};uc.ownKeys=e=>(H("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function Cf(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(un).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>un[n](e),set:Ae})}),t}function Sf(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:Ae})})}function Af(e){const{ctx:t,setupState:n}=e;Object.keys(ee(n)).forEach(s=>{if(!n.__isScriptSetup){if(xr(s[0])){H(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:Ae})}})}function ei(e){return z(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Lf(){const e=Object.create(null);return(t,n)=>{e[n]?H(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let Zo=!0;function If(e){const t=pc(e),n=e.proxy,s=e.ctx;Zo=!1,t.beforeCreate&&ti(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:a,provide:c,inject:u,created:l,beforeMount:f,mounted:p,beforeUpdate:h,updated:m,activated:b,deactivated:x,beforeDestroy:L,beforeUnmount:G,destroyed:D,unmounted:T,render:g,renderTracked:w,renderTriggered:I,errorCaptured:A,serverPrefetch:v,expose:M,inheritAttrs:O,components:y,directives:K,filters:Z}=t,V=Lf();{const[B]=e.propsOptions;if(B)for(const W in B)V("Props",W)}if(u&&Rf(u,s,V),i)for(const B in i){const W=i[B];J(W)?(Object.defineProperty(s,B,{value:W.bind(n),configurable:!0,enumerable:!0,writable:!0}),V("Methods",B)):H(`Method "${B}" has type "${typeof W}" in the component definition. Did you reference the function correctly?`)}if(o){J(o)||H("The data option must be a function. Plain object usage is no longer supported.");const B=o.call(n,n);if(hr(B)&&H("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!ce(B))H("data() should return an object.");else{e.data=wr(B);for(const W in B)V("Data",W),xr(W[0])||Object.defineProperty(s,W,{configurable:!0,enumerable:!0,get:()=>B[W],set:Ae})}}if(Zo=!0,r)for(const B in r){const W=r[B],se=J(W)?W.bind(n,n):J(W.get)?W.get.bind(n,n):Ae;se===Ae&&H(`Computed property "${B}" has no getter.`);const Te=!J(W)&&J(W.set)?W.set.bind(n):()=>{H(`Write operation failed: computed property "${B}" is readonly.`)},ge=Ip({get:se,set:Te});Object.defineProperty(s,B,{enumerable:!0,configurable:!0,get:()=>ge.value,set:Le=>ge.value=Le}),V("Computed",B)}if(a)for(const B in a)fc(a[B],s,n,B);if(c){const B=J(c)?c.call(n):c;Reflect.ownKeys(B).forEach(W=>{Df(W,B[W])})}l&&ti(l,e,"c");function te(B,W){z(W)?W.forEach(se=>B(se.bind(n))):W&&B(W.bind(n))}if(te(gf,f),te(Ye,p),te(bf,h),te(yf,m),te($f,b),te(_f,x),te(Mf,A),te(Tf,w),te(vf,I),te(pn,G),te(lc,T),te(wf,v),z(M))if(M.length){const B=e.exposed||(e.exposed={});M.forEach(W=>{Object.defineProperty(B,W,{get:()=>n[W],set:se=>n[W]=se,enumerable:!0})})}else e.exposed||(e.exposed={});g&&e.render===Ae&&(e.render=g),O!=null&&(e.inheritAttrs=O),y&&(e.components=y),K&&(e.directives=K),v&&ac(e)}function Rf(e,t,n=Ae){z(e)&&(e=Qo(e));for(const s in e){const o=e[s];let r;ce(o)?"default"in o?r=Es(o.from||s,o.default,!0):r=Es(o.from||s):r=Es(o),we(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r,n("Inject",s)}}function ti(e,t,n){lt(z(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function fc(e,t,n,s){let o=s.includes(".")?Mc(n,s):()=>n[s];if(_e(e)){const r=t[e];J(r)?Yn(o,r):H(`Invalid watch handler specified by key "${e}"`,r)}else if(J(e))Yn(o,e.bind(n));else if(ce(e))if(z(e))e.forEach(r=>fc(r,t,n,s));else{const r=J(e.handler)?e.handler.bind(n):t[e.handler];J(r)?Yn(o,r,e):H(`Invalid watch handler specified by key "${e.handler}"`,r)}else H(`Invalid watch option: "${s}"`,e)}function pc(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let c;return a?c=a:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(u=>Ys(c,u,i,!0)),Ys(c,t,i)),ce(t)&&r.set(t,c),c}function Ys(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&Ys(e,r,n,!0),o&&o.forEach(i=>Ys(e,i,n,!0));for(const i in t)if(s&&i==="expose")H('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=Ef[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Ef={data:ni,props:si,emits:si,methods:Bn,computed:Bn,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:Bn,directives:Bn,watch:kf,provide:ni,inject:Pf};function ni(e,t){return t?e?function(){return me(J(e)?e.call(this,this):e,J(t)?t.call(this,this):t)}:t:e}function Pf(e,t){return Bn(Qo(e),Qo(t))}function Qo(e){if(z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pe(e,t){return e?[...new Set([].concat(e,t))]:t}function Bn(e,t){return e?me(Object.create(null),e,t):t}function si(e,t){return e?z(e)&&z(t)?[...new Set([...e,...t])]:me(Object.create(null),ei(e),ei(t??{})):t}function kf(e,t){if(!e)return t;if(!t)return e;const n=me(Object.create(null),e);for(const s in t)n[s]=Pe(e[s],t[s]);return n}function dc(){return{app:null,config:{isNativeTag:ma,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Of=0;function Nf(e,t){return function(s,o=null){J(s)||(s=me({},s)),o!=null&&!ce(o)&&(H("root props passed to app.mount() must be an object."),o=null);const r=dc(),i=new WeakSet,a=[];let c=!1;const u=r.app={_uid:Of++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:di,get config(){return r.config},set config(l){H("app.config cannot be replaced. Modify individual options instead.")},use(l,...f){return i.has(l)?H("Plugin has already been applied to target app."):l&&J(l.install)?(i.add(l),l.install(u,...f)):J(l)?(i.add(l),l(u,...f)):H('A plugin must either be a function or an object with an "install" function.'),u},mixin(l){return r.mixins.includes(l)?H("Mixin has already been applied to target app"+(l.name?`: ${l.name}`:"")):r.mixins.push(l),u},component(l,f){return rr(l,r.config),f?(r.components[l]&&H(`Component "${l}" has already been registered in target app.`),r.components[l]=f,u):r.components[l]},directive(l,f){return Qa(l),f?(r.directives[l]&&H(`Directive "${l}" has already been registered in target app.`),r.directives[l]=f,u):r.directives[l]},mount(l,f,p){if(c)H("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{l.__vue_app__&&H("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=u._ceVNode||ye(s,o);return h.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),r.reload=()=>{const m=Mt(h);m.el=null,e(m,l,p)},e(h,l,p),c=!0,u._container=l,l.__vue_app__=u,u._instance=h.component,nf(u,di),po(h.component)}},onUnmount(l){typeof l!="function"&&H(`Expected function as first argument to app.onUnmount(), but got ${typeof l}`),a.push(l)},unmount(){c?(lt(a,u._instance,16),e(null,u._container),u._instance=null,sf(u),delete u._container.__vue_app__):H("Cannot unmount an app that is not mounted.")},provide(l,f){return l in r.provides&&(re(r.provides,l)?H(`App already provides property with key "${String(l)}". It will be overwritten with the new value.`):H(`App already provides property with key "${String(l)}" inherited from its parent element. It will be overwritten with the new value.`)),r.provides[l]=f,u},runWithContext(l){const f=Tn;Tn=u;try{return l()}finally{Tn=f}}};return u}}let Tn=null;function Df(e,t){if(!Se)H("provide() can only be used inside setup().");else{let n=Se.provides;const s=Se.parent&&Se.parent.provides;s===n&&(n=Se.provides=Object.create(s)),n[e]=t}}function Es(e,t,n=!1){const s=Rr();if(s||Tn){let o=Tn?Tn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&J(t)?t.call(s&&s.proxy):t;H(`injection "${String(e)}" not found.`)}else H("inject() can only be used inside setup() or functional components.")}const hc={},$c=()=>Object.create(hc),_c=e=>Object.getPrototypeOf(e)===hc;function Ff(e,t,n,s=!1){const o={},r=$c();e.propsDefaults=Object.create(null),mc(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);bc(t||{},o,e),n?e.props=s?o:ku(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Gf(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function Hf(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,a=ee(o),[c]=e.propsOptions;let u=!1;if(!Gf(e)&&(s||i>0)&&!(i&16)){if(i&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let p=l[f];if(fo(e.emitsOptions,p))continue;const h=t[p];if(c)if(re(r,p))h!==r[p]&&(r[p]=h,u=!0);else{const m=ot(p);o[m]=er(c,a,m,h,e,!1)}else h!==r[p]&&(r[p]=h,u=!0)}}}else{mc(e,t,o,r)&&(u=!0);let l;for(const f in a)(!t||!re(t,f)&&((l=qt(f))===f||!re(t,l)))&&(c?n&&(n[f]!==void 0||n[l]!==void 0)&&(o[f]=er(c,a,f,void 0,e,!0)):delete o[f]);if(r!==a)for(const f in r)(!t||!re(t,f))&&(delete r[f],u=!0)}u&&gt(e.attrs,"set",""),bc(t||{},o,e)}function mc(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(Wn(c))continue;const u=t[c];let l;o&&re(o,l=ot(c))?!r||!r.includes(l)?n[l]=u:(a||(a={}))[l]=u:fo(e.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,i=!0)}if(r){const c=ee(n),u=a||ue;for(let l=0;l<r.length;l++){const f=r[l];n[f]=er(o,c,f,u[f],e,!re(u,f))}}return i}function er(e,t,n,s,o,r){const i=e[n];if(i!=null){const a=re(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&J(c)){const{propsDefaults:u}=o;if(n in u)s=u[n];else{const l=ys(o);s=u[n]=c.call(null,t),l()}}else s=c;o.ce&&o.ce._setProp(n,s)}i[0]&&(r&&!a?s=!1:i[1]&&(s===""||s===qt(n))&&(s=!0))}return s}const Uf=new WeakMap;function gc(e,t,n=!1){const s=n?Uf:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},a=[];let c=!1;if(!J(e)){const l=f=>{c=!0;const[p,h]=gc(f,t,!0);me(i,p),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!r&&!c)return ce(e)&&s.set(e,wn),wn;if(z(r))for(let l=0;l<r.length;l++){_e(r[l])||H("props must be strings when using array syntax.",r[l]);const f=ot(r[l]);oi(f)&&(i[f]=ue)}else if(r){ce(r)||H("invalid props options",r);for(const l in r){const f=ot(l);if(oi(f)){const p=r[l],h=i[f]=z(p)||J(p)?{type:p}:me({},p),m=h.type;let b=!1,x=!0;if(z(m))for(let L=0;L<m.length;++L){const G=m[L],D=J(G)&&G.name;if(D==="Boolean"){b=!0;break}else D==="String"&&(x=!1)}else b=J(m)&&m.name==="Boolean";h[0]=b,h[1]=x,(b||re(h,"default"))&&a.push(f)}}}const u=[i,a];return ce(e)&&s.set(e,u),u}function oi(e){return e[0]!=="$"&&!Wn(e)?!0:(H(`Invalid prop name: "${e}" is a reserved property.`),!1)}function jf(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function bc(e,t,n){const s=ee(t),o=n.propsOptions[0],r=Object.keys(e).map(i=>ot(i));for(const i in o){let a=o[i];a!=null&&Bf(i,s[i],a,yt(s),!r.includes(i))}}function Bf(e,t,n,s,o){const{type:r,required:i,validator:a,skipCheck:c}=n;if(i&&o){H('Missing required prop: "'+e+'"');return}if(!(t==null&&!i)){if(r!=null&&r!==!0&&!c){let u=!1;const l=z(r)?r:[r],f=[];for(let p=0;p<l.length&&!u;p++){const{valid:h,expectedType:m}=Kf(t,l[p]);f.push(m||""),u=h}if(!u){H(Wf(e,t,f));return}}a&&!a(t,s)&&H('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Vf=Ot("String,Number,Boolean,Function,Symbol,BigInt");function Kf(e,t){let n;const s=jf(t);if(s==="null")n=e===null;else if(Vf(s)){const o=typeof e;n=o===s.toLowerCase(),!n&&o==="object"&&(n=e instanceof t)}else s==="Object"?n=ce(e):s==="Array"?n=z(e):n=e instanceof t;return{valid:n,expectedType:s}}function Wf(e,t,n){if(n.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(ro).join(" | ")}`;const o=n[0],r=$r(t),i=ri(t,o),a=ri(t,r);return n.length===1&&ii(o)&&!qf(o,r)&&(s+=` with value ${i}`),s+=`, got ${r} `,ii(r)&&(s+=`with value ${a}.`),s}function ri(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function ii(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function qf(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Cr=e=>e==="_"||e==="_ctx"||e==="$stable",Sr=e=>z(e)?e.map(tt):[tt(e)],zf=(e,t,n)=>{if(t._n)return t;const s=Za((...o)=>(Se&&!(n===null&&Oe)&&!(n&&n.root!==Se.root)&&H(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Sr(t(...o))),n);return s._c=!1,s},yc=(e,t,n)=>{const s=e._ctx;for(const o in e){if(Cr(o))continue;const r=e[o];if(J(r))t[o]=zf(o,r,s);else if(r!=null){H(`Non-function value encountered for slot "${o}". Prefer function slots for better performance.`);const i=Sr(r);t[o]=()=>i}}},wc=(e,t)=>{gs(e.vnode)||H("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Sr(t);e.slots.default=()=>n},tr=(e,t,n)=>{for(const s in t)(n||!Cr(s))&&(e[s]=t[s])},Xf=(e,t,n)=>{const s=e.slots=$c();if(e.vnode.shapeFlag&32){const o=t._;o?(tr(s,t,n),n&&Bs(s,"_",o,!0)):yc(t,s)}else t&&wc(e,t)},Jf=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=ue;if(s.shapeFlag&32){const a=t._;a?wt?(tr(o,t,n),gt(e,"set","$slots")):n&&a===1?r=!1:tr(o,t,n):(r=!t.$stable,yc(t,o)),i=t}else t&&(wc(e,t),i={default:1});if(r)for(const a in o)!Cr(a)&&i[a]==null&&delete o[a]};let kn,It;function _n(e,t){e.appContext.config.performance&&Zs()&&It.mark(`vue-${t}-${e.uid}`),cf(e,t,Zs()?It.now():Date.now())}function mn(e,t){if(e.appContext.config.performance&&Zs()){const n=`vue-${t}-${e.uid}`,s=n+":end",o=`<${ho(e,e.type)}> ${t}`;It.mark(s),It.measure(o,n,s),It.clearMeasures(o),It.clearMarks(n),It.clearMarks(s)}lf(e,t,Zs()?It.now():Date.now())}function Zs(){return kn!==void 0||(typeof window<"u"&&window.performance?(kn=!0,It=window.performance):kn=!1),kn}function Yf(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Ke=pp;function Zf(e){return Qf(e)}function Qf(e,t){Yf();const n=$s();n.__VUE__=!0,za(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:o,patchProp:r,createElement:i,createText:a,createComment:c,setText:u,setElementText:l,parentNode:f,nextSibling:p,setScopeId:h=Ae,insertStaticContent:m}=e,b=(d,$,S,k=null,E=null,R=null,U=void 0,F=null,N=wt?!1:!!$.dynamicChildren)=>{if(d===$)return;d&&!sn(d,$)&&(k=De(d),xe(d,E,R,!0),d=null),$.patchFlag===-2&&(N=!1,$.dynamicChildren=null);const{type:P,ref:q,shapeFlag:j}=$;switch(P){case bs:x(d,$,S,k);break;case be:L(d,$,S,k);break;case Zn:d==null?G($,S,k,U):D(d,$,S,U);break;case je:K(d,$,S,k,E,R,U,F,N);break;default:j&1?w(d,$,S,k,E,R,U,F,N):j&6?Z(d,$,S,k,E,R,U,F,N):j&64||j&128?P.process(d,$,S,k,E,R,U,F,N,Ve):H("Invalid VNode type:",P,`(${typeof P})`)}q!=null&&E?Xn(q,d&&d.ref,R,$||d,!$):q==null&&d&&d.ref!=null&&Xn(d.ref,null,R,d,!0)},x=(d,$,S,k)=>{if(d==null)s($.el=a($.children),S,k);else{const E=$.el=d.el;$.children!==d.children&&u(E,$.children)}},L=(d,$,S,k)=>{d==null?s($.el=c($.children||""),S,k):$.el=d.el},G=(d,$,S,k)=>{[d.el,d.anchor]=m(d.children,$,S,k,d.el,d.anchor)},D=(d,$,S,k)=>{if($.children!==d.children){const E=p(d.anchor);g(d),[$.el,$.anchor]=m($.children,S,E,k)}else $.el=d.el,$.anchor=d.anchor},T=({el:d,anchor:$},S,k)=>{let E;for(;d&&d!==$;)E=p(d),s(d,S,k),d=E;s($,S,k)},g=({el:d,anchor:$})=>{let S;for(;d&&d!==$;)S=p(d),o(d),d=S;o($)},w=(d,$,S,k,E,R,U,F,N)=>{$.type==="svg"?U="svg":$.type==="math"&&(U="mathml"),d==null?I($,S,k,E,R,U,F,N):M(d,$,E,R,U,F,N)},I=(d,$,S,k,E,R,U,F)=>{let N,P;const{props:q,shapeFlag:j,transition:X,dirs:Y}=d;if(N=d.el=i(d.type,R,q&&q.is,q),j&8?l(N,d.children):j&16&&v(d.children,N,null,k,E,Co(d,R),U,F),Y&&Jt(d,null,k,"created"),A(N,d,d.scopeId,U,k),q){for(const he in q)he!=="value"&&!Wn(he)&&r(N,he,null,q[he],R,k);"value"in q&&r(N,"value",null,q.value,R),(P=q.onVnodeBeforeMount)&&$t(P,k,d)}Bs(N,"__vnode",d,!0),Bs(N,"__vueParentComponent",k,!0),Y&&Jt(d,null,k,"beforeMount");const oe=ep(E,X);oe&&X.beforeEnter(N),s(N,$,S),((P=q&&q.onVnodeMounted)||oe||Y)&&Ke(()=>{P&&$t(P,k,d),oe&&X.enter(N),Y&&Jt(d,null,k,"mounted")},E)},A=(d,$,S,k,E)=>{if(S&&h(d,S),k)for(let R=0;R<k.length;R++)h(d,k[R]);if(E){let R=E.subTree;if(R.patchFlag>0&&R.patchFlag&2048&&(R=Ar(R.children)||R),$===R||Sc(R.type)&&(R.ssContent===$||R.ssFallback===$)){const U=E.vnode;A(d,U,U.scopeId,U.slotScopeIds,E.parent)}}},v=(d,$,S,k,E,R,U,F,N=0)=>{for(let P=N;P<d.length;P++){const q=d[P]=F?jt(d[P]):tt(d[P]);b(null,q,$,S,k,E,R,U,F)}},M=(d,$,S,k,E,R,U)=>{const F=$.el=d.el;F.__vnode=$;let{patchFlag:N,dynamicChildren:P,dirs:q}=$;N|=d.patchFlag&16;const j=d.props||ue,X=$.props||ue;let Y;if(S&&Yt(S,!1),(Y=X.onVnodeBeforeUpdate)&&$t(Y,S,$,d),q&&Jt($,d,S,"beforeUpdate"),S&&Yt(S,!0),wt&&(N=0,U=!1,P=null),(j.innerHTML&&X.innerHTML==null||j.textContent&&X.textContent==null)&&l(F,""),P?(O(d.dynamicChildren,P,F,S,k,Co($,E),R),nr(d,$)):U||se(d,$,F,null,S,k,Co($,E),R,!1),N>0){if(N&16)y(F,j,X,S,E);else if(N&2&&j.class!==X.class&&r(F,"class",null,X.class,E),N&4&&r(F,"style",j.style,X.style,E),N&8){const oe=$.dynamicProps;for(let he=0;he<oe.length;he++){const fe=oe[he],Ge=j[fe],He=X[fe];(He!==Ge||fe==="value")&&r(F,fe,Ge,He,E,S)}}N&1&&d.children!==$.children&&l(F,$.children)}else!U&&P==null&&y(F,j,X,S,E);((Y=X.onVnodeUpdated)||q)&&Ke(()=>{Y&&$t(Y,S,$,d),q&&Jt($,d,S,"updated")},k)},O=(d,$,S,k,E,R,U)=>{for(let F=0;F<$.length;F++){const N=d[F],P=$[F],q=N.el&&(N.type===je||!sn(N,P)||N.shapeFlag&198)?f(N.el):S;b(N,P,q,null,k,E,R,U,!0)}},y=(d,$,S,k,E)=>{if($!==S){if($!==ue)for(const R in $)!Wn(R)&&!(R in S)&&r(d,R,$[R],null,E,k);for(const R in S){if(Wn(R))continue;const U=S[R],F=$[R];U!==F&&R!=="value"&&r(d,R,F,U,E,k)}"value"in S&&r(d,"value",$.value,S.value,E)}},K=(d,$,S,k,E,R,U,F,N)=>{const P=$.el=d?d.el:a(""),q=$.anchor=d?d.anchor:a("");let{patchFlag:j,dynamicChildren:X,slotScopeIds:Y}=$;(wt||j&2048)&&(j=0,N=!1,X=null),Y&&(F=F?F.concat(Y):Y),d==null?(s(P,S,k),s(q,S,k),v($.children||[],S,q,E,R,U,F,N)):j>0&&j&64&&X&&d.dynamicChildren?(O(d.dynamicChildren,X,S,E,R,U,F),nr(d,$)):se(d,$,S,q,E,R,U,F,N)},Z=(d,$,S,k,E,R,U,F,N)=>{$.slotScopeIds=F,d==null?$.shapeFlag&512?E.ctx.activate($,S,k,U,N):V($,S,k,E,R,U,N):te(d,$,N)},V=(d,$,S,k,E,R,U)=>{const F=d.component=yp(d,k,E);if(F.type.__hmrId&&Zu(F),Ls(d),_n(F,"mount"),gs(d)&&(F.ctx.renderer=Ve),_n(F,"init"),vp(F,!1,U),mn(F,"init"),wt&&(d.el=null),F.asyncDep){if(E&&E.registerDep(F,B,U),!d.el){const N=F.subTree=ye(be);L(null,N,$,S),d.placeholder=N.el}}else B(F,d,$,S,E,R,U);Is(),mn(F,"mount")},te=(d,$,S)=>{const k=$.component=d.component;if(up(d,$,S))if(k.asyncDep&&!k.asyncResolved){Ls($),W(k,$,S),Is();return}else k.next=$,k.update();else $.el=d.el,k.vnode=$},B=(d,$,S,k,E,R,U)=>{const F=()=>{if(d.isMounted){let{next:j,bu:X,u:Y,parent:oe,vnode:he}=d;{const dt=vc(d);if(dt){j&&(j.el=he.el,W(d,j,U)),dt.asyncDep.then(()=>{d.isUnmounted||F()});return}}let fe=j,Ge;Ls(j||d.vnode),Yt(d,!1),j?(j.el=he.el,W(d,j,U)):j=he,X&&En(X),(Ge=j.props&&j.props.onVnodeBeforeUpdate)&&$t(Ge,oe,j,he),Yt(d,!0),_n(d,"render");const He=ci(d);mn(d,"render");const pt=d.subTree;d.subTree=He,_n(d,"patch"),b(pt,He,f(pt.el),De(pt),d,E,R),mn(d,"patch"),j.el=He.el,fe===null&&fp(d,He.el),Y&&Ke(Y,E),(Ge=j.props&&j.props.onVnodeUpdated)&&Ke(()=>$t(Ge,oe,j,he),E),Xa(d),Is()}else{let j;const{el:X,props:Y}=$,{bm:oe,m:he,parent:fe,root:Ge,type:He}=d,pt=Jn($);Yt(d,!1),oe&&En(oe),!pt&&(j=Y&&Y.onVnodeBeforeMount)&&$t(j,fe,$),Yt(d,!0);{Ge.ce&&Ge.ce._def.shadowRoot!==!1&&Ge.ce._injectChildStyle(He),_n(d,"render");const dt=d.subTree=ci(d);mn(d,"render"),_n(d,"patch"),b(null,dt,S,k,d,E,R),mn(d,"patch"),$.el=dt.el}if(he&&Ke(he,E),!pt&&(j=Y&&Y.onVnodeMounted)){const dt=$;Ke(()=>$t(j,fe,dt),E)}($.shapeFlag&256||fe&&Jn(fe.vnode)&&fe.vnode.shapeFlag&256)&&d.a&&Ke(d.a,E),d.isMounted=!0,of(d),$=S=k=null}};d.scope.on();const N=d.effect=new Ma(F);d.scope.off();const P=d.update=N.run.bind(N),q=d.job=N.runIfDirty.bind(N);q.i=d,q.id=d.uid,N.scheduler=()=>lo(q),Yt(d,!0),N.onTrack=d.rtc?j=>En(d.rtc,j):void 0,N.onTrigger=d.rtg?j=>En(d.rtg,j):void 0,P()},W=(d,$,S)=>{$.component=d;const k=d.vnode.props;d.vnode=$,d.next=null,Hf(d,$.props,k,S),Jf(d,$.children,S),at(),Xr(d),ct()},se=(d,$,S,k,E,R,U,F,N=!1)=>{const P=d&&d.children,q=d?d.shapeFlag:0,j=$.children,{patchFlag:X,shapeFlag:Y}=$;if(X>0){if(X&128){ge(P,j,S,k,E,R,U,F,N);return}else if(X&256){Te(P,j,S,k,E,R,U,F,N);return}}Y&8?(q&16&&Re(P,E,R),j!==P&&l(S,j)):q&16?Y&16?ge(P,j,S,k,E,R,U,F,N):Re(P,E,R,!0):(q&8&&l(S,""),Y&16&&v(j,S,k,E,R,U,F,N))},Te=(d,$,S,k,E,R,U,F,N)=>{d=d||wn,$=$||wn;const P=d.length,q=$.length,j=Math.min(P,q);let X;for(X=0;X<j;X++){const Y=$[X]=N?jt($[X]):tt($[X]);b(d[X],Y,S,null,E,R,U,F,N)}P>q?Re(d,E,R,!0,!1,j):v($,S,k,E,R,U,F,N,j)},ge=(d,$,S,k,E,R,U,F,N)=>{let P=0;const q=$.length;let j=d.length-1,X=q-1;for(;P<=j&&P<=X;){const Y=d[P],oe=$[P]=N?jt($[P]):tt($[P]);if(sn(Y,oe))b(Y,oe,S,null,E,R,U,F,N);else break;P++}for(;P<=j&&P<=X;){const Y=d[j],oe=$[X]=N?jt($[X]):tt($[X]);if(sn(Y,oe))b(Y,oe,S,null,E,R,U,F,N);else break;j--,X--}if(P>j){if(P<=X){const Y=X+1,oe=Y<q?$[Y].el:k;for(;P<=X;)b(null,$[P]=N?jt($[P]):tt($[P]),S,oe,E,R,U,F,N),P++}}else if(P>X)for(;P<=j;)xe(d[P],E,R,!0),P++;else{const Y=P,oe=P,he=new Map;for(P=oe;P<=X;P++){const Ee=$[P]=N?jt($[P]):tt($[P]);Ee.key!=null&&(he.has(Ee.key)&&H("Duplicate keys found during update:",JSON.stringify(Ee.key),"Make sure keys are unique."),he.set(Ee.key,P))}let fe,Ge=0;const He=X-oe+1;let pt=!1,dt=0;const Rn=new Array(He);for(P=0;P<He;P++)Rn[P]=0;for(P=Y;P<=j;P++){const Ee=d[P];if(Ge>=He){xe(Ee,E,R,!0);continue}let ht;if(Ee.key!=null)ht=he.get(Ee.key);else for(fe=oe;fe<=X;fe++)if(Rn[fe-oe]===0&&sn(Ee,$[fe])){ht=fe;break}ht===void 0?xe(Ee,E,R,!0):(Rn[ht-oe]=P+1,ht>=dt?dt=ht:pt=!0,b(Ee,$[ht],S,null,E,R,U,F,N),Ge++)}const Dr=pt?tp(Rn):wn;for(fe=Dr.length-1,P=He-1;P>=0;P--){const Ee=oe+P,ht=$[Ee],Fr=$[Ee+1],Gr=Ee+1<q?Fr.el||Fr.placeholder:k;Rn[P]===0?b(null,ht,S,Gr,E,R,U,F,N):pt&&(fe<0||P!==Dr[fe]?Le(ht,S,Gr,2):fe--)}}},Le=(d,$,S,k,E=null)=>{const{el:R,type:U,transition:F,children:N,shapeFlag:P}=d;if(P&6){Le(d.component.subTree,$,S,k);return}if(P&128){d.suspense.move($,S,k);return}if(P&64){U.move(d,$,S,Ve);return}if(U===je){s(R,$,S);for(let j=0;j<N.length;j++)Le(N[j],$,S,k);s(d.anchor,$,S);return}if(U===Zn){T(d,$,S);return}if(k!==2&&P&1&&F)if(k===0)F.beforeEnter(R),s(R,$,S),Ke(()=>F.enter(R),E);else{const{leave:j,delayLeave:X,afterLeave:Y}=F,oe=()=>{d.ctx.isUnmounted?o(R):s(R,$,S)},he=()=>{R._isLeaving&&R[Lt](!0),j(R,()=>{oe(),Y&&Y()})};X?X(R,oe,he):he()}else s(R,$,S)},xe=(d,$,S,k=!1,E=!1)=>{const{type:R,props:U,ref:F,children:N,dynamicChildren:P,shapeFlag:q,patchFlag:j,dirs:X,cacheIndex:Y}=d;if(j===-2&&(E=!1),F!=null&&(at(),Xn(F,null,S,d,!0),ct()),Y!=null&&($.renderCache[Y]=void 0),q&256){$.ctx.deactivate(d);return}const oe=q&1&&X,he=!Jn(d);let fe;if(he&&(fe=U&&U.onVnodeBeforeUnmount)&&$t(fe,$,d),q&6)et(d.component,S,k);else{if(q&128){d.suspense.unmount(S,k);return}oe&&Jt(d,null,$,"beforeUnmount"),q&64?d.type.remove(d,$,S,Ve,k):P&&!P.hasOnce&&(R!==je||j>0&&j&64)?Re(P,$,S,!1,!0):(R===je&&j&384||!E&&q&16)&&Re(N,$,S),k&&Ie(d)}(he&&(fe=U&&U.onVnodeUnmounted)||oe)&&Ke(()=>{fe&&$t(fe,$,d),oe&&Jt(d,null,$,"unmounted")},S)},Ie=d=>{const{type:$,el:S,anchor:k,transition:E}=d;if($===je){d.patchFlag>0&&d.patchFlag&2048&&E&&!E.persisted?d.children.forEach(U=>{U.type===be?o(U.el):Ie(U)}):Qe(S,k);return}if($===Zn){g(d);return}const R=()=>{o(S),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:U,delayLeave:F}=E,N=()=>U(S,R);F?F(d.el,R,N):N()}else R()},Qe=(d,$)=>{let S;for(;d!==$;)S=p(d),o(d),d=S;o($)},et=(d,$,S)=>{d.type.__hmrId&&Qu(d);const{bum:k,scope:E,job:R,subTree:U,um:F,m:N,a:P}=d;ai(N),ai(P),k&&En(k),E.stop(),R&&(R.flags|=8,xe(U,d,$,S)),F&&Ke(F,$),Ke(()=>{d.isUnmounted=!0},$),af(d)},Re=(d,$,S,k=!1,E=!1,R=0)=>{for(let U=R;U<d.length;U++)xe(d[U],$,S,k,E)},De=d=>{if(d.shapeFlag&6)return De(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const $=p(d.anchor||d.el),S=$&&$[ff];return S?p(S):$};let Fe=!1;const ft=(d,$,S)=>{d==null?$._vnode&&xe($._vnode,null,null,!0):b($._vnode||null,d,$,null,null,null,S),$._vnode=d,Fe||(Fe=!0,Xr(),Ka(),Fe=!1)},Ve={p:b,um:xe,m:Le,r:Ie,mt:V,mc:v,pc:se,pbc:O,n:De,o:e};return{render:ft,hydrate:void 0,createApp:Nf(ft)}}function Co({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Yt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ep(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nr(e,t,n=!1){const s=e.children,o=t.children;if(z(s)&&z(o))for(let r=0;r<s.length;r++){const i=s[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=jt(o[r]),a.el=i.el),!n&&a.patchFlag!==-2&&nr(i,a)),a.type===bs&&a.patchFlag!==-1&&(a.el=i.el),a.type===be&&!a.el&&(a.el=i.el),a.el&&(a.el.__vnode=a)}}function tp(e){const t=e.slice(),n=[0];let s,o,r,i,a;const c=e.length;for(s=0;s<c;s++){const u=e[s];if(u!==0){if(o=n[n.length-1],e[o]<u){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)a=r+i>>1,e[n[a]]<u?r=a+1:i=a;u<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function vc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vc(t)}function ai(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const np=Symbol.for("v-scx"),sp=()=>{{const e=Es(np);return e||H("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Yn(e,t,n){return J(t)||H("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Tc(e,t,n)}function Tc(e,t,n=ue){const{immediate:s,deep:o,flush:r,once:i}=n;t||(s!==void 0&&H('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&H('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&H('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=me({},n);a.onWarn=H;const c=t&&s||!t&&r!=="post";let u;if(us){if(r==="sync"){const h=sp();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Ae,h.resume=Ae,h.pause=Ae,h}}const l=Se;a.call=(h,m,b)=>lt(h,l,m,b);let f=!1;r==="post"?a.scheduler=h=>{Ke(h,l&&l.suspense)}:r!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():lo(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const p=Bu(e,t,a);return us&&(u?u.push(p):c&&p()),p}function op(e,t,n){const s=this.proxy,o=_e(e)?e.includes(".")?Mc(s,e):()=>s[e]:e.bind(s,s);let r;J(t)?r=t:(r=t.handler,n=t);const i=ys(this),a=Tc(o,r.bind(s),n);return i(),a}function Mc(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const rp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ot(t)}Modifiers`]||e[`${qt(t)}Modifiers`];function ip(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ue;{const{emitsOptions:l,propsOptions:[f]}=e;if(l)if(!(t in l))(!f||!(tn(ot(t))in f))&&H(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${tn(ot(t))}" prop.`);else{const p=l[t];J(p)&&(p(...n)||H(`Invalid event arguments: event validation failed for event "${t}".`))}}let o=n;const r=t.startsWith("update:"),i=r&&rp(s,t.slice(7));i&&(i.trim&&(o=n.map(l=>_e(l)?l.trim():l)),i.number&&(o=n.map(eu))),uf(e,t,o);{const l=t.toLowerCase();l!==t&&s[tn(l)]&&H(`Event "${l}" is emitted in component ${ho(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${qt(t)}" instead of "${t}".`)}let a,c=s[a=tn(t)]||s[a=tn(ot(t))];!c&&r&&(c=s[a=tn(qt(t))]),c&&lt(c,e,6,o);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,lt(u,e,6,o)}}const ap=new WeakMap;function xc(e,t,n=!1){const s=n?ap:t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},a=!1;if(!J(e)){const c=u=>{const l=xc(u,t,!0);l&&(a=!0,me(i,l))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(ce(e)&&s.set(e,null),null):(z(r)?r.forEach(c=>i[c]=null):me(i,r),ce(e)&&s.set(e,i),i)}function fo(e,t){return!e||!hs(t)?!1:(t=t.slice(2).replace(/Once$/,""),re(e,t[0].toLowerCase()+t.slice(1))||re(e,qt(t))||re(e,t))}let sr=!1;function Qs(){sr=!0}function ci(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:i,attrs:a,emit:c,render:u,renderCache:l,props:f,data:p,setupState:h,ctx:m,inheritAttrs:b}=e,x=Xs(e);let L,G;sr=!1;try{if(n.shapeFlag&4){const g=o||s,w=h.__isScriptSetup?new Proxy(g,{get(I,A,v){return H(`Property '${String(A)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(I,A,v)}}):g;L=tt(u.call(w,g,l,yt(f),h,p,m)),G=a}else{const g=t;a===f&&Qs(),L=tt(g.length>1?g(yt(f),{get attrs(){return Qs(),yt(a)},slots:i,emit:c}):g(yt(f),null)),G=t.props?a:cp(a)}}catch(g){Qn.length=0,_s(g,e,1),L=ye(be)}let D=L,T;if(L.patchFlag>0&&L.patchFlag&2048&&([D,T]=Cc(L)),G&&b!==!1){const g=Object.keys(G),{shapeFlag:w}=D;if(g.length){if(w&7)r&&g.some(js)&&(G=lp(G,r)),D=Mt(D,G,!1,!0);else if(!sr&&D.type!==be){const I=Object.keys(a),A=[],v=[];for(let M=0,O=I.length;M<O;M++){const y=I[M];hs(y)?js(y)||A.push(y[2].toLowerCase()+y.slice(3)):v.push(y)}v.length&&H(`Extraneous non-props attributes (${v.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),A.length&&H(`Extraneous non-emits event listeners (${A.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(li(D)||H("Runtime directive used on component with non-element root node. The directives will not function as intended."),D=Mt(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(li(D)||H("Component inside <Transition> renders non-element root node that cannot be animated."),cs(D,n.transition)),T?T(D):L=D,Xs(x),L}const Cc=e=>{const t=e.children,n=e.dynamicChildren,s=Ar(t,!1);if(s){if(s.patchFlag>0&&s.patchFlag&2048)return Cc(s)}else return[e,void 0];const o=t.indexOf(s),r=n?n.indexOf(s):-1,i=a=>{t[o]=a,n&&(r>-1?n[r]=a:a.patchFlag>0&&(e.dynamicChildren=[...n,a]))};return[tt(s),i]};function Ar(e,t=!0){let n;for(let s=0;s<e.length;s++){const o=e[s];if(An(o)){if(o.type!==be||o.children==="v-if"){if(n)return;if(n=o,t&&n.patchFlag>0&&n.patchFlag&2048)return Ar(n.children)}}else return}return n}const cp=e=>{let t;for(const n in e)(n==="class"||n==="style"||hs(n))&&((t||(t={}))[n]=e[n]);return t},lp=(e,t)=>{const n={};for(const s in e)(!js(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},li=e=>e.shapeFlag&7||e.type===be;function up(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:a,patchFlag:c}=t,u=r.emitsOptions;if((o||a)&&wt||t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?ui(s,i,u):!!i;if(c&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const p=l[f];if(i[p]!==s[p]&&!fo(u,p))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?ui(s,i,u):!0:!!i;return!1}function ui(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!fo(n,r))return!0}return!1}function fp({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Sc=e=>e.__isSuspense;function pp(e,t){t&&t.pendingBranch?z(e)?t.effects.push(...e):t.effects.push(e):Va(e)}const je=Symbol.for("v-fgt"),bs=Symbol.for("v-txt"),be=Symbol.for("v-cmt"),Zn=Symbol.for("v-stc"),Qn=[];let We=null;function ie(e=!1){Qn.push(We=e?null:[])}function dp(){Qn.pop(),We=Qn[Qn.length-1]||null}let ls=1;function eo(e,t=!1){ls+=e,e<0&&We&&t&&(We.hasOnce=!0)}function Ac(e){return e.dynamicChildren=ls>0?We||wn:null,dp(),ls>0&&We&&We.push(e),e}function de(e,t,n,s,o,r){return Ac(C(e,t,n,s,o,r,!0))}function Lr(e,t,n,s,o){return Ac(ye(e,t,n,s,o,!0))}function An(e){return e?e.__v_isVNode===!0:!1}function sn(e,t){if(t.shapeFlag&6&&e.component){const n=Rs.get(t.type);if(n&&n.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}const hp=(...e)=>$p(...e),Lc=({key:e})=>e??null,Ps=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||we(e)||J(e)?{i:Oe,r:e,k:t,f:!!n}:e:null);function C(e,t=null,n=null,s=0,o=null,r=e===je?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Lc(t),ref:t&&Ps(t),scopeId:Ya,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Oe};return a?(Ir(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=_e(n)?8:16),c.key!==c.key&&H("VNode created with invalid key (NaN). VNode type:",c.type),ls>0&&!i&&We&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&We.push(c),c}const ye=hp;function $p(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===xf)&&(e||H(`Invalid vnode type when creating vnode: ${e}.`),e=be),An(e)){const a=Mt(e,t,!0);return n&&Ir(a,n),ls>0&&!r&&We&&(a.shapeFlag&6?We[We.indexOf(e)]=a:We.push(a)),a.patchFlag=-2,a}if(kc(e)&&(e=e.__vccOpts),t){t=_p(t);let{class:a,style:c}=t;a&&!_e(a)&&(t.class=zt(a)),ce(c)&&(Vs(c)&&!z(c)&&(c=me({},c)),t.style=Bt(c))}const i=_e(e)?1:Sc(e)?128:tc(e)?64:ce(e)?4:J(e)?2:0;return i&4&&Vs(e)&&(e=ee(e),H("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),C(e,t,n,s,o,i,r,!0)}function _p(e){return e?Vs(e)||_c(e)?me({},e):e:null}function Mt(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:i,children:a,transition:c}=e,u=t?mp(o||{},t):o,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Lc(u),ref:t&&t.ref?n&&r?z(r)?r.concat(Ps(t)):[r,Ps(t)]:Ps(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i===-1&&z(a)?a.map(Ic):a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==je?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mt(e.ssContent),ssFallback:e.ssFallback&&Mt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&cs(l,c.clone(l)),l}function Ic(e){const t=Mt(e);return z(e.children)&&(t.children=e.children.map(Ic)),t}function ks(e=" ",t=0){return ye(bs,null,e,t)}function So(e,t){const n=ye(Zn,null,e);return n.staticCount=t,n}function Wt(e="",t=!1){return t?(ie(),Lr(be,null,e)):ye(be,null,e)}function tt(e){return e==null||typeof e=="boolean"?ye(be):z(e)?ye(je,null,e.slice()):An(e)?jt(e):ye(bs,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mt(e)}function Ir(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(z(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Ir(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!_c(t)?t._ctx=Oe:o===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else J(t)?(t={default:t,_ctx:Oe},n=32):(t=String(t),s&64?(n=16,t=[ks(t)]):n=8);e.children=t,e.shapeFlag|=n}function mp(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=zt([t.class,s.class]));else if(o==="style")t.style=Bt([t.style,s.style]);else if(hs(o)){const r=t[o],i=s[o];i&&r!==i&&!(z(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function $t(e,t,n,s=null){lt(e,t,7,[n,s])}const gp=dc();let bp=0;function yp(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||gp,r={uid:bp++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gc(s,o),emitsOptions:xc(s,o),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:s.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=Cf(r),r.root=t?t.root:r,r.emit=ip.bind(null,r),e.ce&&e.ce(r),r}let Se=null;const Rr=()=>Se||Oe;let to,or;{const e=$s(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};to=t("__VUE_INSTANCE_SETTERS__",n=>Se=n),or=t("__VUE_SSR_SETTERS__",n=>us=n)}const ys=e=>{const t=Se;return to(e),e.scope.on(),()=>{e.scope.off(),to(t)}},fi=()=>{Se&&Se.scope.off(),to(null)},wp=Ot("slot,component");function rr(e,{isNativeTag:t}){(wp(e)||t(e))&&H("Do not use built-in or reserved HTML elements as component id: "+e)}function Rc(e){return e.vnode.shapeFlag&4}let us=!1;function vp(e,t=!1,n=!1){t&&or(t);const{props:s,children:o}=e.vnode,r=Rc(e);Ff(e,s,r,t),Xf(e,o,n||t);const i=r?Tp(e,t):void 0;return t&&or(!1),i}function Tp(e,t){var n;const s=e.type;{if(s.name&&rr(s.name,e.appContext.config),s.components){const r=Object.keys(s.components);for(let i=0;i<r.length;i++)rr(r[i],e.appContext.config)}if(s.directives){const r=Object.keys(s.directives);for(let i=0;i<r.length;i++)Qa(r[i])}s.compilerOptions&&Mp()&&H('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,uc),Sf(e);const{setup:o}=s;if(o){at();const r=e.setupContext=o.length>1?Sp(e):null,i=ys(e),a=In(o,e,0,[yt(e.props),r]),c=hr(a);if(ct(),i(),(c||e.sp)&&!Jn(e)&&ac(e),c){if(a.then(fi,fi),t)return a.then(u=>{pi(e,u,t)}).catch(u=>{_s(u,e,0)});if(e.asyncDep=a,!e.suspense){const u=(n=s.name)!=null?n:"Anonymous";H(`Component <${u}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else pi(e,a,t)}else Ec(e,t)}function pi(e,t,n){J(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)?(An(t)&&H("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=Ha(t),Af(e)):t!==void 0&&H(`setup() should return an object. Received: ${t===null?"null":typeof t}`),Ec(e,n)}const Mp=()=>!0;function Ec(e,t,n){const s=e.type;e.render||(e.render=s.render||Ae);{const o=ys(e);at();try{If(e)}finally{ct(),o()}}!s.render&&e.render===Ae&&!t&&(s.template?H('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):H("Component is missing template or render function: ",s))}const xp={get(e,t){return Qs(),Me(e,"get",""),e[t]},set(){return H("setupContext.attrs is readonly."),!1},deleteProperty(){return H("setupContext.attrs is readonly."),!1}};function Cp(e){return new Proxy(e.slots,{get(t,n){return Me(e,"get","$slots"),t[n]}})}function Sp(e){const t=n=>{if(e.exposed&&H("expose() should be called only once per setup()."),n!=null){let s=typeof n;s==="object"&&(z(n)?s="array":we(n)&&(s="ref")),s!=="object"&&H(`expose() should be passed a plain object, received ${s}.`)}e.exposed=n||{}};{let n,s;return Object.freeze({get attrs(){return n||(n=new Proxy(e.attrs,xp))},get slots(){return s||(s=Cp(e))},get emit(){return(o,...r)=>e.emit(o,...r)},expose:t})}}function po(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ha(Ou(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in un)return un[n](e)},has(t,n){return n in t||n in un}})):e.proxy}const Ap=/(?:^|[-_])\w/g,Lp=e=>e.replace(Ap,t=>t.toUpperCase()).replace(/[-_]/g,"");function Pc(e,t=!0){return J(e)?e.displayName||e.name:e.name||t&&e.__name}function ho(e,t,n=!1){let s=Pc(t);if(!s&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(s=o[1])}if(!s&&e&&e.parent){const o=r=>{for(const i in r)if(r[i]===t)return i};s=o(e.components||e.parent.type.components)||o(e.appContext.components)}return s?Lp(s):n?"App":"Anonymous"}function kc(e){return J(e)&&"__vccOpts"in e}const Ip=(e,t)=>{const n=Uu(e,t,us);{const s=Rr();s&&s.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Rp(e,t,n){try{eo(-1);const s=arguments.length;return s===2?ce(t)&&!z(t)?An(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&An(n)&&(n=[n]),ye(e,t,n))}finally{eo(1)}}function Ep(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},n={style:"color:#f5222d"},s={style:"color:#eb2f96"},o={__vue_custom_formatter:!0,header(f){if(!ce(f))return null;if(f.__isVue)return["div",e,"VueInstance"];if(we(f)){at();const p=f.value;return ct(),["div",{},["span",e,l(f)],"<",a(p),">"]}else{if(cn(f))return["div",{},["span",e,Ne(f)?"ShallowReactive":"Reactive"],"<",a(f),`>${Tt(f)?" (readonly)":""}`];if(Tt(f))return["div",{},["span",e,Ne(f)?"ShallowReadonly":"Readonly"],"<",a(f),">"]}return null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...r(f.$)]}};function r(f){const p=[];f.type.props&&f.props&&p.push(i("props",ee(f.props))),f.setupState!==ue&&p.push(i("setup",f.setupState)),f.data!==ue&&p.push(i("data",ee(f.data)));const h=c(f,"computed");h&&p.push(i("computed",h));const m=c(f,"inject");return m&&p.push(i("injected",m)),p.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),p}function i(f,p){return p=me({},p),Object.keys(p).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(p).map(h=>["div",{},["span",s,h+": "],a(p[h],!1)])]]:["span",{}]}function a(f,p=!0){return typeof f=="number"?["span",t,f]:typeof f=="string"?["span",n,JSON.stringify(f)]:typeof f=="boolean"?["span",s,f]:ce(f)?["object",{object:p?ee(f):f}]:["span",n,String(f)]}function c(f,p){const h=f.type;if(J(h))return;const m={};for(const b in f.ctx)u(h,b,p)&&(m[b]=f.ctx[b]);return m}function u(f,p,h){const m=f[h];if(z(m)&&m.includes(p)||ce(m)&&p in m||f.extends&&u(f.extends,p,h)||f.mixins&&f.mixins.some(b=>u(b,p,h)))return!0}function l(f){return Ne(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(o):window.devtoolsFormatters=[o]}const di="3.5.22",Pt=H;/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ir;const hi=typeof window<"u"&&window.trustedTypes;if(hi)try{ir=hi.createPolicy("vue",{createHTML:e=>e})}catch(e){Pt(`Error creating trusted types policy: ${e}`)}const Oc=ir?e=>ir.createHTML(e):e=>e,Pp="http://www.w3.org/2000/svg",kp="http://www.w3.org/1998/Math/MathML",At=typeof document<"u"?document:null,$i=At&&At.createElement("template"),Op={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?At.createElementNS(Pp,e):t==="mathml"?At.createElementNS(kp,e):n?At.createElement(e,{is:n}):At.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>At.createTextNode(e),createComment:e=>At.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>At.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{$i.innerHTML=Oc(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=$i.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ft="transition",On="animation",fs=Symbol("_vtc"),Nc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Np=me({},nc,Nc),Dp=e=>(e.displayName="Transition",e.props=Np,e),Fp=Dp((e,{slots:t})=>Rp(hf,Gp(e),t)),Zt=(e,t=[])=>{z(e)?e.forEach(n=>n(...t)):e&&e(...t)},_i=e=>e?z(e)?e.some(t=>t.length>1):e.length>1:!1;function Gp(e){const t={};for(const y in e)y in Nc||(t[y]=e[y]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:u=i,appearToClass:l=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,m=Hp(o),b=m&&m[0],x=m&&m[1],{onBeforeEnter:L,onEnter:G,onEnterCancelled:D,onLeave:T,onLeaveCancelled:g,onBeforeAppear:w=L,onAppear:I=G,onAppearCancelled:A=D}=t,v=(y,K,Z,V)=>{y._enterCancelled=V,Qt(y,K?l:a),Qt(y,K?u:i),Z&&Z()},M=(y,K)=>{y._isLeaving=!1,Qt(y,f),Qt(y,h),Qt(y,p),K&&K()},O=y=>(K,Z)=>{const V=y?I:G,te=()=>v(K,y,Z);Zt(V,[K,te]),mi(()=>{Qt(K,y?c:r),St(K,y?l:a),_i(V)||gi(K,s,b,te)})};return me(t,{onBeforeEnter(y){Zt(L,[y]),St(y,r),St(y,i)},onBeforeAppear(y){Zt(w,[y]),St(y,c),St(y,u)},onEnter:O(!1),onAppear:O(!0),onLeave(y,K){y._isLeaving=!0;const Z=()=>M(y,K);St(y,f),y._enterCancelled?(St(y,p),wi(y)):(wi(y),St(y,p)),mi(()=>{y._isLeaving&&(Qt(y,f),St(y,h),_i(T)||gi(y,s,x,Z))}),Zt(T,[y,Z])},onEnterCancelled(y){v(y,!1,void 0,!0),Zt(D,[y])},onAppearCancelled(y){v(y,!0,void 0,!0),Zt(A,[y])},onLeaveCancelled(y){M(y),Zt(g,[y])}})}function Hp(e){if(e==null)return null;if(ce(e))return[Ao(e.enter),Ao(e.leave)];{const t=Ao(e);return[t,t]}}function Ao(e){const t=tu(e);return zu(t,"<transition> explicit duration"),t}function St(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[fs]||(e[fs]=new Set)).add(t)}function Qt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[fs];n&&(n.delete(t),n.size||(e[fs]=void 0))}function mi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Up=0;function gi(e,t,n,s){const o=e._endId=++Up,r=()=>{o===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:i,timeout:a,propCount:c}=jp(e,t);if(!i)return s();const u=i+"end";let l=0;const f=()=>{e.removeEventListener(u,p),r()},p=h=>{h.target===e&&++l>=c&&f()};setTimeout(()=>{l<c&&f()},a+1),e.addEventListener(u,p)}function jp(e,t){const n=window.getComputedStyle(e),s=m=>(n[m]||"").split(", "),o=s(`${Ft}Delay`),r=s(`${Ft}Duration`),i=bi(o,r),a=s(`${On}Delay`),c=s(`${On}Duration`),u=bi(a,c);let l=null,f=0,p=0;t===Ft?i>0&&(l=Ft,f=i,p=r.length):t===On?u>0&&(l=On,f=u,p=c.length):(f=Math.max(i,u),l=f>0?i>u?Ft:On:null,p=l?l===Ft?r.length:c.length:0);const h=l===Ft&&/\b(?:transform|all)(?:,|$)/.test(s(`${Ft}Property`).toString());return{type:l,timeout:f,propCount:p,hasTransform:h}}function bi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>yi(n)+yi(e[s])))}function yi(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function wi(e){return(e?e.ownerDocument:document).body.offsetHeight}function Bp(e,t,n){const s=e[fs];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const no=Symbol("_vod"),Dc=Symbol("_vsh"),Fc={name:"show",beforeMount(e,{value:t},{transition:n}){e[no]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Nn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Nn(e,!0),s.enter(e)):s.leave(e,()=>{Nn(e,!1)}):Nn(e,t))},beforeUnmount(e,{value:t}){Nn(e,t)}};function Nn(e,t){e.style.display=t?e[no]:"none",e[Dc]=!t}const Vp=Symbol("CSS_VAR_TEXT"),Kp=/(?:^|;)\s*display\s*:/;function Wp(e,t,n){const s=e.style,o=_e(n);let r=!1;if(n&&!o){if(t)if(_e(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Os(s,a,"")}else for(const i in t)n[i]==null&&Os(s,i,"");for(const i in n)i==="display"&&(r=!0),Os(s,i,n[i])}else if(o){if(t!==n){const i=s[Vp];i&&(n+=";"+i),s.cssText=n,r=Kp.test(n)}}else t&&e.removeAttribute("style");no in e&&(e[no]=r?s.display:"",e[Dc]&&(s.display="none"))}const qp=/[^\\];\s*$/,vi=/\s*!important$/;function Os(e,t,n){if(z(n))n.forEach(s=>Os(e,t,s));else if(n==null&&(n=""),qp.test(n)&&Pt(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=zp(e,t);vi.test(n)?e.setProperty(qt(s),n.replace(vi,""),"important"):e[s]=n}}const Ti=["Webkit","Moz","ms"],Lo={};function zp(e,t){const n=Lo[t];if(n)return n;let s=ot(t);if(s!=="filter"&&s in e)return Lo[t]=s;s=ro(s);for(let o=0;o<Ti.length;o++){const r=Ti[o]+s;if(r in e)return Lo[t]=r}return t}const Mi="http://www.w3.org/1999/xlink";function xi(e,t,n,s,o,r=du(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Mi,t.slice(6,t.length)):e.setAttributeNS(Mi,t,n):n==null||r&&!wa(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Xt(n)?String(n):n)}function Ci(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Oc(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=wa(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch(a){i||Pt(`Failed setting prop "${t}" on <${r.toLowerCase()}>: value ${n} is invalid.`,a)}i&&e.removeAttribute(o||t)}function Xp(e,t,n,s){e.addEventListener(t,n,s)}function Jp(e,t,n,s){e.removeEventListener(t,n,s)}const Si=Symbol("_vei");function Yp(e,t,n,s,o=null){const r=e[Si]||(e[Si]={}),i=r[t];if(s&&i)i.value=Li(s,t);else{const[a,c]=Zp(t);if(s){const u=r[t]=td(Li(s,t),o);Xp(e,a,u,c)}else i&&(Jp(e,a,i,c),r[t]=void 0)}}const Ai=/(?:Once|Passive|Capture)$/;function Zp(e){let t;if(Ai.test(e)){t={};let s;for(;s=e.match(Ai);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):qt(e.slice(2)),t]}let Io=0;const Qp=Promise.resolve(),ed=()=>Io||(Qp.then(()=>Io=0),Io=Date.now());function td(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;lt(nd(s,n.value),t,5,[s])};return n.value=e,n.attached=ed(),n}function Li(e,t){return J(e)||z(e)?e:(Pt(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof e}.`),Ae)}function nd(e,t){if(z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Ii=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,sd=(e,t,n,s,o,r)=>{const i=o==="svg";t==="class"?Bp(e,s,i):t==="style"?Wp(e,n,s):hs(t)?js(t)||Yp(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):od(e,t,s,i))?(Ci(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&xi(e,t,s,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_e(s))?Ci(e,ot(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),xi(e,t,s,i))};function od(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ii(t)&&J(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Ii(t)&&_e(n)?!1:t in e}const rd=["ctrl","shift","alt","meta"],id={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rd.some(n=>e[`${n}Key`]&&!t.includes(n))},Ro=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let i=0;i<t.length;i++){const a=id[t[i]];if(a&&a(o,t))return}return e(o,...r)})},ad=me({patchProp:sd},Op);let Ri;function cd(){return Ri||(Ri=Zf(ad))}const Ei=(...e)=>{const t=cd().createApp(...e);ud(t),fd(t);const{mount:n}=t;return t.mount=s=>{const o=pd(s);if(!o)return;const r=t._component;!J(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=n(o,!1,ld(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function ld(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ud(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>lu(t)||uu(t)||fu(t),writable:!1})}function fd(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){Pt("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return Pt(s),n},set(){Pt(s)}})}}function pd(e){if(_e(e)){const t=document.querySelector(e);return t||Pt(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&Pt('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}/**
* vue v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dd(){Ep()}dd();const Ns={maxRetries:3,retryDelay:1e3,timeout:1e4};let Eo=null;const Mn={enabled:!0,maxCacheSize:50*1024*1024,cachePrefix:"mgpic_",version:"1.0.0",loadInterval:50,batchSize:3};class hd{constructor(){this.cache=new Map,this.totalSize=0}isSupported(){return"caches"in window}getCacheName(){return`${Mn.cachePrefix}${Mn.version}`}async isCached(t){if(!this.isSupported())return!1;try{return await(await caches.open(this.getCacheName())).match(t)!==void 0}catch(n){return console.warn(":",n.message),!1}}async cacheResource(t,n){if(!this.isSupported())return!1;try{const s=await caches.open(this.getCacheName());if(await s.match(t))return console.log(`: ${t}`),!0;await s.put(t,n.clone());const r=n.headers.get("content-length");return r&&(this.totalSize+=parseInt(r)),console.log(`: ${t}`),!0}catch(s){return console.warn(":",s.message),!1}}async getCachedResource(t){if(!this.isSupported())return null;try{return await(await caches.open(this.getCacheName())).match(t)}catch(n){return console.warn(":",n.message),null}}async cleanupCache(){if(this.isSupported())try{const t=await caches.keys(),n=this.getCacheName();for(const s of t)s.startsWith(Mn.cachePrefix)&&s!==n&&(await caches.delete(s),console.log(`: ${s}`))}catch(t){console.warn(":",t.message)}}}const Je=new hd;let xs=null;function $d(){return xs||(console.log("R2 URL"),xs="https://pub-6f9181bda40946ea92b5e87fe84e27d4.r2.dev",xs)}function pe(e){const t=$d(),n=e.startsWith("/")?e.slice(1):e;return`${t}/${n}`}async function _d(e,t={}){if(Je.isSupported()){const o=await Je.getCachedResource(e);if(o)return console.log(` Cache Storage : ${e}`),o}const{maxRetries:n=Ns.maxRetries,retryDelay:s=Ns.retryDelay}=t;for(let o=1;o<=n;o++)try{console.log(` (${o}/${n}): ${e}`);const r=new AbortController,i=setTimeout(()=>r.abort(),Ns.timeout),a=await fetch(e,{method:"GET",mode:"cors",credentials:"omit",cache:"no-cache",signal:r.signal,...t});if(clearTimeout(i),a.ok)return Je.isSupported()&&await Je.cacheResource(e,a),console.log(`: ${e}`),a;throw new Error(`HTTP ${a.status}: ${a.statusText}`)}catch(r){if(console.warn(` (${o}/${n}): ${e}`,r.message),o===n)throw console.error(`: ${e}`,r.message),r;const i=s*o;console.log(` ${i}ms ...`),await new Promise(a=>setTimeout(a,i))}}async function md(e=["high","medium"]){try{if(Eo){console.log("");const r=Pi(Eo,e);return console.log(` ${r.length}  (: ${e.join(", ")})`),r}const t=pe("asset-list.json");console.log(` R2 CDN : ${t}`);const n=await _d(t);if(!n.ok)throw new Error(`: HTTP ${n.status}`);const s=await n.json();Eo=s,console.log("");const o=Pi(s,e);return console.log(` ${o.length}  (: ${e.join(", ")})`),o}catch(t){return console.warn(":",t.message),["logo.glb","frontend_resource/start_game.webp","frontend_resource/copper_warehouse.webp","frontend_resource/game_wiki.webp","frontend_resource/Tutorial.webp","frontend_resource/gacha.webp"]}}function Pi(e,t){const n=[];for(const s of t)if(e.categories&&e.categories[s]){const o=e.categories[s].resources||[];n.push(...o.map(r=>r.path))}return n}async function Ds(e=null,t=["high","medium"]){console.log("..."),await Je.cleanupCache();const n=await md(t),s=Mn.batchSize,o=Mn.loadInterval,r=n.length;let i=0;e&&e(0,r,0);for(let a=0;a<n.length;a+=s){const c=n.slice(a,a+s);console.log(` ${Math.floor(a/s)+1}/${Math.ceil(n.length/s)}: ${c.length} `);const u=c.map(async(x,L)=>{const G=pe(x);try{if(await Je.isCached(G))return console.log(`Cache Storage: ${x}`),{success:!0,path:x,cached:!0,source:"cache"};const T=new AbortController,g=setTimeout(()=>T.abort(),Ns.timeout),w=await fetch(G,{method:"GET",mode:"cors",credentials:"omit",cache:"no-cache",signal:T.signal});if(clearTimeout(g),w.ok){const I=w.headers.get("x-cache")||w.headers.get("cf-cache-status")||w.type==="basic"&&!w.redirected;return Je.isSupported()&&await Je.cacheResource(G,w),console.log(`: ${x}${I?" ()":""}`),{success:!0,path:x,cached:!1,fromBrowserCache:!!I}}else throw new Error(`HTTP ${w.status}: ${w.statusText}`)}catch(D){return console.warn(`: ${x}`,D.message),{success:!1,path:x,error:D.message}}}),l=await Promise.all(u);i+=c.length;const f=Math.round(i/r*100);e&&e(i,r,f);const p=l.filter(x=>x.success).length,h=l.filter(x=>x.cached).length,m=l.filter(x=>x.fromBrowserCache).length,b=l.filter(x=>!x.success).length;console.log(`:  ${p}, Cache Storage ${h},  ${m},  ${b}`),a+s<n.length&&(console.log(` ${o}ms ...`),await new Promise(x=>setTimeout(x,o)))}console.log(""),e&&e(r,r,100)}async function ki(){if(!Je.isSupported())return{supported:!1,message:"API"};try{const t=await(await caches.open(Je.getCacheName())).keys();return{supported:!0,cacheName:Je.getCacheName(),resourceCount:t.length,totalSize:Je.totalSize,maxSize:Mn.maxCacheSize}}catch(e){return{supported:!0,error:e.message}}}const dn=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},gd={__name:"Hall",emits:["startGame","openWarehouse","openTutorial","openEncyclopedia"],setup(e,{expose:t,emit:n}){t();const s=n;function o(){s("startGame")}function r(){s("openWarehouse")}function i(){s("openTutorial")}function a(){s("openEncyclopedia")}const c=Q(pe("img/hall/start_game.webp")),u=Q(pe("img/hall/warehouse.webp")),l=Q(pe("img/hall/wiki.webp")),f=Q(pe("img/hall/tutorial.webp"));Ye(async()=>{try{if(window.getCacheStatus){const m=await window.getCacheStatus();console.log(":",m)}const h=[c.value,u.value,l.value,f.value];for(let m=0;m<h.length;m++){const b=h[m];try{const x=new Image;x.crossOrigin="anonymous",x.src=b,await new Promise((L,G)=>{x.onload=L,x.onerror=G}),console.log(":",b),m<h.length-1&&await new Promise(L=>setTimeout(L,100))}catch(x){console.warn(":",b,x.message)}}}catch(h){console.warn(":",h.message)}});const p={emit:s,startGame:o,openWarehouse:r,openTutorial:i,openEncyclopedia:a,bgStart:c,bgWarehouse:u,bgWiki:l,bgTutorial:f,ref:Q,onMounted:Ye,get getAssetUrl(){return pe}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},bd={class:"menu"};function yd(e,t,n,s,o,r){return ie(),de("div",bd,[C("button",{class:"tile tile--start",style:Bt({backgroundImage:`url('${s.bgStart}')`}),onClick:s.startGame},[...t[0]||(t[0]=[C("div",{class:"tile__mask"},null,-1),C("div",{class:"tile__caption tile__caption--bottom"},[C("div",{class:"tile__title"},""),C("div",{class:"tile__subtitle"},"Start Game")],-1)])],4),C("button",{class:"tile tile--warehouse",style:Bt({backgroundImage:`url('${s.bgWarehouse}')`}),onClick:s.openWarehouse},[...t[1]||(t[1]=[C("div",{class:"tile__mask"},null,-1),C("div",{class:"tile__caption tile__caption--top"},[C("div",{class:"tile__title"},""),C("div",{class:"tile__subtitle"},"Copper Warehouse")],-1)])],4),C("button",{class:"tile tile--wiki",style:Bt({backgroundImage:`url('${s.bgWiki}')`}),onClick:s.openEncyclopedia},[...t[2]||(t[2]=[C("div",{class:"tile__mask"},null,-1),C("div",{class:"tile__caption tile__caption--bottom"},[C("div",{class:"tile__title"},""),C("div",{class:"tile__subtitle"},"Game Wiki")],-1)])],4),C("button",{class:"tile tile--tutorial",style:Bt({backgroundImage:`url('${s.bgTutorial}')`}),onClick:s.openTutorial},[...t[3]||(t[3]=[C("div",{class:"tile__mask"},null,-1),C("div",{class:"tile__caption tile__caption--top"},[C("div",{class:"tile__title"},""),C("div",{class:"tile__subtitle"},"Tutorial")],-1)])],4)])}const wd=dn(gd,[["render",yd],["__scopeId","data-v-7603db95"],["__file","D:/Project/MGPIC-2025/src/vue/Hall.vue"]]);class vd extends Error{}function Be(){throw new vd}const Td={$tag:1},Md={$tag:2};function Er(e,t){this._0=e,this._1=t}Er.prototype.$tag=3;function ve(e){this._0=e}ve.prototype.$tag=4;function Gc(e){this._0=e}Gc.prototype.$tag=5;function Ze(e){this._0=e}Ze.prototype.$tag=6;function _(e,t){if(t<0||t>=e.length)throw new Error("Index out of bounds")}function Dt(e,t){const n=new Array(e);return n.fill(t),n}const Hc=(e,t)=>{e.push(t)},xd=function e(){return e._exports?e._exports:e._exports=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports},Cd=(e,t)=>{const n=e.hi>>>0,s=t.hi>>>0;if(n<s)return-1;if(n>s)return 1;const o=e.lo>>>0,r=t.lo>>>0;return o<r?-1:o>r?1:0},Sd=e=>e.slice(0);function Ln(e,t,n){this._0=e,this._1=t,this._2=n}Ln.prototype.$tag=0;function xn(e,t,n){this._0=e,this._1=t,this._2=n}xn.prototype.$tag=1;function ps(e){this._0=e}ps.prototype.$tag=2;const Cn={$tag:0};function ds(e,t){this._0=e,this._1=t}ds.prototype.$tag=1;function Pr(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}const Ad=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,49,50,51,52,53,54]),Po={hi:0,lo:-1},Oi={hi:0,lo:0},Ni={hi:0,lo:1},Ld="",Id="",Rd="/assets/copper/iron_wall/rocky/rocky.webp",Ed="/assets/copper/iron_wall/rocky/rocky.glb",Pd="",kd="",Od="/assets/copper/iron_wall/wesley/wesley.webp",Nd="/assets/copper/iron_wall/wesley/wesley.glb",Dd="",Fd="",Gd="/assets/copper/iron_wall/bell/bell.webp",Hd="/assets/copper/iron_wall/bell/bell.glb",Ud="",jd="",Bd="/assets/copper/iron_wall/tumble/tumble.webp",Vd="/assets/copper/iron_wall/tumble/tumble.glb",Kd="",Wd="",qd="/assets/copper/iron_wall/chief/chief.webp",zd="/assets/copper/iron_wall/chief/chief.glb",Xd="",Jd="1001",Yd="/assets/copper/arcanist/spark/spark.webp",Zd="/assets/copper/arcanist/spark/spark.glb",Qd="",eh="",th="/assets/copper/arcanist/syrup/syrup.webp",nh="/assets/copper/arcanist/syrup/syrup.glb",sh="",oh="",rh="/assets/copper/arcanist/bubble/bubble.webp",ih="/assets/copper/arcanist/bubble/bubble.glb",ah="",ch="",lh="/assets/copper/arcanist/glimmer/glimmer.webp",uh="/assets/copper/arcanist/glimmer/glimmer.glb",fh="",ph="",dh="/assets/copper/arcanist/turner/turner.webp",hh="/assets/copper/arcanist/turner/turner.glb",$h="",_h="",mh="/assets/copper/resonator/murmur/murmur.webp",gh="/assets/copper/resonator/murmur/murmur.glb",bh="",yh="",wh="/assets/copper/resonator/melody/melody.webp",vh="/assets/copper/resonator/melody/melody.glb",Th="",Mh="",xh="/assets/copper/resonator/clawsteak/clawsteak.webp",Ch="/assets/copper/resonator/clawsteak/clawsteak.glb",Sh="",Ah=" 3*3 ",Lh="/assets/copper/resonator/diggs/diggs.webp",Ih="/assets/copper/resonator/diggs/diggs.glb",Rh="",Eh="",Ph="/assets/copper/resonator/hive/hive.webp",kh="/assets/copper/resonator/hive/hive.glb",Oh="",Nh="",Dh="/assets/copper/mechanic/gyro/gyro.webp",Fh="/assets/copper/mechanic/gyro/gyro.glb",Gh="",Hh="",Uh="/assets/copper/mechanic/tricky/tricky.webp",jh="/assets/copper/mechanic/tricky/tricky.glb",Bh="",Vh="",Kh="/assets/copper/mechanic/pendulum/pendulum.webp",Wh="/assets/copper/mechanic/pendulum/pendulum.glb",qh="",zh="",Xh="/assets/copper/mechanic/yoyo/yoyo.webp",Jh="/assets/copper/mechanic/yoyo/yoyo.glb",Yh="",Zh="",Qh="/assets/copper/mechanic/karin/karin.webp",e$="/assets/copper/mechanic/karin/karin.glb",t$="",n$="",s$="/assets/copper/craftsman/wrench/wrench.webp",o$="/assets/copper/craftsman/wrench/wrench.glb",r$="",i$="",a$="/assets/copper/craftsman/coil/coil.webp",c$="/assets/copper/craftsman/coil/coil.glb",l$="",u$="",f$="/assets/copper/craftsman/artifex/artifex.webp",p$="/assets/copper/craftsman/artifex/artifex.glb",d$="",h$="",$$="/assets/copper/craftsman/drillbit/drillbit.webp",_$="/assets/copper/craftsman/drillbit/drillbit.glb",m$="",g$="",b$="/assets/copper/craftsman/quickhand/quickhand.webp",y$="/assets/copper/craftsman/quickhand/quickhand.glb",w$={name:"",description:"1082",resource_url:"/assets/copper/iron_wall/rocky/rocky_skill.webp",cool_down:10},v$={name:Ld,copper_type:0,description:Id,icon_url:Rd,model_url:Ed,skill:w$},T$={name:"",description:" 20%  15% ",resource_url:"/assets/copper/iron_wall/wesley/wesley_skill.webp",cool_down:10},M$={name:Pd,copper_type:0,description:kd,icon_url:Od,model_url:Nd,skill:T$},x$={name:"",description:"",resource_url:"/assets/copper/iron_wall/bell/bell_skill.webp",cool_down:void 0},C$={name:Dd,copper_type:0,description:Fd,icon_url:Gd,model_url:Hd,skill:x$},S$={name:"",description:" 1:1 ",resource_url:"/assets/copper/iron_wall/tumble/tumble_skill.webp",cool_down:void 0},A$={name:Ud,copper_type:0,description:jd,icon_url:Bd,model_url:Vd,skill:S$},L$={name:"",description:" 3x3  20%  10% ",resource_url:"/assets/copper/iron_wall/chief/chief_skill.webp",cool_down:void 0},I$={name:Kd,copper_type:0,description:Wd,icon_url:qd,model_url:zd,skill:L$},R$={name:"",description:" 100 ",resource_url:"/assets/copper/arcanist/spark/spark_skill.webp",cool_down:20},E$={name:Xd,copper_type:1,description:Jd,icon_url:Yd,model_url:Zd,skill:R$},P$={name:"",description:" 20% ",resource_url:"/assets/copper/arcanist/syrup/syrup_skill.webp",cool_down:void 0},k$={name:Qd,copper_type:1,description:eh,icon_url:th,model_url:nh,skill:P$},O$={name:"",description:"",resource_url:"/assets/copper/arcanist/bubble/bubble_skill.webp",cool_down:10},N$={name:sh,copper_type:1,description:oh,icon_url:rh,model_url:ih,skill:O$},D$={name:"",description:" 20% ",resource_url:"/assets/copper/arcanist/glimmer/glimmer_skill.webp",cool_down:void 0},F$={name:ah,copper_type:1,description:ch,icon_url:lh,model_url:uh,skill:D$},G$={name:"",description:" 200% ",resource_url:"/assets/copper/arcanist/turner/turner_skill.webp",cool_down:5},H$={name:fh,copper_type:1,description:ph,icon_url:dh,model_url:hh,skill:G$},U$={name:"",description:" 20 ",resource_url:"/assets/copper/resonator/murmur/murmur_skill.webp",cool_down:void 0},j$={name:$h,copper_type:4,description:_h,icon_url:mh,model_url:gh,skill:U$},B$={name:"",description:" 5 ",resource_url:"/assets/copper/resonator/melody/melody_skill.webp",cool_down:void 0},V$={name:bh,copper_type:4,description:yh,icon_url:wh,model_url:vh,skill:B$},K$={name:"",description:" 0 ",resource_url:"/assets/copper/resonator/clawsteak/clawsteak_skill.webp",cool_down:void 0},W$={name:Th,copper_type:4,description:Mh,icon_url:xh,model_url:Ch,skill:K$},q$={name:"",description:" 3*3 ",resource_url:"/assets/copper/resonator/diggs/diggs_skill.webp",cool_down:void 0},z$={name:Sh,copper_type:4,description:Ah,icon_url:Lh,model_url:Ih,skill:q$},X$={name:"",description:" 10 ",resource_url:"/assets/copper/resonator/hive/hive_skill.webp",cool_down:void 0},J$={name:Rh,copper_type:4,description:Eh,icon_url:Ph,model_url:kh,skill:X$},Y$={name:"",description:"",resource_url:"/assets/copper/mechanic/gyro/gyro_skill.webp",cool_down:10},Z$={name:Oh,copper_type:3,description:Nh,icon_url:Dh,model_url:Fh,skill:Y$},Q$={name:"",description:"",resource_url:"/assets/copper/mechanic/tricky/tricky_skill.webp",cool_down:10},e_={name:Gh,copper_type:3,description:Hh,icon_url:Uh,model_url:jh,skill:Q$},t_={name:"",description:"",resource_url:"/assets/copper/mechanic/pendulum/pendulum_skill.webp",cool_down:5},n_={name:Bh,copper_type:3,description:Vh,icon_url:Kh,model_url:Wh,skill:t_},s_={name:"",description:" 200%",resource_url:"/assets/copper/mechanic/yoyo/yoyo_skill.webp",cool_down:3},o_={name:qh,copper_type:3,description:zh,icon_url:Xh,model_url:Jh,skill:s_},r_={name:"",description:"",resource_url:"/assets/copper/mechanic/karin/karin_skill.webp",cool_down:void 0},i_={name:Yh,copper_type:3,description:Zh,icon_url:Qh,model_url:e$,skill:r_},a_=void 0,c_={name:t$,copper_type:2,description:n$,icon_url:s$,model_url:o$,skill:a_},l_=void 0,u_={name:r$,copper_type:2,description:i$,icon_url:a$,model_url:c$,skill:l_},f_=void 0,p_={name:l$,copper_type:2,description:u$,icon_url:f$,model_url:p$,skill:f_},d_=void 0,h_={name:d$,copper_type:2,description:h$,icon_url:$$,model_url:_$,skill:d_},$_=void 0,es=[v$,M$,C$,A$,I$,E$,k$,N$,F$,H$,j$,V$,W$,z$,J$,Z$,e_,n_,o_,i_,c_,u_,p_,h_,{name:m$,copper_type:2,description:g$,icon_url:b$,model_url:y$,skill:$_}],__=Z_(e=>{const t=es.length;let n=0;for(;;){const s=n;if(s<t){const o=es[s];if(e({_0:o.name,_1:o})===1){n=s+1|0;continue}else return 0}else return 1}}),Uc=il(),m_=fg(),jc=Qm(),g_=il(),b_=qm();function Bc(e){Be()}function y_(e){return Be()}function w_(e){return Be()}function v_(e){return Be()}function Di(e,t){return gm(e,t)<0}function T_(e,t,n,s,o){if(e===n&&t<s){let r=0;for(;;){const i=r;if(i<o){const a=t+i|0,c=s+i|0;_(n,c),_(e,a),e[a]=n[c],r=i+1|0;continue}else return}}else{let r=o-1|0;for(;;){const i=r;if(i>=0){const a=t+i|0,c=s+i|0;_(n,c),_(e,a),e[a]=n[c],r=i-1|0;continue}else return}}}function M_(e,t,n,s,o){if(e===n&&t<s){let r=0;for(;;){const i=r;if(i<o){const a=t+i|0,c=s+i|0;_(n,c),_(e,a),e[a]=n[c],r=i+1|0;continue}else return}}else{let r=o-1|0;for(;;){const i=r;if(i>=0){const a=t+i|0,c=s+i|0;_(n,c),_(e,a),e[a]=n[c],r=i-1|0;continue}else return}}}function x_(e){return{val:""}}function C_(e,t){const n=e;n.val=`${n.val}${String.fromCodePoint(t)}`}function S_(e,t){const n=e;n.val=`${n.val}${t}`}function A_(e,t){Mm(t,e)}function L_(e,t){Ym(t,e)}function I_(e){let t=e.acc;return t=t^(t>>>15|0),t=Math.imul(t,-2048144777)|0,t=t^(t>>>13|0),t=Math.imul(t,-1028477379)|0,t=t^(t>>>16|0),t}function Vc(e){return I_(e)}function Kc(e){return{acc:(e>>>0)+374761393|0}}function kr(e){const t=Kc(0);return A_(t,e),Vc(t)}function Wc(e){const t=Kc(0);return L_(t,e),Vc(t)}function qc(e,t){const n=e._1,s=e._0,o=t/s|0;o!==0&&qc(e,o);const r=t%s|0,i=r<0?0-r|0:r;_("0123456789abcdefghijklmnopqrstuvwxyz",i),n.method_2(n.self,"0123456789abcdefghijklmnopqrstuvwxyz".charCodeAt(i))}function R_(e,t,n){e<0&&t.method_2(t.self,45),qc({_0:n,_1:t},e<0?0-e|0:e)}function E_(e){return e>=2&&e<7?36:e>=8&&e<15?18:e>=16&&e<=36?10:w_()}function P_(e,t){const n=x_(E_(t));return R_(e,{self:n,method_0:S_,method_1:N_,method_2:C_},t),n.val}function Xe(e){return P_(e,10)}function k_(e){return e.lo}function O_(e,t,n){const s=e.length;let o;return n===void 0?o=s:o=n,t>=0&&t<=o&&o<=s?e.substring(t,o):Be()}function N_(e,t,n,s){const o=e;o.val=`${o.val}${O_(t,n,n+s|0)}`}function Or(e){return e>=0?e<=1?1:e>1073741824?1073741824:(2147483647>>(Math.clz32(e-1|0)-1|0))+1|0:Be()}function D_(e){const t=Or(e),n=t-1|0,s=(Math.imul(t,13)|0)/16|0;return{entries:Dt(t,void 0),size:0,capacity:t,capacity_mask:n,grow_at:s,head:void 0,tail:-1}}function F_(e){const t=Or(e),n=t-1|0,s=(Math.imul(t,13)|0)/16|0;return{entries:Dt(t,void 0),size:0,capacity:t,capacity_mask:n,grow_at:s,head:void 0,tail:-1}}function G_(e){const t=Or(e),n=t-1|0,s=(Math.imul(t,13)|0)/16|0;return{entries:Dt(t,void 0),size:0,capacity:t,capacity_mask:n,grow_at:s,head:void 0,tail:-1}}function H_(e,t,n){const s=e.tail;if(s===-1)e.head=n;else{const r=e.entries;_(r,s);const i=r[s];let a;i===void 0?a=Be():a=i,a.next=n}e.tail=t;const o=e.entries;_(o,t),o[t]=n,e.size=e.size+1|0}function U_(e,t,n){const s=e.tail;if(s===-1)e.head=n;else{const r=e.entries;_(r,s);const i=r[s];let a;i===void 0?a=Be():a=i,a.next=n}e.tail=t;const o=e.entries;_(o,t),o[t]=n,e.size=e.size+1|0}function j_(e,t,n){const s=e.tail;if(s===-1)e.head=n;else{const r=e.entries;_(r,s);const i=r[s];let a;i===void 0?a=Be():a=i,a.next=n}e.tail=t;const o=e.entries;_(o,t),o[t]=n,e.size=e.size+1|0}function Fi(e,t,n){const s=e.entries;_(s,n),s[n]=t;const o=t.next;if(o===void 0){e.tail=n;return}else{const i=o;i.prev=n;return}}function Gi(e,t,n){const s=e.entries;_(s,n),s[n]=t;const o=t.next;if(o===void 0){e.tail=n;return}else{const i=o;i.prev=n;return}}function Hi(e,t,n){const s=e.entries;_(s,n),s[n]=t;const o=t.next;if(o===void 0){e.tail=n;return}else{const i=o;i.prev=n;return}}function B_(e,t,n){let s=n.psl+1|0,o=t+1&e.capacity_mask,r=n;for(;;){const i=s,a=o,c=r,u=e.entries;_(u,a);const l=u[a];if(l===void 0){c.psl=i,Fi(e,c,a);break}else{const p=l;if(i>p.psl){c.psl=i,Fi(e,c,a),s=p.psl+1|0,o=a+1&e.capacity_mask,r=p;continue}else{s=i+1|0,o=a+1&e.capacity_mask;continue}}}}function V_(e,t,n){let s=n.psl+1|0,o=t+1&e.capacity_mask,r=n;for(;;){const i=s,a=o,c=r,u=e.entries;_(u,a);const l=u[a];if(l===void 0){c.psl=i,Gi(e,c,a);break}else{const p=l;if(i>p.psl){c.psl=i,Gi(e,c,a),s=p.psl+1|0,o=a+1&e.capacity_mask,r=p;continue}else{s=i+1|0,o=a+1&e.capacity_mask;continue}}}}function K_(e,t,n){let s=n.psl+1|0,o=t+1&e.capacity_mask,r=n;for(;;){const i=s,a=o,c=r,u=e.entries;_(u,a);const l=u[a];if(l===void 0){c.psl=i,Hi(e,c,a);break}else{const p=l;if(i>p.psl){c.psl=i,Hi(e,c,a),s=p.psl+1|0,o=a+1&e.capacity_mask,r=p;continue}else{s=i+1|0,o=a+1&e.capacity_mask;continue}}}}function zc(e,t,n,s){e.size>=e.grow_at&&W_(e);let o,r=0,i=s&e.capacity_mask;for(;;){const p=r,h=i,m=e.entries;_(m,h);const b=m[h];if(b===void 0){o={_0:h,_1:p};break}else{const L=b;if(L.hash===s&&L.key===t){L.value=n;return}if(p>L.psl){B_(e,h,L),o={_0:h,_1:p};break}r=p+1|0,i=h+1&e.capacity_mask;continue}}const a=o._0,c=o._1,f={prev:e.tail,next:void 0,psl:c,hash:s,key:t,value:n};H_(e,a,f)}function Xc(e,t,n,s){e.size>=e.grow_at&&q_(e);let o,r=0,i=s&e.capacity_mask;for(;;){const p=r,h=i,m=e.entries;_(m,h);const b=m[h];if(b===void 0){o={_0:h,_1:p};break}else{const L=b;if(L.hash===s&&al(L.key,t)){L.value=n;return}if(p>L.psl){V_(e,h,L),o={_0:h,_1:p};break}r=p+1|0,i=h+1&e.capacity_mask;continue}}const a=o._0,c=o._1,f={prev:e.tail,next:void 0,psl:c,hash:s,key:t,value:n};U_(e,a,f)}function Jc(e,t,n,s){e.size>=e.grow_at&&z_(e);let o,r=0,i=s&e.capacity_mask;for(;;){const p=r,h=i,m=e.entries;_(m,h);const b=m[h];if(b===void 0){o={_0:h,_1:p};break}else{const L=b;if(L.hash===s&&L.key===t){L.value=n;return}if(p>L.psl){K_(e,h,L),o={_0:h,_1:p};break}r=p+1|0,i=h+1&e.capacity_mask;continue}}const a=o._0,c=o._1,f={prev:e.tail,next:void 0,psl:c,hash:s,key:t,value:n};j_(e,a,f)}function W_(e){const t=e.head,n=e.capacity<<1;e.entries=Dt(n,void 0),e.capacity=n,e.capacity_mask=n-1|0;const s=e.capacity;e.grow_at=(Math.imul(s,13)|0)/16|0,e.size=0,e.head=void 0,e.tail=-1;let o=t;for(;;){const r=o;if(r===void 0)return;{const a=r,c=a.next,u=a.key,l=a.value,f=a.hash;zc(e,u,l,f),o=c;continue}}}function q_(e){const t=e.head,n=e.capacity<<1;e.entries=Dt(n,void 0),e.capacity=n,e.capacity_mask=n-1|0;const s=e.capacity;e.grow_at=(Math.imul(s,13)|0)/16|0,e.size=0,e.head=void 0,e.tail=-1;let o=t;for(;;){const r=o;if(r===void 0)return;{const a=r,c=a.next,u=a.key,l=a.value,f=a.hash;Xc(e,u,l,f),o=c;continue}}}function z_(e){const t=e.head,n=e.capacity<<1;e.entries=Dt(n,void 0),e.capacity=n,e.capacity_mask=n-1|0;const s=e.capacity;e.grow_at=(Math.imul(s,13)|0)/16|0,e.size=0,e.head=void 0,e.tail=-1;let o=t;for(;;){const r=o;if(r===void 0)return;{const a=r,c=a.next,u=a.key,l=a.value,f=a.hash;Jc(e,u,l,f),o=c;continue}}}function ae(e,t,n){zc(e,t,n,kr(t))}function Yc(e,t,n){Xc(e,t,n,Wc(t))}function Zc(e,t,n){Jc(e,t,n,kr(t))}function ut(e){const t=D_(e.length),n=e.length;let s=0;for(;;){const o=s;if(o<n){const r=e[o];ae(t,r._0,r._1),s=o+1|0;continue}else break}return t}function X_(e){const t=F_(e.length),n=e.length;let s=0;for(;;){const o=s;if(o<n){const r=e[o];Yc(t,r._0,r._1),s=o+1|0;continue}else break}return t}function J_(e){const t=G_(e.length),n=e.length;let s=0;for(;;){const o=s;if(o<n){const r=e[o];Zc(t,r._0,r._1),s=o+1|0;continue}else break}return t}function Qc(e,t){const n=Wc(t);let s=0,o=n&e.capacity_mask;for(;;){const r=s,i=o,a=e.entries;_(a,i);const c=a[i];if(c===void 0)return;{const l=c;if(l.hash===n&&al(l.key,t))return l.value;if(r>l.psl)return;s=r+1|0,o=i+1&e.capacity_mask;continue}}}function Y_(e,t){const n=kr(t);let s=0,o=n&e.capacity_mask;for(;;){const r=s,i=o,a=e.entries;_(a,i);const c=a[i];if(c===void 0)Be();else{const l=c;if(l.hash===n&&l.key===t)return l.value;if(r<=l.psl){s=r+1|0,o=i+1&e.capacity_mask;continue}else Be()}}}function Z_(e){const t=J_([]);return e(n=>(Zc(t,n._0,n._1),1)),t}function Q_(e){return e?Td:Md}function nt(e){const t=e+0,n=void 0;return new Er(t,n)}function em(e){return{hi:0,lo:e}}function tm(e){return em(e)}function ar(e){return tm(e)}function Cs(e){const t=e,n=void 0;return new Er(t,n)}function nm(e){const t=new Array(e.length),n=e.length;let s=0;for(;;){const o=s;if(o<n){const r=e[o];t[o]=ul(r),s=o+1|0;continue}else break}return new Gc(t)}function sm(e,t){Hc(e,t)}function om(e,t){Hc(e,t)}function rm(){return e=>1}function Ui(e){return t=>t(e)}function im(e,t){return n=>e(n)===1&&t(n)===1?1:0}function am(e){const t=[];return e(n=>(sm(t,n),1)),t}function el(e,t,n){const s=e.hi,o=e.lo,r=o+n|0,i=r>>31,a=o>>31,c=n>>31,u=(a&c|~i&(a^c))&1;return{hi:(s+t|0)+u|0,lo:r}}function cm(e,t){return el(e,t.hi,t.lo)}function lm(e,t){return t.lo===0?{hi:e.hi-t.hi|0,lo:e.lo}:el(e,-1,-1)}function um(e,t){const n=e.hi,s=e.lo,o=t.hi,r=t.lo,i=n,a=s,c=o,u=r,l=i>>>16|0,f=i&65535,p=a>>>16|0,h=a&65535,m=c>>>16|0,b=c&65535,x=u>>>16|0,L=u&65535,G=Math.imul(h,L)|0,D=G>>>16|0,T=G&65535,g=(D>>>0)+((Math.imul(p,L)|0)>>>0)|0,w=g>>>16|0,A=((g&65535)>>>0)+((Math.imul(h,x)|0)>>>0)|0,v=(w>>>0)+((A>>>16|0)>>>0)|0,M=A&65535,O=(v>>>0)+((Math.imul(f,L)|0)>>>0)|0,y=O>>>16|0,Z=((O&65535)>>>0)+((Math.imul(p,x)|0)>>>0)|0,V=(y>>>0)+((Z>>>16|0)>>>0)|0,B=((Z&65535)>>>0)+((Math.imul(h,b)|0)>>>0)|0,W=(V>>>0)+((B>>>16|0)>>>0)|0,se=B&65535;return{hi:(((((((((W>>>0)+((Math.imul(l,L)|0)>>>0)|0)>>>0)+((Math.imul(f,x)|0)>>>0)|0)>>>0)+((Math.imul(p,b)|0)>>>0)|0)>>>0)+((Math.imul(h,m)|0)>>>0)|0)&65535)<<16|se,lo:M<<16|T}}function fm(e,t){const n=xd(),s=e.hi,o=e.lo,r=t.hi,i=t.lo,a=n.rem_u,c=a(o,s,i,r),u=n.get_high;return{hi:u(),lo:c}}function pm(e){return{hi:~e.hi,lo:~e.lo}}function dm(e,t){return{hi:e.hi&t.hi,lo:e.lo&t.lo}}function hm(e,t){return{hi:e.hi|t.hi,lo:e.lo|t.lo}}function $m(e,t){const n=t&63;return{hi:e.lo<<(n-32|0),lo:0}}function _m(e,t){const n=t&63;return n===0?e:n<32?{hi:e.hi>>>n|0,lo:e.lo>>>n|e.hi<<(32-n|0)}:{hi:0,lo:e.hi>>>(n-32|0)|0}}function Ss(e,t){return cm(e,t)}function ji(e,t){return lm(e,t)}function Dn(e,t){return um(e,t)}function mm(e,t){return fm(e,t)}function Bi(e){return e.lo}function gm(e,t){return Cd(e,t)}function Vi(e,t){const n=e,s=t;return n.hi===s.hi&&n.lo===s.lo}function ts(e,t){return dm(e,t)}function bm(e,t){return hm(e,t)}function ym(e){return pm(e)}function wm(e,t){return $m(e,t)}function bn(e,t){return _m(e,t)}function vm(e,t){const n=(e.acc>>>0)+((Math.imul(t,-1028477379)|0)>>>0)|0,s=17;e.acc=Math.imul(n<<s|(n>>>(32-s|0)|0),668265263)|0}function tl(e,t){e.acc=(e.acc>>>0)+4|0,vm(e,t)}function Fn(e,t){tl(e,t)}function Tm(e,t){const n=t.length;let s=0;for(;;){const o=s;if(o<n){tl(e,t.charCodeAt(o)),s=o+1|0;continue}else return}}function Mm(e,t){Tm(t,e)}function xm(e){const t=e;let n=t^(t>>>17|0);return n=Math.imul(n,-312814405)|0,n=n^(n>>>11|0),n=Math.imul(n,-1404298415)|0,n=n^(n>>>15|0),n=Math.imul(n,830770091)|0,n=n^(n>>>14|0),n}function Ki(e,t,n,s,o){if(o>=0&&s>=0&&(o+n|0)<=t.length&&(s+n|0)<=e.length){T_(t,o,e,s,n);return}else{Bc(`bounds check failed: dst_offset = ${Xe(o)}, src_offset = ${Xe(s)}, len = ${Xe(n)}, dst.length = ${Xe(t.length)}, self.length = ${Xe(e.length)}`);return}}function Cm(e,t,n,s,o){if((o+n|0)<=t.length&&(s+n|0)<=e.length){M_(t,o,e,s,n);return}else{Bc(`bounds check failed: dst_offset = ${Xe(o)}, src_offset = ${Xe(s)}, len = ${Xe(n)}, dst.length = ${Xe(t.length)}, self.length = ${Xe(e.length)}`);return}}function Sm(e,t){{const n=Dt(e,t(0));let s=1;for(;;){const o=s;if(o<e){_(n,o),n[o]=t(o),s=o+1|0;continue}else break}return n}}function Am(e){return Sd(e)}function As(e,t){if(t>=0&&t<e.len){const n=e.bytes,s=e.start+t|0;return _(n,s),n[s]}else return v_(`index out of bounds: the len is from 0 to ${Xe(e.len)} but the index is ${Xe(t)}`)}function Lm(e,t,n){const s=e.length;let o;if(n===void 0)o=s;else{const a=n;o=a<0?s+a|0:a}const r=t<0?s+t|0:t;return r>=0&&r<=o&&o<=s?{bytes:e,start:r,len:o-r|0}:y_()}function Im(e){const t=As(e,0),n=As(e,1),s=(t>>>0)+(n<<8>>>0)|0,o=As(e,2),r=(s>>>0)+(o<<16>>>0)|0,i=As(e,3);return(r>>>0)+(i<<24>>>0)|0}function Rm(e,t,n){_(t,0),t[0]=1634760805,_(t,1),t[1]=1634760805,_(t,2),t[2]=1634760805,_(t,3),t[3]=1634760805,_(t,4),t[4]=857760878,_(t,5),t[5]=857760878,_(t,6),t[6]=857760878,_(t,7),t[7]=857760878,_(t,8),t[8]=2036477234,_(t,9),t[9]=2036477234,_(t,10),t[10]=2036477234,_(t,11),t[11]=2036477234,_(t,12),t[12]=1797285236,_(t,13),t[13]=1797285236,_(t,14),t[14]=1797285236,_(t,15),t[15]=1797285236,_(e,0),_(t,16),t[16]=e[0],_(e,0),_(t,17),t[17]=e[0],_(e,0),_(t,18),t[18]=e[0],_(e,0),_(t,19),t[19]=e[0],_(e,1),_(t,20),t[20]=e[1],_(e,1),_(t,21),t[21]=e[1],_(e,1),_(t,22),t[22]=e[1],_(e,1),_(t,23),t[23]=e[1],_(e,2),_(t,24),t[24]=e[2],_(e,2),_(t,25),t[25]=e[2],_(e,2),_(t,26),t[26]=e[2],_(e,2),_(t,27),t[27]=e[2],_(e,3),_(t,28),t[28]=e[3],_(e,3),_(t,29),t[29]=e[3],_(e,3),_(t,30),t[30]=e[3],_(e,3),_(t,31),t[31]=e[3],_(e,4),_(t,32),t[32]=e[4],_(e,4),_(t,33),t[33]=e[4],_(e,4),_(t,34),t[34]=e[4],_(e,4),_(t,35),t[35]=e[4],_(e,5),_(t,36),t[36]=e[5],_(e,5),_(t,37),t[37]=e[5],_(e,5),_(t,38),t[38]=e[5],_(e,5),_(t,39),t[39]=e[5],_(e,6),_(t,40),t[40]=e[6],_(e,6),_(t,41),t[41]=e[6],_(e,6),_(t,42),t[42]=e[6],_(e,6),_(t,43),t[43]=e[6],_(e,7),_(t,44),t[44]=e[7],_(e,7),_(t,45),t[45]=e[7],_(e,7),_(t,46),t[46]=e[7],_(e,7),_(t,47),t[47]=e[7],_(t,48),t[48]=n,_(t,49),t[49]=(n>>>0)+1|0,_(t,50),t[50]=(n>>>0)+2|0,_(t,51),t[51]=(n>>>0)+3|0,_(t,52),t[52]=0,_(t,53),t[53]=0,_(t,54),t[54]=0,_(t,55),t[55]=0,_(t,56),t[56]=0,_(t,57),t[57]=0,_(t,58),t[58]=0,_(t,59),t[59]=0,_(t,60),t[60]=0,_(t,61),t[61]=0,_(t,62),t[62]=0,_(t,63),t[63]=0}function Gt(e){const t=e._0,n=e._1,s=e._2,o=e._3,r=(t>>>0)+(n>>>0)|0,i=o^r,a=i<<16|(i>>>16|0),c=(s>>>0)+(a>>>0)|0,u=n^c,l=u<<12|(u>>>20|0),f=(r>>>0)+(l>>>0)|0,p=a^f,h=p<<8|(p>>>24|0),m=(c>>>0)+(h>>>0)|0,b=l^m,x=b<<7|(b>>>25|0);return{_0:f,_1:x,_2:m,_3:h}}function nl(e,t,n){Rm(e,t,n);let s=0;for(;;){const o=s;if(o<4){_(t,o);let r=t[o];const i=4+o|0;_(t,i);let a=t[i];const c=8+o|0;_(t,c);let u=t[c];const l=12+o|0;_(t,l);let f=t[l];const p=16+o|0;_(t,p);let h=t[p];const m=20+o|0;_(t,m);let b=t[m];const x=24+o|0;_(t,x);let L=t[x];const G=28+o|0;_(t,G);let D=t[G];const T=32+o|0;_(t,T);let g=t[T];const w=36+o|0;_(t,w);let I=t[w];const A=40+o|0;_(t,A);let v=t[A];const M=44+o|0;_(t,M);let O=t[M];const y=48+o|0;_(t,y);let K=t[y];const Z=52+o|0;_(t,Z);let V=t[Z];const te=56+o|0;_(t,te);let B=t[te];const W=60+o|0;_(t,W);let se=t[W],Te=0;for(;;){const k=Te;if(k<4){const E=Gt({_0:r,_1:h,_2:g,_3:K});r=E._0,h=E._1,g=E._2,K=E._3;const R=Gt({_0:a,_1:b,_2:I,_3:V});a=R._0,b=R._1,I=R._2,V=R._3;const U=Gt({_0:u,_1:L,_2:v,_3:B});u=U._0,L=U._1,v=U._2,B=U._3;const F=Gt({_0:f,_1:D,_2:O,_3:se});f=F._0,D=F._1,O=F._2,se=F._3;const N=Gt({_0:r,_1:b,_2:v,_3:se});r=N._0,b=N._1,v=N._2,se=N._3;const P=Gt({_0:a,_1:L,_2:O,_3:K});a=P._0,L=P._1,O=P._2,K=P._3;const q=Gt({_0:u,_1:D,_2:g,_3:V});u=q._0,D=q._1,g=q._2,V=q._3;const j=Gt({_0:f,_1:h,_2:I,_3:B});f=j._0,h=j._1,I=j._2,B=j._3,Te=k+1|0;continue}else break}_(t,o),t[o]=r;const ge=4+o|0;_(t,ge),t[ge]=a;const Le=8+o|0;_(t,Le),t[Le]=u;const xe=12+o|0;_(t,xe),t[xe]=f;const Ie=16+o|0;_(t,Ie),_(t,Ie),t[Ie]=(t[Ie]>>>0)+(h>>>0)|0;const Qe=20+o|0;_(t,Qe),_(t,Qe),t[Qe]=(t[Qe]>>>0)+(b>>>0)|0;const et=24+o|0;_(t,et),_(t,et),t[et]=(t[et]>>>0)+(L>>>0)|0;const Re=28+o|0;_(t,Re),_(t,Re),t[Re]=(t[Re]>>>0)+(D>>>0)|0;const De=32+o|0;_(t,De),_(t,De),t[De]=(t[De]>>>0)+(g>>>0)|0;const Fe=36+o|0;_(t,Fe),_(t,Fe),t[Fe]=(t[Fe]>>>0)+(I>>>0)|0;const ft=40+o|0;_(t,ft),_(t,ft),t[ft]=(t[ft]>>>0)+(v>>>0)|0;const Ve=44+o|0;_(t,Ve),_(t,Ve),t[Ve]=(t[Ve]>>>0)+(O>>>0)|0;const hn=48+o|0;_(t,hn),t[hn]=K;const d=52+o|0;_(t,d),t[d]=V;const $=56+o|0;_(t,$),t[$]=B;const S=60+o|0;_(t,S),t[S]=se,s=o+1|0;continue}else return}}function Em(e){const t=Sm(8,o=>Im(Lm(e,Math.imul(o,4)|0,(Math.imul(o,4)|0)+4|0))),n=Dt(64,0);return nl(t,n,0),{buffer:n,seed:t,i:0,n:32,counter:0}}function Pm(e){const t=e.i;if(t>>>0>=e.n>>>0)return;e.i=(t>>>0)+1|0;const n=t&31,s=e.buffer,o=Math.imul(n,2)|0;_(s,o);const r=ar(s[o]),i=e.buffer,a=(Math.imul(n,2)|0)+1|0;_(i,a);const c=ar(i[a]);return bm(wm(c,32),r)}function km(e){e.counter=(e.counter>>>0)+4|0,e.counter===16&&(Cm(e.buffer,e.seed,8,56,0),e.counter=0),nl(e.seed,e.buffer,e.counter),e.i=0,e.n=e.counter===12?28:32}function sl(e,t,n,s,o,r){const a=n&31,u=r&31;if(a===u){let l;if(n>>>0<=127){const p={_0:e,_1:t};l=new xn(s,o,new ds(p,Cn))}else{const h=n>>>5|0;l=sl(e,t,h,s,o,r>>>5|0)}return new ps(Dm(a,l))}else{let l,f;e:if(n>>>0<=127){const h=new xn(e,t,Cn),m=new xn(s,o,Cn);l=h,f=m;break e}else{const h=n,m=new Ln(e,t,h>>>5|0),b=r,x=new Ln(s,o,b>>>5|0);l=m,f=x;break e}return new ps(Gm(a,l,u,f))}}function ol(e,t,n,s){switch(e.$tag){case 1:{const o=e,r=o._0,i=o._1,a=o._2;if(t===r)return new xn(t,n,a);{const c=Bm(a,f=>f._0===t);let u;c===void 0?u=a:u=Vm(a,c);const l={_0:r,_1:i};return new xn(t,n,new ds(l,u))}}case 0:{const o=e,r=o._0,i=o._1,a=o._2;return s===a&&t===r?new Ln(r,n,a):sl(r,i,a,t,n,s)}default:{const r=e._0,a=s&31,c=Fm(r,a);if(c===void 0){const u=s,l=new Ln(t,n,u>>>5|0);return new ps(Hm(r,a,l))}else{const p=ol(c,t,n,s>>>5|0);return new ps(Um(r,a,p))}}}}function Fs(e,t,n){const s=e;return s===void 0?new Ln(t,n,Wi(t)):ol(s,t,n,Wi(t))}function rl(e){switch(e.$tag){case 1:{const t=e,n=t._0,s=t._1,o=t._2;return im(Ui({_0:n,_1:s}),jm(o))}case 0:{const t=e,n=t._0,s=t._1;return Ui({_0:n,_1:s})}default:{const s=e._0.data;return o=>{const r=s.length;let i=0;for(;;){const a=i;if(a<r){const c=s[a];if(rl(c)(o)===1){i=a+1|0;continue}else return 0}else return 1}}}}}function Om(e){const t=e;return t===void 0?rm():rl(t)}function Nm(e){const t=Om(e);return n=>t(s=>n(s._1))}function Wi(e){return xm(e)|-1073741824}function Dm(e,t){return{elem_info:0|1<<e,data:[t]}}function Fm(e,t){if(e.elem_info&1<<t){const s=e.data,o=e.elem_info,r=Pr(o&((1<<t>>>0)-1|0));return _(s,r),s[r]}else return}function Gm(e,t,n,s){return{elem_info:0|1<<e|1<<n,data:e<n?[t,s]:[s,t]}}function Hm(e,t,n){const s=e.data,o=s.length,r=o+1|0,i=e.elem_info,a=Pr(i&((1<<t>>>0)-1|0)),c=Dt(r,n);return Ki(s,c,a,0,0),Ki(s,c,o-a|0,a,a+1|0),{elem_info:e.elem_info|1<<t,data:c}}function Um(e,t,n){const s=Am(e.data),o=e.elem_info,r=Pr(o&((1<<t>>>0)-1|0));return _(s,r),s[r]=n,{elem_info:e.elem_info,data:s}}function jm(e){return n=>{let s=e;for(;;){const o=s;if(o.$tag===0)return 1;{const r=o,i=r._0,a=r._1;if(n(i)===0)return 0;s=a;continue}}}}function Bm(e,t){let n=e,s=0;for(;;){const o=n,r=s;if(o.$tag===0)return;{const i=o,a=i._0,c=i._1;if(t(a))return r;n=c,s=r+1|0;continue}}}function Vm(e,t){if(e.$tag===0)return Cn;if(t<0)return e;if(t===0)return e._1;{const n=e,s=n._0,o=n._1,r=new ds(s,Cn);let i=r,a=o,c=t-1|0;for(;;){const u=i,l=a,f=c;if(l.$tag===0)break;if(u.$tag===1){const p=u,h=l,m=h._0,b=h._1;if(f===0){p._1=b;break}else{p._1=new ds(m,Cn),i=p._1,a=b,c=f-1|0;continue}}else{Be();break}}return r}}function Km(e){for(;;){const t=Pm(e);if(t!==void 0)return t;km(e)}}function Wm(e){return{self:Em(e),method_0:Km}}function qm(e){return Wm(Ad)}function qi(e,t){const n=ts(e,Po),s=bn(e,32),o=ts(t,Po),r=bn(t,32),i=Dn(n,o),a=Ss(Dn(s,o),bn(i,32)),c=Ss(Dn(n,r),ts(a,Po));return{hi:Ss(Ss(Dn(s,r),bn(a,32)),bn(c,32)),lo:Dn(e,t)}}function zm(e,t){if(Vi(t,Oi)){const o=e;return o.method_0(o.self)}else if(Vi(ts(t,ji(t,Ni)),Oi)){const o=e;return ts(o.method_0(o.self),ji(t,Ni))}const n=e;let s=qi(n.method_0(n.self),t);if(Di(s.lo,t)){const o=mm(ym(t),t);for(;Di(s.lo,o);){const r=e;s=qi(r.method_0(r.self),t);continue}}return s.hi}function Xm(e,t){if(t===0){const n=e;return Bi(n.method_0(n.self))}return Bi(zm(e,ar(t)))}function Jm(e,t){if(t===0){const n=e;return k_(bn(n.method_0(n.self),33))}else return Xm(e,t)}function il(){return{now:0}}function Nr(e){return e.now=e.now+1|0,e.now}function al(e,t){switch(e){case 0:return t===0;case 1:return t===1;case 2:return t===2;case 3:return t===3;default:return t===4}}function Ym(e,t){switch(e){case 0:{Fn(t,0);return}case 1:{Fn(t,1);return}case 2:{Fn(t,2);return}case 3:{Fn(t,3);return}default:{Fn(t,4);return}}}function cl(e){const t=ut([]);return ae(t,"health",Cs(e.health)),ae(t,"attack",Cs(e.attack)),ae(t,"defense",Cs(e.defense)),ae(t,"dodge",Cs(e.dodge)),new Ze(t)}function Gn(e,t,n,s){return{health:e,attack:t,defense:n,dodge:s}}function zi(e){const t=ut([]);return ae(t,"equipment_base",Zm(e.equipment_base)),ae(t,"id",nt(e.id)),new Ze(t)}function Zm(e){const t=ut([]),n=e.name;ae(t,"name",new ve(n));const s=e.description;ae(t,"description",new ve(s));const o=e.resource_url;return ae(t,"resource_url",new ve(o)),ae(t,"attribute",cl(e.attribute)),new Ze(t)}function Qm(){return{history:[],callback:e=>{}}}function ll(e,t){const n={id:Nr(g_),type_msg:t.type_msg,content:t.content};om(e.history,n)}function ul(e){const t=ut([]);return ae(t,"id",nt(e.id)),ae(t,"level",nt(e.level)),ae(t,"suffix",nt(e.suffix)),ae(t,"live_left",nt(e.live_left)),ae(t,"attribute",cl(e.attribute)),ae(t,"copper_type",fl(e.copper_type)),ae(t,"equipment_slot",eg(e.equipment_slot)),ae(t,"copper_info",tg(e.copper_info)),new Ze(t)}function fl(e){switch(e){case 0:{const t="IronWall";return new ve(t)}case 1:{const t="Arcanist";return new ve(t)}case 2:{const t="CraftsMan";return new ve(t)}case 3:{const t="Mechanic";return new ve(t)}default:{const t="Resonator";return new ve(t)}}}function eg(e){const t=ut([]),n=e.slot1;n===void 0||ae(t,"slot1",zi(n));const s=e.slot2;return s===void 0||ae(t,"slot2",zi(s)),ae(t,"is_slot2_locked",Q_(e.is_slot2_locked)),new Ze(t)}function tg(e){const t=ut([]),n=e.name;ae(t,"name",new ve(n)),ae(t,"copper_type",fl(e.copper_type));const s=e.description;ae(t,"description",new ve(s));const o=e.icon_url;ae(t,"icon_url",new ve(o));const r=e.model_url;ae(t,"model_url",new ve(r));const i=e.skill;return i===void 0||ae(t,"skill",ng(i)),new Ze(t)}function ng(e){const t=ut([]),n=e.name;ae(t,"name",new ve(n));const s=e.description;ae(t,"description",new ve(s));const o=e.resource_url;ae(t,"resource_url",new ve(o));const r=e.cool_down;return r===void 0||ae(t,"cool_down",nt(r)),new Ze(t)}function pl(){return{slot1:void 0,slot2:void 0,is_slot2_locked:!0}}function dl(e){switch(e){case 0:return Gn(Math.fround(100),Math.fround(10),Math.fround(10),Math.fround(10));case 1:return Gn(Math.fround(30),Math.fround(20),Math.fround(5),Math.fround(5));case 4:return Gn(Math.fround(30),Math.fround(5),Math.fround(5),Math.fround(5));case 3:return Gn(Math.fround(50),Math.fround(5),Math.fround(5),Math.fround(5));default:return Gn(Math.fround(50),Math.fround(0),Math.fround(5),Math.fround(5))}}function ko(e){const t=Y_(__,e),n=Nr(Uc);return{id:n,level:1,suffix:n,live_left:5,attribute:dl(t.copper_type),copper_type:t.copper_type,equipment_slot:pl(),copper_info:t}}function sg(){return X_([{_0:2,_1:9999},{_0:1,_1:0},{_0:4,_1:0},{_0:3,_1:0},{_0:0,_1:0}])}function yn(e,t){const n=Qc(e,t);return n===void 0?Be():n}function og(e,t,n){const s=Qc(e,t);let o;if(s===void 0?o=Be():o=s,o<n){ll(jc,{type_msg:"resource_not_enough",content:""});return}else{Yc(e,t,o-n|0);return}}function rg(){const e=ko(""),t=ko(""),n=ko("");return{coppers:Fs(Fs(Fs(void 0,e.id,e),t.id,t),n.id,n)}}function ig(e,t){return{coppers:Fs(e.coppers,t.id,t)}}function ag(e){return am(Nm(e.coppers))}function cg(e,t){return e+Jm(b_,(t-e|0)+1|0)|0}function lg(){const e=Nr(Uc),t=cg(0,es.length-1|0);_(es,t);const n=es[t],s=dl(n.copper_type);return{id:e,level:1,suffix:e,live_left:5,attribute:s,copper_type:n.copper_type,equipment_slot:pl(),copper_info:n}}function ug(e){if(yn(e,2)>10)return og(e,2,10),lg();ll(jc,{type_msg:"resource_not_enough",content:""})}function fg(){return{resource:sg(),warehouse:rg()}}function pg(e){const t=e.resource,n=ut([{_0:"SpiritalSpark",_1:nt(yn(t,2))},{_0:"RecallGear",_1:nt(yn(t,1))},{_0:"ResonantCrystal",_1:nt(yn(t,4))},{_0:"RefinedCopper",_1:nt(yn(t,3))},{_0:"HeartCrystalDust",_1:nt(yn(t,0))}]);return new Ze(n)}function dg(e){const t=e.warehouse,n=ut([{_0:"coppers",_1:nm(ag(t))}]);return new Ze(n)}function hg(e){const t=ug(e.resource);if(t===void 0){const n="error",s={_0:"type",_1:new ve(n)},o="",r=ut([s,{_0:"content",_1:new ve(o)}]);return new Ze(r)}else{const s=t;e.warehouse=ig(e.warehouse,s);const o="success",r=ut([{_0:"type",_1:new ve(o)},{_0:"copper",_1:ul(s)}]);return new Ze(r)}}function on(){return m_}function ns(e){return pg(e)}function Oo(e){return dg(e)}function Xi(e){return hg(e)}const $g={__name:"DrawScreen",emits:["draw"],setup(e,{expose:t,emit:n}){t();const s=n,o=Q(!1),r=Q(!0),i=Q(!1),a=Q(""),c=Q(""),u=Q(""),l=Q({left:0,top:0,width:0,height:0});function f(g){return g?typeof g=="string"&&g.startsWith("/")?g:pe(g):""}const p=Q(!1),h=Q(!1),m=Q(!1),b=Q("");function x(g){b.value=g||"",m.value=!0,setTimeout(()=>{m.value=!1},1800)}async function L(){try{const g=await ns(on()),w=v=>{if(v==null)return v;const M=typeof v=="object"&&"_0"in v&&Object.keys(v).length===1?v._0:v;if(M&&typeof M=="object"&&"_0"in M&&typeof M._0=="number")return M._0;if(M&&typeof M=="object"&&Array.isArray(M.entries)&&typeof M.size=="number"){const O={};for(const y of M.entries){if(!y)continue;const K=y.key??y._0??y[0],Z=y.value??y._1??y[1],V=typeof K=="string"?K:K&&K._0?K._0:String(K);O[V]=w(Z)}return O}if(Array.isArray(M))return M.map(w);if(M&&typeof M=="object"){const O={};for(const y of Object.keys(M))O[y]=w(M[y]);return O}return M},I=w(g),A=Number((I==null?void 0:I.SpiritalSpark)??0);r.value=A>=10}catch{r.value=!1}}function G(){i.value=!1,p.value=!1,h.value=!1}function D(){if(o.value)return;if(L(),!r.value){x("");return}o.value=!0,console.log("[DrawScreen] runDrawSequence start");const g=document.querySelector(".draw-card");if(g){g.classList.add("is-shaking"),setTimeout(()=>g.classList.remove("is-shaking"),500);const w=g.getBoundingClientRect();l.value={left:Math.round(w.left),top:Math.round(w.top),width:Math.round(w.width),height:Math.round(w.height)}}setTimeout(async()=>{i.value=!0,p.value=!1,h.value=!0;try{const w=await Xi(on());console.log("[DrawScreen] gacha raw:",w);const I=v=>{if(v==null)return v;const M=typeof v=="object"&&"_0"in v&&Object.keys(v).length===1?v._0:v;if(M&&typeof M=="object"&&"_0"in M&&typeof M._0=="number")return M._0;if(M&&typeof M=="object"&&Array.isArray(M.entries)&&typeof M.size=="number"){const O={};for(const y of M.entries){if(!y)continue;const K=y.key??y._0??y[0],Z=y.value??y._1??y[1],V=typeof K=="string"?K:K&&K._0?K._0:String(K);O[V]=I(Z)}return O}if(Array.isArray(M))return M.map(I);if(M&&typeof M=="object"){const O={};for(const y of Object.keys(M))O[y]=I(M[y]);return O}return M},A=I(w);if(console.log("[DrawScreen] gacha data:",A),A&&A.type==="success"&&A.copper&&A.copper.copper_info){const v=A.copper.copper_info;console.log("[DrawScreen] gacha info:",v),console.log("[DrawScreen] icon_url:",v.icon_url),a.value=v.name||"",c.value="",u.value=f(v.icon_url||""),console.log("[DrawScreen] tempImage resolved:",u.value),await Kt(),setTimeout(()=>{h.value=!1,setTimeout(()=>{p.value=!0},350)},450),s("draw",{name:v.name,image:v.icon_url||""}),L()}else A&&A.type==="error"&&(i.value=!1,p.value=!1,h.value=!1,x(A.content||""),s("draw",{error:!0}),L())}catch{i.value=!1,p.value=!1,h.value=!1,x(""),s("draw",{error:!0}),L()}finally{setTimeout(()=>{o.value=!1},800)}},600)}const T={emit:s,isDrawing:o,canDraw:r,showTempCard:i,tempName:a,tempIcon:c,tempImage:u,tempRect:l,resolveAssetUrl:f,infoVisible:p,cardFlipped:h,toastVisible:m,toastText:b,showToast:x,refreshCanDraw:L,onCloseResult:G,runDrawSequence:D,ref:Q,nextTick:Kt,get getAssetUrl(){return pe},get get_global(){return on},get global_gacha(){return Xi},get global_get_resource(){return ns}};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},_g={class:"draw-screen"},mg={class:"draw-screen__body"},gg={class:"draw-card"},bg={class:"card-face card-back"},yg=["src"],wg={class:"card-face card-front"},vg=["src"],Tg={key:1,class:"card-icon"},Mg=["src"],xg={class:"draw-cost"},Cg=["src"],Sg=["disabled","title"],Ag={key:0,class:"toast"};function Lg(e,t,n,s,o,r){return ie(),de("div",_g,[C("div",mg,[C("div",gg,[s.showTempCard?(ie(),de("div",{key:0,class:"draw-temp",onClick:s.onCloseResult},[t[3]||(t[3]=C("div",{class:"dim-backdrop"},null,-1)),C("div",{class:"temp-stack",style:Bt({left:s.tempRect.left+"px",top:s.tempRect.top+"px",width:s.tempRect.width+"px",height:s.tempRect.height+"px"}),onClick:t[2]||(t[2]=Ro(()=>{},["stop"]))},[C("div",{class:zt(["card",{flipped:s.cardFlipped}]),onClick:t[0]||(t[0]=Ro(i=>s.cardFlipped=!s.cardFlipped,["stop"]))},[C("div",bg,[C("img",{src:s.getAssetUrl("frontend_resource/gacha.webp"),alt:"back"},null,8,yg)]),C("div",wg,[s.tempImage?(ie(),de("img",{key:0,src:s.tempImage,alt:"copper",class:"card-front-img"},null,8,vg)):(ie(),de("div",Tg,$e(s.tempIcon||""),1))])],2),C("div",{class:zt(["card-name-below",{show:s.infoVisible}]),onClick:t[1]||(t[1]=Ro(()=>{},["stop"]))},$e(s.tempName),3)],4)])):Wt("",!0),C("img",{class:"draw-card__img",src:s.getAssetUrl("frontend_resource/gacha.webp"),alt:"card"},null,8,Mg)]),C("div",xg,[C("img",{class:"draw-cost__icon",src:s.getAssetUrl("resource/spiritual_spark.webp"),alt:"cost"},null,8,Cg),t[4]||(t[4]=C("span",{class:"draw-cost__times"},"X 10",-1))]),C("button",{class:"draw-action",disabled:s.isDrawing||!s.canDraw,title:s.canDraw?"":"",onClick:s.runDrawSequence},"",8,Sg),s.toastVisible?(ie(),de("div",Ag,$e(s.toastText),1)):Wt("",!0)])])}const Ig=dn($g,[["render",Lg],["__scopeId","data-v-0c4022d9"],["__file","D:/Project/MGPIC-2025/src/vue/DrawScreen.vue"]]);function Ji(e,t){if(t===_l)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===Ho||t===sa){let n=e.getIndex();if(n===null){const i=[],a=e.getAttribute("position");if(a!==void 0){for(let c=0;c<a.count;c++)i.push(c);e.setIndex(i),n=e.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e}const s=n.count-2,o=[];if(t===Ho)for(let i=1;i<=s;i++)o.push(n.getX(0)),o.push(n.getX(i)),o.push(n.getX(i+1));else for(let i=0;i<s;i++)i%2===0?(o.push(n.getX(i)),o.push(n.getX(i+1)),o.push(n.getX(i+2))):(o.push(n.getX(i+2)),o.push(n.getX(i+1)),o.push(n.getX(i)));o.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=e.clone();return r.setIndex(o),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}class ss extends oa{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Og(n)}),this.register(function(n){return new Ng(n)}),this.register(function(n){return new Kg(n)}),this.register(function(n){return new Wg(n)}),this.register(function(n){return new qg(n)}),this.register(function(n){return new Fg(n)}),this.register(function(n){return new Gg(n)}),this.register(function(n){return new Hg(n)}),this.register(function(n){return new Ug(n)}),this.register(function(n){return new kg(n)}),this.register(function(n){return new jg(n)}),this.register(function(n){return new Dg(n)}),this.register(function(n){return new Vg(n)}),this.register(function(n){return new Bg(n)}),this.register(function(n){return new Eg(n)}),this.register(function(n){return new zg(n)}),this.register(function(n){return new Xg(n)})}load(t,n,s,o){const r=this;let i;if(this.resourcePath!=="")i=this.resourcePath;else if(this.path!==""){const u=Vn.extractUrlBase(t);i=Vn.resolveURL(u,this.path)}else i=Vn.extractUrlBase(t);this.manager.itemStart(t);const a=function(u){o?o(u):console.error(u),r.manager.itemError(t),r.manager.itemEnd(t)},c=new Gs(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(u){try{r.parse(u,i,function(l){n(l),r.manager.itemEnd(t)},a)}catch(l){a(l)}},s,a)}setDRACOLoader(t){return this.dracoLoader=t,this}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,s,o){let r;const i={},a={},c=new TextDecoder;if(typeof t=="string")r=JSON.parse(t);else if(t instanceof ArrayBuffer)if(c.decode(new Uint8Array(t,0,4))===hl){try{i[ne.KHR_BINARY_GLTF]=new Jg(t)}catch(f){o&&o(f);return}r=JSON.parse(i[ne.KHR_BINARY_GLTF].content)}else r=JSON.parse(c.decode(t));else r=t;if(r.asset===void 0||r.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new l0(r,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const f=this.pluginCallbacks[l](u);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[f.name]=f,i[f.name]=!0}if(r.extensionsUsed)for(let l=0;l<r.extensionsUsed.length;++l){const f=r.extensionsUsed[l],p=r.extensionsRequired||[];switch(f){case ne.KHR_MATERIALS_UNLIT:i[f]=new Pg;break;case ne.KHR_DRACO_MESH_COMPRESSION:i[f]=new Yg(r,this.dracoLoader);break;case ne.KHR_TEXTURE_TRANSFORM:i[f]=new Zg;break;case ne.KHR_MESH_QUANTIZATION:i[f]=new Qg;break;default:p.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(i),u.setPlugins(a),u.parse(s,o)}parseAsync(t,n){const s=this;return new Promise(function(o,r){s.parse(t,n,o,r)})}}function Rg(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const ne={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Eg{constructor(t){this.parser=t,this.name=ne.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,n=this.parser.json.nodes||[];for(let s=0,o=n.length;s<o;s++){const r=n[s];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const n=this.parser,s="light:"+t;let o=n.cache.get(s);if(o)return o;const r=n.json,c=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let u;const l=new kt(16777215);c.color!==void 0&&l.setRGB(c.color[0],c.color[1],c.color[2],vt);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new ur(l),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new gl(l),u.distance=f;break;case"spot":u=new ml(l),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),mt(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=n.createUniqueName(c.name||"light_"+t),o=Promise.resolve(u),n.cache.add(s,o),o}getDependency(t,n){if(t==="light")return this._loadLight(n)}createNodeAttachment(t){const n=this,s=this.parser,r=s.json.nodes[t],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(c){return s._getNodeRef(n.cache,a,c)})}}class Pg{constructor(){this.name=ne.KHR_MATERIALS_UNLIT}getMaterialType(){return Un}extendParams(t,n,s){const o=[];t.color=new kt(1,1,1),t.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const i=r.baseColorFactor;t.color.setRGB(i[0],i[1],i[2],vt),t.opacity=i[3]}r.baseColorTexture!==void 0&&o.push(s.assignTexture(t,"map",r.baseColorTexture,Et))}return Promise.all(o)}}class kg{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,n){const o=this.parser.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=o.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}}class Og{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];if(i.clearcoatFactor!==void 0&&(n.clearcoat=i.clearcoatFactor),i.clearcoatTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatMap",i.clearcoatTexture)),i.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=i.clearcoatRoughnessFactor),i.clearcoatRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),i.clearcoatNormalTexture!==void 0&&(r.push(s.assignTexture(n,"clearcoatNormalMap",i.clearcoatNormalTexture)),i.clearcoatNormalTexture.scale!==void 0)){const a=i.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ra(a,a)}return Promise.all(r)}}class Ng{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_DISPERSION}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const o=this.parser.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=o.extensions[this.name];return n.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class Dg{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return i.iridescenceFactor!==void 0&&(n.iridescence=i.iridescenceFactor),i.iridescenceTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceMap",i.iridescenceTexture)),i.iridescenceIor!==void 0&&(n.iridescenceIOR=i.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),i.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),i.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),i.iridescenceThicknessTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(r)}}class Fg{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_SHEEN}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new kt(0,0,0),n.sheenRoughness=0,n.sheen=1;const i=o.extensions[this.name];if(i.sheenColorFactor!==void 0){const a=i.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],vt)}return i.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=i.sheenRoughnessFactor),i.sheenColorTexture!==void 0&&r.push(s.assignTexture(n,"sheenColorMap",i.sheenColorTexture,Et)),i.sheenRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(r)}}class Gg{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return i.transmissionFactor!==void 0&&(n.transmission=i.transmissionFactor),i.transmissionTexture!==void 0&&r.push(s.assignTexture(n,"transmissionMap",i.transmissionTexture)),Promise.all(r)}}class Hg{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_VOLUME}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];n.thickness=i.thicknessFactor!==void 0?i.thicknessFactor:0,i.thicknessTexture!==void 0&&r.push(s.assignTexture(n,"thicknessMap",i.thicknessTexture)),n.attenuationDistance=i.attenuationDistance||1/0;const a=i.attenuationColor||[1,1,1];return n.attenuationColor=new kt().setRGB(a[0],a[1],a[2],vt),Promise.all(r)}}class Ug{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_IOR}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const o=this.parser.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=o.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class jg{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_SPECULAR}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];n.specularIntensity=i.specularFactor!==void 0?i.specularFactor:1,i.specularTexture!==void 0&&r.push(s.assignTexture(n,"specularIntensityMap",i.specularTexture));const a=i.specularColorFactor||[1,1,1];return n.specularColor=new kt().setRGB(a[0],a[1],a[2],vt),i.specularColorTexture!==void 0&&r.push(s.assignTexture(n,"specularColorMap",i.specularColorTexture,Et)),Promise.all(r)}}class Bg{constructor(t){this.parser=t,this.name=ne.EXT_MATERIALS_BUMP}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return n.bumpScale=i.bumpFactor!==void 0?i.bumpFactor:1,i.bumpTexture!==void 0&&r.push(s.assignTexture(n,"bumpMap",i.bumpTexture)),Promise.all(r)}}class Vg{constructor(t){this.parser=t,this.name=ne.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:xt}extendMaterialParams(t,n){const s=this.parser,o=s.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return i.anisotropyStrength!==void 0&&(n.anisotropy=i.anisotropyStrength),i.anisotropyRotation!==void 0&&(n.anisotropyRotation=i.anisotropyRotation),i.anisotropyTexture!==void 0&&r.push(s.assignTexture(n,"anisotropyMap",i.anisotropyTexture)),Promise.all(r)}}class Kg{constructor(t){this.parser=t,this.name=ne.KHR_TEXTURE_BASISU}loadTexture(t){const n=this.parser,s=n.json,o=s.textures[t];if(!o.extensions||!o.extensions[this.name])return null;const r=o.extensions[this.name],i=n.options.ktx2Loader;if(!i){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(t,r.source,i)}}class Wg{constructor(t){this.parser=t,this.name=ne.EXT_TEXTURE_WEBP}loadTexture(t){const n=this.name,s=this.parser,o=s.json,r=o.textures[t];if(!r.extensions||!r.extensions[n])return null;const i=r.extensions[n],a=o.images[i.source];let c=s.textureLoader;if(a.uri){const u=s.options.manager.getHandler(a.uri);u!==null&&(c=u)}return s.loadTextureImage(t,i.source,c)}}class qg{constructor(t){this.parser=t,this.name=ne.EXT_TEXTURE_AVIF}loadTexture(t){const n=this.name,s=this.parser,o=s.json,r=o.textures[t];if(!r.extensions||!r.extensions[n])return null;const i=r.extensions[n],a=o.images[i.source];let c=s.textureLoader;if(a.uri){const u=s.options.manager.getHandler(a.uri);u!==null&&(c=u)}return s.loadTextureImage(t,i.source,c)}}class zg{constructor(t){this.name=ne.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const n=this.parser.json,s=n.bufferViews[t];if(s.extensions&&s.extensions[this.name]){const o=s.extensions[this.name],r=this.parser.getDependency("buffer",o.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){const c=o.byteOffset||0,u=o.byteLength||0,l=o.count,f=o.byteStride,p=new Uint8Array(a,c,u);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(l,f,p,o.mode,o.filter).then(function(h){return h.buffer}):i.ready.then(function(){const h=new ArrayBuffer(l*f);return i.decodeGltfBuffer(new Uint8Array(h),l,f,p,o.mode,o.filter),h})})}else return null}}class Xg{constructor(t){this.name=ne.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const n=this.parser.json,s=n.nodes[t];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const o=n.meshes[s.mesh];for(const u of o.primitives)if(u.mode!==ze.TRIANGLES&&u.mode!==ze.TRIANGLE_STRIP&&u.mode!==ze.TRIANGLE_FAN&&u.mode!==void 0)return null;const i=s.extensions[this.name].attributes,a=[],c={};for(const u in i)a.push(this.parser.getDependency("accessor",i[u]).then(l=>(c[u]=l,c[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(t)),Promise.all(a).then(u=>{const l=u.pop(),f=l.isGroup?l.children:[l],p=u[0].count,h=[];for(const m of f){const b=new Hs,x=new st,L=new ia,G=new st(1,1,1),D=new bl(m.geometry,m.material,p);for(let T=0;T<p;T++)c.TRANSLATION&&x.fromBufferAttribute(c.TRANSLATION,T),c.ROTATION&&L.fromBufferAttribute(c.ROTATION,T),c.SCALE&&G.fromBufferAttribute(c.SCALE,T),D.setMatrixAt(T,b.compose(x,L,G));for(const T in c)if(T==="_COLOR_0"){const g=c[T];D.instanceColor=new yl(g.array,g.itemSize,g.normalized)}else T!=="TRANSLATION"&&T!=="ROTATION"&&T!=="SCALE"&&m.geometry.setAttribute(T,c[T]);aa.prototype.copy.call(D,m),this.parser.assignFinalMaterial(D),h.push(D)}return l.isGroup?(l.clear(),l.add(...h),l):h[0]}))}}const hl="glTF",Hn=12,Yi={JSON:1313821514,BIN:5130562};class Jg{constructor(t){this.name=ne.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(t,0,Hn),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==hl)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-Hn,r=new DataView(t,Hn);let i=0;for(;i<o;){const a=r.getUint32(i,!0);i+=4;const c=r.getUint32(i,!0);if(i+=4,c===Yi.JSON){const u=new Uint8Array(t,Hn+i,a);this.content=s.decode(u)}else if(c===Yi.BIN){const u=Hn+i;this.body=t.slice(u,u+a)}i+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Yg{constructor(t,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ne.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(t,n){const s=this.json,o=this.dracoLoader,r=t.extensions[this.name].bufferView,i=t.extensions[this.name].attributes,a={},c={},u={};for(const l in i){const f=cr[l]||l.toLowerCase();a[f]=i[l]}for(const l in t.attributes){const f=cr[l]||l.toLowerCase();if(i[l]!==void 0){const p=s.accessors[t.attributes[l]],h=Sn[p.componentType];u[f]=h.name,c[f]=p.normalized===!0}}return n.getDependency("bufferView",r).then(function(l){return new Promise(function(f,p){o.decodeDracoFile(l,function(h){for(const m in h.attributes){const b=h.attributes[m],x=c[m];x!==void 0&&(b.normalized=x)}f(h)},a,u,vt,p)})})}}class Zg{constructor(){this.name=ne.KHR_TEXTURE_TRANSFORM}extendTexture(t,n){return(n.texCoord===void 0||n.texCoord===t.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(t=t.clone(),n.texCoord!==void 0&&(t.channel=n.texCoord),n.offset!==void 0&&t.offset.fromArray(n.offset),n.rotation!==void 0&&(t.rotation=n.rotation),n.scale!==void 0&&t.repeat.fromArray(n.scale),t.needsUpdate=!0),t}}class Qg{constructor(){this.name=ne.KHR_MESH_QUANTIZATION}}class $l extends Wl{constructor(t,n,s,o){super(t,n,s,o)}copySampleValue_(t){const n=this.resultBuffer,s=this.sampleValues,o=this.valueSize,r=t*o*3+o;for(let i=0;i!==o;i++)n[i]=s[r+i];return n}interpolate_(t,n,s,o){const r=this.resultBuffer,i=this.sampleValues,a=this.valueSize,c=a*2,u=a*3,l=o-n,f=(s-n)/l,p=f*f,h=p*f,m=t*u,b=m-u,x=-2*h+3*p,L=h-p,G=1-x,D=L-p+f;for(let T=0;T!==a;T++){const g=i[b+T+a],w=i[b+T+c]*l,I=i[m+T+a],A=i[m+T]*l;r[T]=G*g+D*w+x*I+L*A}return r}}const e0=new ia;class t0 extends $l{interpolate_(t,n,s,o){const r=super.interpolate_(t,n,s,o);return e0.fromArray(r).normalize().toArray(r),r}}const ze={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Sn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Zi={9728:la,9729:Uo,9984:Cl,9985:xl,9986:Ml,9987:ca},Qi={33071:Al,33648:Sl,10497:jo},No={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},cr={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ht={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},n0={CUBICSPLINE:void 0,LINEAR:pa,STEP:Bl},Do={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function s0(e){return e.DefaultMaterial===void 0&&(e.DefaultMaterial=new fr({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Kl})),e.DefaultMaterial}function en(e,t,n){for(const s in n.extensions)e[s]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[s]=n.extensions[s])}function mt(e,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function o0(e,t,n){let s=!1,o=!1,r=!1;for(let u=0,l=t.length;u<l;u++){const f=t[u];if(f.POSITION!==void 0&&(s=!0),f.NORMAL!==void 0&&(o=!0),f.COLOR_0!==void 0&&(r=!0),s&&o&&r)break}if(!s&&!o&&!r)return Promise.resolve(e);const i=[],a=[],c=[];for(let u=0,l=t.length;u<l;u++){const f=t[u];if(s){const p=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):e.attributes.position;i.push(p)}if(o){const p=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):e.attributes.normal;a.push(p)}if(r){const p=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):e.attributes.color;c.push(p)}}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(c)]).then(function(u){const l=u[0],f=u[1],p=u[2];return s&&(e.morphAttributes.position=l),o&&(e.morphAttributes.normal=f),r&&(e.morphAttributes.color=p),e.morphTargetsRelative=!0,e})}function r0(e,t){if(e.updateMorphTargets(),t.weights!==void 0)for(let n=0,s=t.weights.length;n<s;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let s=0,o=n.length;s<o;s++)e.morphTargetDictionary[n[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function i0(e){let t;const n=e.extensions&&e.extensions[ne.KHR_DRACO_MESH_COMPRESSION];if(n?t="draco:"+n.bufferView+":"+n.indices+":"+Fo(n.attributes):t=e.indices+":"+Fo(e.attributes)+":"+e.mode,e.targets!==void 0)for(let s=0,o=e.targets.length;s<o;s++)t+=":"+Fo(e.targets[s]);return t}function Fo(e){let t="";const n=Object.keys(e).sort();for(let s=0,o=n.length;s<o;s++)t+=n[s]+":"+e[n[s]]+";";return t}function lr(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function a0(e){return e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0?"image/jpeg":e.search(/\.webp($|\?)/i)>0||e.search(/^data\:image\/webp/)===0?"image/webp":e.search(/\.ktx2($|\?)/i)>0||e.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const c0=new Hs;class l0{constructor(t={},n={}){this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new Rg,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,o=-1,r=!1,i=-1;if(typeof navigator<"u"){const a=navigator.userAgent;s=/^((?!chrome|android).)*safari/i.test(a)===!0;const c=a.match(/Version\/(\d+)/);o=s&&c?parseInt(c[1],10):-1,r=a.indexOf("Firefox")>-1,i=r?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||s&&o<17||r&&i<98?this.textureLoader=new wl(this.options.manager):this.textureLoader=new vl(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Gs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,n){const s=this,o=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(i){return i._markDefs&&i._markDefs()}),Promise.all(this._invokeAll(function(i){return i.beforeRoot&&i.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(i){const a={scene:i[0][o.scene||0],scenes:i[0],animations:i[1],cameras:i[2],asset:o.asset,parser:s,userData:{}};return en(r,a,o),mt(a,o),Promise.all(s._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){for(const c of a.scenes)c.updateMatrixWorld();t(a)})}).catch(n)}_markDefs(){const t=this.json.nodes||[],n=this.json.skins||[],s=this.json.meshes||[];for(let o=0,r=n.length;o<r;o++){const i=n[o].joints;for(let a=0,c=i.length;a<c;a++)t[i[a]].isBone=!0}for(let o=0,r=t.length;o<r;o++){const i=t[o];i.mesh!==void 0&&(this._addNodeRef(this.meshCache,i.mesh),i.skin!==void 0&&(s[i.mesh].isSkinnedMesh=!0)),i.camera!==void 0&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(t,n){n!==void 0&&(t.refs[n]===void 0&&(t.refs[n]=t.uses[n]=0),t.refs[n]++)}_getNodeRef(t,n,s){if(t.refs[n]<=1)return s;const o=s.clone(),r=(i,a)=>{const c=this.associations.get(i);c!=null&&this.associations.set(a,c);for(const[u,l]of i.children.entries())r(l,a.children[u])};return r(s,o),o.name+="_instance_"+t.uses[n]++,o}_invokeOne(t){const n=Object.values(this.plugins);n.push(this);for(let s=0;s<n.length;s++){const o=t(n[s]);if(o)return o}return null}_invokeAll(t){const n=Object.values(this.plugins);n.unshift(this);const s=[];for(let o=0;o<n.length;o++){const r=t(n[o]);r&&s.push(r)}return s}getDependency(t,n){const s=t+":"+n;let o=this.cache.get(s);if(!o){switch(t){case"scene":o=this.loadScene(n);break;case"node":o=this._invokeOne(function(r){return r.loadNode&&r.loadNode(n)});break;case"mesh":o=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":o=this.loadCamera(n);break;default:if(o=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(t,n)}),!o)throw new Error("Unknown type: "+t);break}this.cache.add(s,o)}return o}getDependencies(t){let n=this.cache.get(t);if(!n){const s=this,o=this.json[t+(t==="mesh"?"es":"s")]||[];n=Promise.all(o.map(function(r,i){return s.getDependency(t,i)})),this.cache.add(t,n)}return n}loadBuffer(t){const n=this.json.buffers[t],s=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&t===0)return Promise.resolve(this.extensions[ne.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(r,i){s.load(Vn.resolveURL(n.uri,o.path),r,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(t){const n=this.json.bufferViews[t];return this.getDependency("buffer",n.buffer).then(function(s){const o=n.byteLength||0,r=n.byteOffset||0;return s.slice(r,r+o)})}loadAccessor(t){const n=this,s=this.json,o=this.json.accessors[t];if(o.bufferView===void 0&&o.sparse===void 0){const i=No[o.type],a=Sn[o.componentType],c=o.normalized===!0,u=new a(o.count*i);return Promise.resolve(new Kn(u,i,c))}const r=[];return o.bufferView!==void 0?r.push(this.getDependency("bufferView",o.bufferView)):r.push(null),o.sparse!==void 0&&(r.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(r).then(function(i){const a=i[0],c=No[o.type],u=Sn[o.componentType],l=u.BYTES_PER_ELEMENT,f=l*c,p=o.byteOffset||0,h=o.bufferView!==void 0?s.bufferViews[o.bufferView].byteStride:void 0,m=o.normalized===!0;let b,x;if(h&&h!==f){const L=Math.floor(p/h),G="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+L+":"+o.count;let D=n.cache.get(G);D||(b=new u(a,L*h,o.count*h/l),D=new Tl(b,h/l),n.cache.add(G,D)),x=new Vl(D,c,p%h/l,m)}else a===null?b=new u(o.count*c):b=new u(a,p,o.count*c),x=new Kn(b,c,m);if(o.sparse!==void 0){const L=No.SCALAR,G=Sn[o.sparse.indices.componentType],D=o.sparse.indices.byteOffset||0,T=o.sparse.values.byteOffset||0,g=new G(i[1],D,o.sparse.count*L),w=new u(i[2],T,o.sparse.count*c);a!==null&&(x=new Kn(x.array.slice(),x.itemSize,x.normalized)),x.normalized=!1;for(let I=0,A=g.length;I<A;I++){const v=g[I];if(x.setX(v,w[I*c]),c>=2&&x.setY(v,w[I*c+1]),c>=3&&x.setZ(v,w[I*c+2]),c>=4&&x.setW(v,w[I*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}x.normalized=m}return x})}loadTexture(t){const n=this.json,s=this.options,r=n.textures[t].source,i=n.images[r];let a=this.textureLoader;if(i.uri){const c=s.manager.getHandler(i.uri);c!==null&&(a=c)}return this.loadTextureImage(t,r,a)}loadTextureImage(t,n,s){const o=this,r=this.json,i=r.textures[t],a=r.images[n],c=(a.uri||a.bufferView)+":"+i.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(n,s).then(function(l){l.flipY=!1,l.name=i.name||a.name||"",l.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(l.name=a.uri);const p=(r.samplers||{})[i.sampler]||{};return l.magFilter=Zi[p.magFilter]||Uo,l.minFilter=Zi[p.minFilter]||ca,l.wrapS=Qi[p.wrapS]||jo,l.wrapT=Qi[p.wrapT]||jo,l.generateMipmaps=!l.isCompressedTexture&&l.minFilter!==la&&l.minFilter!==Uo,o.associations.set(l,{textures:t}),l}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(t,n){const s=this,o=this.json,r=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(f=>f.clone());const i=o.images[t],a=self.URL||self.webkitURL;let c=i.uri||"",u=!1;if(i.bufferView!==void 0)c=s.getDependency("bufferView",i.bufferView).then(function(f){u=!0;const p=new Blob([f],{type:i.mimeType});return c=a.createObjectURL(p),c});else if(i.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const l=Promise.resolve(c).then(function(f){return new Promise(function(p,h){let m=p;n.isImageBitmapLoader===!0&&(m=function(b){const x=new Hr(b);x.needsUpdate=!0,p(x)}),n.load(Vn.resolveURL(f,r.path),m,void 0,h)})}).then(function(f){return u===!0&&a.revokeObjectURL(c),mt(f,i),f.userData.mimeType=i.mimeType||a0(i.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),f});return this.sourceCache[t]=l,l}assignTexture(t,n,s,o){const r=this;return this.getDependency("texture",s.index).then(function(i){if(!i)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(i=i.clone(),i.channel=s.texCoord),r.extensions[ne.KHR_TEXTURE_TRANSFORM]){const a=s.extensions!==void 0?s.extensions[ne.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const c=r.associations.get(i);i=r.extensions[ne.KHR_TEXTURE_TRANSFORM].extendTexture(i,a),r.associations.set(i,c)}}return o!==void 0&&(i.colorSpace=o),t[n]=i,i})}assignFinalMaterial(t){const n=t.geometry;let s=t.material;const o=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,i=n.attributes.normal===void 0;if(t.isPoints){const a="PointsMaterial:"+s.uuid;let c=this.cache.get(a);c||(c=new Ll,$o.prototype.copy.call(c,s),c.color.copy(s.color),c.map=s.map,c.sizeAttenuation=!1,this.cache.add(a,c)),s=c}else if(t.isLine){const a="LineBasicMaterial:"+s.uuid;let c=this.cache.get(a);c||(c=new Il,$o.prototype.copy.call(c,s),c.color.copy(s.color),c.map=s.map,this.cache.add(a,c)),s=c}if(o||r||i){let a="ClonedMaterial:"+s.uuid+":";o&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),i&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=s.clone(),r&&(c.vertexColors=!0),i&&(c.flatShading=!0),o&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(s))),s=c}t.material=s}getMaterialType(){return fr}loadMaterial(t){const n=this,s=this.json,o=this.extensions,r=s.materials[t];let i;const a={},c=r.extensions||{},u=[];if(c[ne.KHR_MATERIALS_UNLIT]){const f=o[ne.KHR_MATERIALS_UNLIT];i=f.getMaterialType(),u.push(f.extendParams(a,r,n))}else{const f=r.pbrMetallicRoughness||{};if(a.color=new kt(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],vt),a.opacity=p[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",f.baseColorTexture,Et)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),i=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(t)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(t,a)})))}r.doubleSided===!0&&(a.side=Rl);const l=r.alphaMode||Do.OPAQUE;if(l===Do.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===Do.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&i!==Un&&(u.push(n.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new ra(1,1),r.normalTexture.scale!==void 0)){const f=r.normalTexture.scale;a.normalScale.set(f,f)}if(r.occlusionTexture!==void 0&&i!==Un&&(u.push(n.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&i!==Un){const f=r.emissiveFactor;a.emissive=new kt().setRGB(f[0],f[1],f[2],vt)}return r.emissiveTexture!==void 0&&i!==Un&&u.push(n.assignTexture(a,"emissiveMap",r.emissiveTexture,Et)),Promise.all(u).then(function(){const f=new i(a);return r.name&&(f.name=r.name),mt(f,r),n.associations.set(f,{materials:t}),r.extensions&&en(o,f,r),f})}createUniqueName(t){const n=El.sanitizeNodeName(t||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(t){const n=this,s=this.extensions,o=this.primitiveCache;function r(a){return s[ne.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(c){return ea(c,a,n)})}const i=[];for(let a=0,c=t.length;a<c;a++){const u=t[a],l=i0(u),f=o[l];if(f)i.push(f.promise);else{let p;u.extensions&&u.extensions[ne.KHR_DRACO_MESH_COMPRESSION]?p=r(u):p=ea(new ua,u,n),o[l]={primitive:u,promise:p},i.push(p)}}return Promise.all(i)}loadMesh(t){const n=this,s=this.json,o=this.extensions,r=s.meshes[t],i=r.primitives,a=[];for(let c=0,u=i.length;c<u;c++){const l=i[c].material===void 0?s0(this.cache):this.getDependency("material",i[c].material);a.push(l)}return a.push(n.loadGeometries(i)),Promise.all(a).then(function(c){const u=c.slice(0,c.length-1),l=c[c.length-1],f=[];for(let h=0,m=l.length;h<m;h++){const b=l[h],x=i[h];let L;const G=u[h];if(x.mode===ze.TRIANGLES||x.mode===ze.TRIANGLE_STRIP||x.mode===ze.TRIANGLE_FAN||x.mode===void 0)L=r.isSkinnedMesh===!0?new Pl(b,G):new fa(b,G),L.isSkinnedMesh===!0&&L.normalizeSkinWeights(),x.mode===ze.TRIANGLE_STRIP?L.geometry=Ji(L.geometry,sa):x.mode===ze.TRIANGLE_FAN&&(L.geometry=Ji(L.geometry,Ho));else if(x.mode===ze.LINES)L=new kl(b,G);else if(x.mode===ze.LINE_STRIP)L=new Ol(b,G);else if(x.mode===ze.LINE_LOOP)L=new Nl(b,G);else if(x.mode===ze.POINTS)L=new Dl(b,G);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(L.geometry.morphAttributes).length>0&&r0(L,r),L.name=n.createUniqueName(r.name||"mesh_"+t),mt(L,r),x.extensions&&en(o,L,x),n.assignFinalMaterial(L),f.push(L)}for(let h=0,m=f.length;h<m;h++)n.associations.set(f[h],{meshes:t,primitives:h});if(f.length===1)return r.extensions&&en(o,f[0],r),f[0];const p=new _o;r.extensions&&en(o,p,r),n.associations.set(p,{meshes:t});for(let h=0,m=f.length;h<m;h++)p.add(f[h]);return p})}loadCamera(t){let n;const s=this.json.cameras[t],o=s[s.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?n=new pr(Fl.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):s.type==="orthographic"&&(n=new Gl(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),s.name&&(n.name=this.createUniqueName(s.name)),mt(n,s),Promise.resolve(n)}loadSkin(t){const n=this.json.skins[t],s=[];for(let o=0,r=n.joints.length;o<r;o++)s.push(this._loadNodeShallow(n.joints[o]));return n.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",n.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(o){const r=o.pop(),i=o,a=[],c=[];for(let u=0,l=i.length;u<l;u++){const f=i[u];if(f){a.push(f);const p=new Hs;r!==null&&p.fromArray(r.array,u*16),c.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new Hl(a,c)})}loadAnimation(t){const n=this.json,s=this,o=n.animations[t],r=o.name?o.name:"animation_"+t,i=[],a=[],c=[],u=[],l=[];for(let f=0,p=o.channels.length;f<p;f++){const h=o.channels[f],m=o.samplers[h.sampler],b=h.target,x=b.node,L=o.parameters!==void 0?o.parameters[m.input]:m.input,G=o.parameters!==void 0?o.parameters[m.output]:m.output;b.node!==void 0&&(i.push(this.getDependency("node",x)),a.push(this.getDependency("accessor",L)),c.push(this.getDependency("accessor",G)),u.push(m),l.push(b))}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(c),Promise.all(u),Promise.all(l)]).then(function(f){const p=f[0],h=f[1],m=f[2],b=f[3],x=f[4],L=[];for(let D=0,T=p.length;D<T;D++){const g=p[D],w=h[D],I=m[D],A=b[D],v=x[D];if(g===void 0)continue;g.updateMatrix&&g.updateMatrix();const M=s._createAnimationTracks(g,w,I,A,v);if(M)for(let O=0;O<M.length;O++)L.push(M[O])}const G=new Ul(r,void 0,L);return mt(G,o),G})}createNodeMesh(t){const n=this.json,s=this,o=n.nodes[t];return o.mesh===void 0?null:s.getDependency("mesh",o.mesh).then(function(r){const i=s._getNodeRef(s.meshCache,o.mesh,r);return o.weights!==void 0&&i.traverse(function(a){if(a.isMesh)for(let c=0,u=o.weights.length;c<u;c++)a.morphTargetInfluences[c]=o.weights[c]}),i})}loadNode(t){const n=this.json,s=this,o=n.nodes[t],r=s._loadNodeShallow(t),i=[],a=o.children||[];for(let u=0,l=a.length;u<l;u++)i.push(s.getDependency("node",a[u]));const c=o.skin===void 0?Promise.resolve(null):s.getDependency("skin",o.skin);return Promise.all([r,Promise.all(i),c]).then(function(u){const l=u[0],f=u[1],p=u[2];p!==null&&l.traverse(function(h){h.isSkinnedMesh&&h.bind(p,c0)});for(let h=0,m=f.length;h<m;h++)l.add(f[h]);return l})}_loadNodeShallow(t){const n=this.json,s=this.extensions,o=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const r=n.nodes[t],i=r.name?o.createUniqueName(r.name):"",a=[],c=o._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(t)});return c&&a.push(c),r.camera!==void 0&&a.push(o.getDependency("camera",r.camera).then(function(u){return o._getNodeRef(o.cameraCache,r.camera,u)})),o._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(t)}).forEach(function(u){a.push(u)}),this.nodeCache[t]=Promise.all(a).then(function(u){let l;if(r.isBone===!0?l=new jl:u.length>1?l=new _o:u.length===1?l=u[0]:l=new aa,l!==u[0])for(let f=0,p=u.length;f<p;f++)l.add(u[f]);if(r.name&&(l.userData.name=r.name,l.name=i),mt(l,r),r.extensions&&en(s,l,r),r.matrix!==void 0){const f=new Hs;f.fromArray(r.matrix),l.applyMatrix4(f)}else r.translation!==void 0&&l.position.fromArray(r.translation),r.rotation!==void 0&&l.quaternion.fromArray(r.rotation),r.scale!==void 0&&l.scale.fromArray(r.scale);if(!o.associations.has(l))o.associations.set(l,{});else if(r.mesh!==void 0&&o.meshCache.refs[r.mesh]>1){const f=o.associations.get(l);o.associations.set(l,{...f})}return o.associations.get(l).nodes=t,l}),this.nodeCache[t]}loadScene(t){const n=this.extensions,s=this.json.scenes[t],o=this,r=new _o;s.name&&(r.name=o.createUniqueName(s.name)),mt(r,s),s.extensions&&en(n,r,s);const i=s.nodes||[],a=[];for(let c=0,u=i.length;c<u;c++)a.push(o.getDependency("node",i[c]));return Promise.all(a).then(function(c){for(let l=0,f=c.length;l<f;l++)r.add(c[l]);const u=l=>{const f=new Map;for(const[p,h]of o.associations)(p instanceof $o||p instanceof Hr)&&f.set(p,h);return l.traverse(p=>{const h=o.associations.get(p);h!=null&&f.set(p,h)}),f};return o.associations=u(r),r})}_createAnimationTracks(t,n,s,o,r){const i=[],a=t.name?t.name:t.uuid,c=[];Ht[r.path]===Ht.weights?t.traverse(function(p){p.morphTargetInfluences&&c.push(p.name?p.name:p.uuid)}):c.push(a);let u;switch(Ht[r.path]){case Ht.weights:u=jr;break;case Ht.rotation:u=Br;break;case Ht.translation:case Ht.scale:u=Ur;break;default:switch(s.itemSize){case 1:u=jr;break;case 2:case 3:default:u=Ur;break}break}const l=o.interpolation!==void 0?n0[o.interpolation]:pa,f=this._getArrayFromAccessor(s);for(let p=0,h=c.length;p<h;p++){const m=new u(c[p]+"."+Ht[r.path],n.array,f,l);o.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),i.push(m)}return i}_getArrayFromAccessor(t){let n=t.array;if(t.normalized){const s=lr(n.constructor),o=new Float32Array(n.length);for(let r=0,i=n.length;r<i;r++)o[r]=n[r]*s;n=o}return n}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(s){const o=this instanceof Br?t0:$l;return new o(this.times,this.values,this.getValueSize()/3,s)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function u0(e,t,n){const s=t.attributes,o=new Us;if(s.POSITION!==void 0){const a=n.json.accessors[s.POSITION],c=a.min,u=a.max;if(c!==void 0&&u!==void 0){if(o.set(new st(c[0],c[1],c[2]),new st(u[0],u[1],u[2])),a.normalized){const l=lr(Sn[a.componentType]);o.min.multiplyScalar(l),o.max.multiplyScalar(l)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=t.targets;if(r!==void 0){const a=new st,c=new st;for(let u=0,l=r.length;u<l;u++){const f=r[u];if(f.POSITION!==void 0){const p=n.json.accessors[f.POSITION],h=p.min,m=p.max;if(h!==void 0&&m!==void 0){if(c.setX(Math.max(Math.abs(h[0]),Math.abs(m[0]))),c.setY(Math.max(Math.abs(h[1]),Math.abs(m[1]))),c.setZ(Math.max(Math.abs(h[2]),Math.abs(m[2]))),p.normalized){const b=lr(Sn[p.componentType]);c.multiplyScalar(b)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(a)}e.boundingBox=o;const i=new ql;o.getCenter(i.center),i.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=i}function ea(e,t,n){const s=t.attributes,o=[];function r(i,a){return n.getDependency("accessor",i).then(function(c){e.setAttribute(a,c)})}for(const i in s){const a=cr[i]||i.toLowerCase();a in e.attributes||o.push(r(s[i],a))}if(t.indices!==void 0&&!e.index){const i=n.getDependency("accessor",t.indices).then(function(a){e.setIndex(a)});o.push(i)}return Bo.workingColorSpace!==vt&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Bo.workingColorSpace}" not supported.`),mt(e,t),u0(e,t,n),Promise.all(o).then(function(){return t.targets!==void 0?o0(e,t.targets,n):e})}const Go=new WeakMap;class os extends oa{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,n,s,o){const r=new Gs(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,i=>{this.parse(i,n,o)},s,o)}parse(t,n,s=()=>{}){this.decodeDracoFile(t,n,null,null,Et,s).catch(s)}decodeDracoFile(t,n,s,o,r=vt,i=()=>{}){const a={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!s,vertexColorSpace:r};return this.decodeGeometry(t,a).then(n).catch(i)}decodeGeometry(t,n){const s=JSON.stringify(n);if(Go.has(t)){const c=Go.get(t);if(c.key===s)return c.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const r=this.workerNextTaskID++,i=t.byteLength,a=this._getWorker(r,i).then(c=>(o=c,new Promise((u,l)=>{o._callbacks[r]={resolve:u,reject:l},o.postMessage({type:"decode",id:r,taskConfig:n,buffer:t},[t])}))).then(c=>this._createGeometry(c.geometry));return a.catch(()=>!0).then(()=>{o&&r&&this._releaseTask(o,r)}),Go.set(t,{key:s,promise:a}),a}_createGeometry(t){const n=new ua;t.index&&n.setIndex(new Kn(t.index.array,1));for(let s=0;s<t.attributes.length;s++){const o=t.attributes[s],r=o.name,i=o.array,a=o.itemSize,c=new Kn(i,a);r==="color"&&(this._assignVertexColorSpace(c,o.vertexColorSpace),c.normalized=!(i instanceof Float32Array)),n.setAttribute(r,c)}return n}_assignVertexColorSpace(t,n){if(n!==Et)return;const s=new kt;for(let o=0,r=t.count;o<r;o++)s.fromBufferAttribute(t,o),Bo.colorSpaceToWorking(s,Et),t.setXYZ(o,s.r,s.g,s.b)}_loadLibrary(t,n){const s=new Gs(this.manager);return s.setPath(this.decoderPath),s.setResponseType(n),s.setWithCredentials(this.withCredentials),new Promise((o,r)=>{s.load(t,o,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(s=>{const o=s[0];t||(this.decoderConfig.wasmBinary=s[1]);const r=f0.toString(),i=["/* draco decoder */",o,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending}_getWorker(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(r){const i=r.data;switch(i.type){case"decode":o._callbacks[i.id].resolve(i);break;case"error":o._callbacks[i.id].reject(i);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,r){return o._taskLoad>r._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[t]=n,s._taskLoad+=n,s})}_releaseTask(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function f0(){let e,t;onmessage=function(i){const a=i.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise(function(l){e.onModuleLoaded=function(f){l({draco:f})},DracoDecoderModule(e)});break;case"decode":const c=a.buffer,u=a.taskConfig;t.then(l=>{const f=l.draco,p=new f.Decoder;try{const h=n(f,p,new Int8Array(c),u),m=h.attributes.map(b=>b.array.buffer);h.index&&m.push(h.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:h},m)}catch(h){console.error(h),self.postMessage({type:"error",id:a.id,error:h.message})}finally{f.destroy(p)}});break}};function n(i,a,c,u){const l=u.attributeIDs,f=u.attributeTypes;let p,h;const m=a.GetEncodedGeometryType(c);if(m===i.TRIANGULAR_MESH)p=new i.Mesh,h=a.DecodeArrayToMesh(c,c.byteLength,p);else if(m===i.POINT_CLOUD)p=new i.PointCloud,h=a.DecodeArrayToPointCloud(c,c.byteLength,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const b={index:null,attributes:[]};for(const x in l){const L=self[f[x]];let G,D;if(u.useUniqueIDs)D=l[x],G=a.GetAttributeByUniqueId(p,D);else{if(D=a.GetAttributeId(p,i[l[x]]),D===-1)continue;G=a.GetAttribute(p,D)}const T=o(i,a,p,x,L,G);x==="color"&&(T.vertexColorSpace=u.vertexColorSpace),b.attributes.push(T)}return m===i.TRIANGULAR_MESH&&(b.index=s(i,a,p)),i.destroy(p),b}function s(i,a,c){const l=c.num_faces()*3,f=l*4,p=i._malloc(f);a.GetTrianglesUInt32Array(c,f,p);const h=new Uint32Array(i.HEAPF32.buffer,p,l).slice();return i._free(p),{array:h,itemSize:1}}function o(i,a,c,u,l,f){const p=f.num_components(),m=c.num_points()*p,b=m*l.BYTES_PER_ELEMENT,x=r(i,l),L=i._malloc(b);a.GetAttributeDataArrayForAllPoints(c,f,x,b,L);const G=new l(i.HEAPF32.buffer,L,m).slice();return i._free(L),{name:u,array:G,itemSize:p}}function r(i,a){switch(a){case Float32Array:return i.DT_FLOAT32;case Int8Array:return i.DT_INT8;case Int16Array:return i.DT_INT16;case Int32Array:return i.DT_INT32;case Uint8Array:return i.DT_UINT8;case Uint16Array:return i.DT_UINT16;case Uint32Array:return i.DT_UINT32}}}const p0={__name:"PuppetModelView",props:{puppet:{type:Object,default:null}},setup(e,{expose:t}){t();const n=e,s=Q(null);let o=null,r=null,i=null,a=0,c=null,u=null,l=new zl,f=null,p=null,h=0,m=!1;function b(){if(m)return;const T=s.value;if(!T){console.log("[PuppetModelView] Container not ready, retrying..."),setTimeout(b,100);return}console.log("[PuppetModelView] Initializing Three.js..."),r=new ha,i=new pr(45,1,.1,1e3),i.position.set(0,1,3),o=new $a({antialias:!0,alpha:!0}),o.setPixelRatio(window.devicePixelRatio||1),o.outputColorSpace=Et,p=new os,p.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/"),p.setCrossOrigin("anonymous"),console.log("[PuppetModelView] Draco loader initialized:",!!p),T.innerHTML="",T.appendChild(o.domElement);const g=new _a(16777215,.8),w=new ur(16777215,.8);w.position.set(3,5,2),r.add(g,w);const I=()=>{if(!T||!o)return;let v=T.clientWidth,M=T.clientHeight;if(!v||!M){const O=T.getBoundingClientRect();if(v=O.width||200,M=O.height||200,!O.width||!O.height){requestAnimationFrame(I);return}}o.setSize(v,M,!1),i.aspect=v/Math.max(1,M),i.updateProjectionMatrix()};I(),f=new ResizeObserver(I),f.observe(T),requestAnimationFrame(()=>{I(),requestAnimationFrame(()=>{I(),requestAnimationFrame(I)})});const A=()=>{if(!o||!r||!i)return;a=requestAnimationFrame(A);const v=l.getDelta();u&&u.update(v),c&&(c.rotation.y+=v*.6),o.render(r,i)};A(),m=!0,console.log("[PuppetModelView] Three.js initialized successfully, container size:",T.clientWidth,"x",T.clientHeight)}function x(){u&&(u.stopAllAction(),u=null),c&&(r.remove(c),c.traverse(T=>{T.isMesh&&(T.geometry&&T.geometry.dispose(),Array.isArray(T.material)?T.material.forEach(g=>{g.map&&g.map.dispose(),g&&g.dispose&&g.dispose()}):T.material&&(T.material.map&&T.material.map.dispose(),T.material.dispose&&T.material.dispose()))}),c=null)}function L(T){const g=new Us().setFromObject(T),w=new st,I=new st;g.getSize(w),g.getCenter(I),T.position.sub(I);const A=-w.x*.3,v=w.y*.2,M=w.z*.4;T.position.add(new st(A,v,M)),T.scale.multiplyScalar(.4);const y=o==null?void 0:o.domElement,K=y?y.clientWidth||y.width:200,Z=y?y.clientHeight||y.height:200,V=Math.max(1e-6,K/Math.max(1,Z)),te=i.fov*(Math.PI/180),B=2*Math.atan(Math.tan(te/2)*V),W=1.15,se=w.y/2/Math.tan(te/2),Te=w.x/2/Math.tan(B/2),ge=W*Math.max(se,Te,.1);i.position.set(0,Math.max(w.y*.05,.1),ge),i.lookAt(0,0,0)}async function G(T){var A,v;if(!T)return;console.log("[PuppetModelView] Loading puppet:",T.name),b(),x();const g=++h,w=new ss;w.setCrossOrigin("anonymous"),p||(console.log("[PuppetModelView] Creating Draco loader..."),p=new os,p.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/"),p.setCrossOrigin("anonymous")),w.setDRACOLoader(p),console.log("[PuppetModelView] Draco loader set:",!!p);let I=T.modelUrl||"";if(console.log("[PuppetModelView] Original modelUrl:",I),console.log("[PuppetModelView] Puppet image:",T.image),!I&&T.image&&/.webp($|\?)/i.test(T.image)&&(I=T.image.replace(/\.webp(\?.*)?$/i,".glb"),console.log("[PuppetModelView] Generated modelUrl from image:",I)),I&&!/^https?:\/\//i.test(I)&&!I.startsWith("/assets/")){const M=I;I=pe(I),console.log("[PuppetModelView] Converted URL:",M,"->",I)}if(console.log("[PuppetModelView] Model URL:",I),!I){console.log("[PuppetModelView] No model URL found");return}try{console.log("[PuppetModelView] Starting to load:",I);const M=await w.loadAsync(I);if(console.log("[PuppetModelView] GLTF loaded:",M),g!==h){console.log("[PuppetModelView] Ignoring outdated load result for:",T.name),M&&M.scene&&M.scene.traverse(O=>{O.isMesh&&(O.geometry&&O.geometry.dispose(),Array.isArray(O.material)?O.material.forEach(y=>{y.map&&y.map.dispose(),y.dispose&&y.dispose()}):O.material&&(O.material.map&&O.material.map.dispose(),O.material.dispose&&O.material.dispose()))});return}if(console.log("[PuppetModelView] Applying model for:",T.name),c=M.scene||((A=M.scenes)==null?void 0:A[0]),!c){console.error("[PuppetModelView] No scene found in GLTF");return}r.add(c),M.animations&&M.animations.length&&(u=new Vr(c),u.clipAction(M.animations[0]).play()),L(c),console.log("[PuppetModelView] Model loaded successfully:",T.name,"Scene children:",r.children.length)}catch(M){if(console.error("[PuppetModelView] Load failed:",M),console.error("[PuppetModelView] Failed URL:",I),console.error("[PuppetModelView] Puppet data:",T),M.message.includes("DRACOLoader")){console.log("[PuppetModelView] Retrying without Draco decoder...");try{const O=new ss;O.setCrossOrigin("anonymous");const y=await O.loadAsync(I);if(g===h&&(c=y.scene||((v=y.scenes)==null?void 0:v[0]),c)){r.add(c),y.animations&&y.animations.length&&(u=new Vr(c),u.clipAction(y.animations[0]).play()),L(c),console.log("[PuppetModelView] Model loaded successfully without Draco:",T.name);return}}catch(O){console.error("[PuppetModelView] Fallback load also failed:",O)}}if(g===h){const O=new Xl(1,1,1),y=new fr({color:8947967});c=new fa(O,y),r.add(c),L(c)}}}Yn(()=>n.puppet,async T=>{await Kt(),G(T)},{immediate:!0}),Ye(()=>{console.log("[PuppetModelView] Component mounted"),Kt(()=>{s.value&&b()})}),pn(()=>{console.log("[PuppetModelView] Cleaning up..."),cancelAnimationFrame(a),x(),r&&r.traverse(T=>{T.isMesh&&(T.geometry&&T.geometry.dispose(),Array.isArray(T.material)?T.material.forEach(g=>{g.map&&g.map.dispose(),g.dispose&&g.dispose()}):T.material&&(T.material.map&&T.material.map.dispose(),T.material.dispose&&T.material.dispose()))}),o&&(o.dispose(),o.forceContextLoss&&o.forceContextLoss()),f&&s.value&&f.unobserve(s.value),o=null,r=null,i=null,m=!1,h=0,console.log("[PuppetModelView] Cleanup completed")});const D={props:n,mountEl:s,get renderer(){return o},set renderer(T){o=T},get scene(){return r},set scene(T){r=T},get camera(){return i},set camera(T){i=T},get animationId(){return a},set animationId(T){a=T},get currentModel(){return c},set currentModel(T){c=T},get currentMixer(){return u},set currentMixer(T){u=T},get clock(){return l},set clock(T){l=T},get resizeObserver(){return f},set resizeObserver(T){f=T},get dracoLoader(){return p},set dracoLoader(T){p=T},get loadSequence(){return h},set loadSequence(T){h=T},get isInitialized(){return m},set isInitialized(T){m=T},initThreeIfNeeded:b,clearCurrentModel:x,fitCameraToObject:L,loadPuppetModel:G,ref:Q,watch:Yn,onMounted:Ye,onBeforeUnmount:pn,nextTick:Kt,get THREE(){return da},get GLTFLoader(){return ss},get DRACOLoader(){return os},get getAssetUrl(){return pe}};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}},d0={ref:"mountEl",class:"model-canvas"};function h0(e,t,n,s,o,r){return ie(),de("div",d0,null,512)}const $0=dn(p0,[["render",h0],["__scopeId","data-v-c3e07470"],["__file","D:/Project/MGPIC-2025/src/vue/PuppetModelView.vue"]]),_0={__name:"Warehouse",setup(e,{expose:t}){function n(g){if(g==null)return g;const w=typeof g=="object"&&"_0"in g&&Object.keys(g).length===1?g._0:g;if(w&&typeof w=="object"&&"_0"in w&&typeof w._0=="number")return w._0;if(Array.isArray(w))return w.map(n);if(w&&typeof w=="object"){if(Array.isArray(w.entries)&&typeof w.size=="number"){const A={};for(const v of w.entries){if(!v)continue;const M=v.key??v._0??v[0],O=v.value??v._1??v[1],y=typeof M=="string"?M:M&&M._0?M._0:String(M);A[y]=n(O)}return A}const I={};for(const A of Object.keys(w)){const v=w[A];I[A]=n(v)}return I}return w}function s(g,w,I=[]){if(!g||typeof g!="object")return null;if(Object.prototype.hasOwnProperty.call(g,w))return[...I,w];if(Array.isArray(g)){for(let A=0;A<g.length;A++){const v=s(g[A],w,[...I,A]);if(v)return v}return null}for(const A of Object.keys(g)){const v=s(g[A],w,[...I,A]);if(v)return v}return null}function o(g,w){return w.reduce((I,A)=>I!=null?I[A]:void 0,g)}const r=Q([]);Ye(async()=>{try{const g=on(),w=await ns(g);console.log("[Warehouse] resource raw:",w);const I=n(w);console.log("[Warehouse] resource plain(unwrapped):",I);const A=["SpiritalSpark","RecallGear","ResonantCrystal","RefinedCopper","HeartCrystalDust"],v={SpiritalSpark:{name:"",icon:pe("resource/spiritual_spark.webp")},RecallGear:{name:"",icon:pe("resource/recall_gear.webp")},ResonantCrystal:{name:"",icon:pe("resource/resonant_star_crystal/resonant_star_crystal.webp")},RefinedCopper:{name:"",icon:pe("resource/refined_copper_ingot/refined_copper_ingot.webp")},HeartCrystalDust:{name:"",icon:pe("resource/heart_crystal_dust.webp")}},M=A.map(O=>({icon:v[O].icon,name:v[O].name,value:Number((I&&I[O])??0)}));r.value=M}catch{r.value=[{icon:pe("resource/spiritual_spark.webp"),name:"",value:0},{icon:pe("resource/recall_gear.webp"),name:"",value:0},{icon:pe("resource/resonant_star_crystal/resonant_star_crystal.webp"),name:"",value:0},{icon:pe("resource/refined_copper_ingot/refined_copper_ingot.webp"),name:"",value:0},{icon:pe("resource/heart_crystal_dust.webp"),name:"",value:0}]}});const i=Q([]);Ye(async()=>{try{const g=on(),w=await Oo(g);console.log("[Warehouse] copper raw:",w);const I=n(w);console.log("[Warehouse] copper plain(unwrapped):",I);let A=I&&Array.isArray(I.coppers)?I.coppers:[];if(!Array.isArray(A)){const M=s(I,"coppers");if(console.log("[Warehouse] copper key path:",M),M){const O=o(I,M);console.log("[Warehouse] copper found by path:",O),Array.isArray(O)&&(A=O)}!Array.isArray(A)&&I&&I.entries&&console.log("[Warehouse] copper entries sample:",I.entries)}console.log("[Warehouse] copper array length:",Array.isArray(A)?A.length:"not array");const v={IronWall:"",Arcanist:"",CraftsMan:"",Mechanic:"",Resonator:""};i.value=(A||[]).map((M,O)=>{var Ie,Qe,et,Re,De,Fe;const y=(M==null?void 0:M.copper_info)||{},K=(y==null?void 0:y.skill)||{},Z=(M==null?void 0:M.equipment_slot)||{},V=(Z==null?void 0:Z.slot1)||null,te=(Z==null?void 0:Z.slot2)||null,B=(M==null?void 0:M.attribute)||{},W=((Ie=V==null?void 0:V.equipment_base)==null?void 0:Ie.attribute)||{},se=((Qe=te==null?void 0:te.equipment_base)==null?void 0:Qe.attribute)||{},Te=Number(W.attack||0)+Number(se.attack||0),ge=Number(W.defense||0)+Number(se.defense||0),Le=Number(W.dodge||0)+Number(se.dodge||0),xe=y==null?void 0:y.copper_type;return{id:O+1,name:(y==null?void 0:y.name)??"",level:(M==null?void 0:M.level)??1,image:(y==null?void 0:y.icon_url)||"",modelUrl:(y==null?void 0:y.model_url)||"",quantity:1,description:(y==null?void 0:y.description)||"",stats:{level:`${(M==null?void 0:M.level)??1}/5`,attack:{base:Number(B.attack||0),bonus:Te},defense:{base:Number(B.defense||0),bonus:ge},dodge:{base:Number(B.dodge||0),bonus:Le},class:v[xe]||""},equipment:[V?{name:((et=V.equipment_base)==null?void 0:et.name)||"",icon:((Re=V.equipment_base)==null?void 0:Re.resource_url)||"",equipped:!0,locked:!1}:{name:"",icon:"",equipped:!1,locked:!1},Z!=null&&Z.is_slot2_locked?{name:"",icon:"",equipped:!1,locked:!0}:te?{name:((De=te.equipment_base)==null?void 0:De.name)||"",icon:((Fe=te.equipment_base)==null?void 0:Fe.resource_url)||"",equipped:!0,locked:!1}:{name:"",icon:"",equipped:!1,locked:!1}],skill:{name:(K==null?void 0:K.name)||"",cooldown:(K==null?void 0:K.cool_down)!=null?`${K.cool_down}`:"",effect:(K==null?void 0:K.description)||"",icon:(K==null?void 0:K.resource_url)||""},upgradeCost:10}}),Array.isArray(i.value)&&i.value.length>0&&(a.value=i.value[0]),!a.value&&Array.isArray(i.value)&&i.value.length>0&&(a.value=i.value[0])}catch{i.value=[]}});const a=Q(null),c=Q([]),u=Q(null),l=Q(null),f=Q(null);function p(g,w){g&&(c.value[w]=g)}async function h(g,w){a.value=g,await Kt();const I=c.value[w];if(I&&typeof I.scrollIntoView=="function"&&I.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"}),u.value=w,l.value)try{l.value.scrollTo({top:0,behavior:"smooth"})}catch{l.value.scrollTop=0}setTimeout(()=>{u.value===w&&(u.value=null)},320)}const m=Q(!1);function b(){m.value=!0}function x(){m.value=!1}function L(){const g=Math.max(0,r.value.length-1),w=r.value;if(!w[g]||w[g].value<10){alert("");return}w[g].value-=10;const I=i.value,A=Math.floor(Math.random()*I.length),v=I[A];v.quantity=(v.quantity||0)+1,a.value=v,drawResult.value={name:v.name,image:v.image}}function G(){return m.value?(m.value=!1,!0):!1}t({handleBack:G});async function D(g){try{const w=on(),I=await ns(w),A=n(I),v=["SpiritalSpark","RecallGear","ResonantCrystal","RefinedCopper","HeartCrystalDust"],M={SpiritalSpark:{name:"",icon:pe("resource/spiritual_spark.webp")},RecallGear:{name:"",icon:pe("resource/recall_gear.webp")},ResonantCrystal:{name:"",icon:pe("resource/resonant_star_crystal/resonant_star_crystal.webp")},RefinedCopper:{name:"",icon:pe("resource/refined_copper_ingot/refined_copper_ingot.webp")},HeartCrystalDust:{name:"",icon:pe("resource/heart_crystal_dust.webp")}};r.value=v.map(V=>({icon:M[V].icon,name:M[V].name,value:Number((A==null?void 0:A[V])??0)}));const O=await Oo(w),y=n(O),K=Array.isArray(y==null?void 0:y.coppers)?y.coppers:[],Z={IronWall:"",Arcanist:"",CraftsMan:"",Mechanic:"",Resonator:""};i.value=(K||[]).map((V,te)=>{var Fe,ft,Ve,hn,d,$;const B=(V==null?void 0:V.copper_info)||{},W=(B==null?void 0:B.skill)||{},se=(V==null?void 0:V.equipment_slot)||{},Te=(se==null?void 0:se.slot1)||null,ge=(se==null?void 0:se.slot2)||null,Le=(V==null?void 0:V.attribute)||{},xe=((Fe=Te==null?void 0:Te.equipment_base)==null?void 0:Fe.attribute)||{},Ie=((ft=ge==null?void 0:ge.equipment_base)==null?void 0:ft.attribute)||{},Qe=Number(xe.attack||0)+Number(Ie.attack||0),et=Number(xe.defense||0)+Number(Ie.defense||0),Re=Number(xe.dodge||0)+Number(Ie.dodge||0),De=B==null?void 0:B.copper_type;return{id:te+1,name:(B==null?void 0:B.name)??"",level:(V==null?void 0:V.level)??1,image:(B==null?void 0:B.icon_url)||"",modelUrl:(B==null?void 0:B.model_url)||"",quantity:1,description:(B==null?void 0:B.description)||"",stats:{level:`${(V==null?void 0:V.level)??1}/5`,attack:{base:Number(Le.attack||0),bonus:Qe},defense:{base:Number(Le.defense||0),bonus:et},dodge:{base:Number(Le.dodge||0),bonus:Re},class:Z[De]||""},equipment:[Te?{name:((Ve=Te.equipment_base)==null?void 0:Ve.name)||"",icon:((hn=Te.equipment_base)==null?void 0:hn.resource_url)||"",equipped:!0,locked:!1}:{name:"",icon:"",equipped:!1,locked:!1},se!=null&&se.is_slot2_locked?{name:"",icon:"",equipped:!1,locked:!0}:ge?{name:((d=ge.equipment_base)==null?void 0:d.name)||"",icon:(($=ge.equipment_base)==null?void 0:$.resource_url)||"",equipped:!0,locked:!1}:{name:"",icon:"",equipped:!1,locked:!1}],skill:{name:(W==null?void 0:W.name)||"",cooldown:(W==null?void 0:W.cool_down)!=null?`${W.cool_down}`:"",effect:(W==null?void 0:W.description)||"",icon:(W==null?void 0:W.resource_url)||""},upgradeCost:10}})}catch{}}const T={unwrapMoonJson:n,findKeyPath:s,getByPath:o,resources:r,puppets:i,selectedPuppet:a,puppetItemRefs:c,highlightedIndex:u,detailWrap:l,hoveredIndex:f,setPuppetItemRef:p,selectPuppet:h,showDrawScreen:m,drawMore:b,closeDrawScreen:x,drawTen:L,handleBack:G,onGachaResult:D,ref:Q,onMounted:Ye,nextTick:Kt,get getAssetUrl(){return pe},DrawScreen:Ig,PuppetModelView:$0,get get_global(){return on},get global_get_resource(){return ns},get global_get_copper_list(){return Oo}};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},m0={class:"warehouse"},g0={class:"warehouse__resources"},b0={class:"resource-icon"},y0=["src","alt"],w0={class:"resource-value"},v0={key:0,class:"warehouse__main"},T0={class:"warehouse__sidebar"},M0={class:"puppet-list"},x0=["onClick","onMouseenter"],C0={class:"puppet-card__quantity"},S0={class:"puppet-card__image"},A0=["src","alt"],L0={class:"puppet-card__info"},I0={class:"puppet-card__name"},R0={class:"puppet-card__level"},E0={class:"warehouse__detail",ref:"detailWrap"},P0={class:"puppet-detail__header"},k0={class:"puppet-detail__name"},O0={class:"puppet-detail__content"},N0={class:"puppet-detail__row"},D0={class:"puppet-detail__model"},F0={class:"puppet-detail__description"},G0={class:"puppet-detail__row"},H0={class:"puppet-detail__stats"},U0={class:"stats-section"},j0={class:"stat-item"},B0={class:"stat-value"},V0={class:"stat-item"},K0={class:"stat-value"},W0={class:"stat-bonus"},q0={class:"stat-item"},z0={class:"stat-value"},X0={class:"stat-bonus"},J0={class:"stat-item"},Y0={class:"stat-value"},Z0={class:"stat-bonus"},Q0={class:"stat-item"},eb={class:"stat-value"},tb={class:"equipment-section"},nb={class:"equipment-slots"},sb=["src","alt"],ob={key:1,class:"equipment-icon"},rb={class:"skill-section"},ib={class:"skill-info"},ab={class:"skill-text"},cb={class:"skill-name"},lb={class:"skill-cooldown"},ub={class:"skill-effect"},fb={class:"skill-icon"},pb=["src","alt"],db={key:1},hb={class:"puppet-detail__upgrade"},$b={class:"upgrade-cost"},_b=["src"],mb={class:"cost-amount"},gb={class:"warehouse__placeholder",key:"placeholder"};function bb(e,t,n,s,o,r){return ie(),de("div",m0,[C("div",g0,[(ie(!0),de(je,null,Mo(s.resources,i=>(ie(),de("div",{class:"resource-item",key:i.name},[C("div",b0,[C("img",{src:i.icon,alt:i.name},null,8,y0)]),C("div",w0,$e(i.value),1)]))),128))]),s.showDrawScreen?Wt("",!0):(ie(),de("div",v0,[C("div",T0,[t[2]||(t[2]=C("div",{class:"warehouse__title"},"",-1)),C("div",M0,[(ie(!0),de(je,null,Mo(s.puppets,(i,a)=>{var c;return ie(),de("div",{class:zt(["puppet-card",{"puppet-card--selected":((c=s.selectedPuppet)==null?void 0:c.id)===i.id,"puppet-card--pulse":s.highlightedIndex===a,"puppet-card--hover":s.hoveredIndex===a}]),key:i.id,ref_for:!0,ref:u=>s.setPuppetItemRef(u,a),onClick:u=>s.selectPuppet(i,a),onMouseenter:u=>s.hoveredIndex=a,onMouseleave:t[0]||(t[0]=u=>s.hoveredIndex=null)},[C("div",C0,$e(i.level),1),C("div",S0,[C("img",{src:i.image,alt:i.name},null,8,A0)]),C("div",L0,[C("div",I0,$e(i.name),1),C("div",R0,$e(i.level)+"",1)])],42,x0)}),128)),C("div",{class:"puppet-card puppet-card--add",onClick:s.drawMore},[...t[1]||(t[1]=[C("div",{class:"puppet-card__add-icon"},"+",-1),C("div",{class:"puppet-card__add-text"},"",-1)])])])]),C("div",E0,[ye(Fp,{name:"fade-slide",mode:"out-in"},{default:Za(()=>{var i;return[s.selectedPuppet?(ie(),de("div",{class:"puppet-detail",key:((i=s.selectedPuppet)==null?void 0:i.id)||"none"},[C("div",P0,[C("h2",k0,$e(s.selectedPuppet.name),1)]),C("div",O0,[C("div",N0,[C("div",D0,[ye(s.PuppetModelView,{puppet:s.selectedPuppet},null,8,["puppet"])]),C("div",F0,$e(s.selectedPuppet.description),1)]),C("div",G0,[C("div",H0,[C("div",U0,[C("div",j0,[t[3]||(t[3]=C("span",{class:"stat-label"},":",-1)),C("span",B0,$e(s.selectedPuppet.stats.level),1)]),C("div",V0,[t[4]||(t[4]=C("span",{class:"stat-label"},":",-1)),C("span",K0,[ks($e(s.selectedPuppet.stats.attack.base)+" ",1),C("span",W0,"(+"+$e(s.selectedPuppet.stats.attack.bonus)+")",1)])]),C("div",q0,[t[5]||(t[5]=C("span",{class:"stat-label"},":",-1)),C("span",z0,[ks($e(s.selectedPuppet.stats.defense.base)+" ",1),C("span",X0,"(+"+$e(s.selectedPuppet.stats.defense.bonus)+")",1)])]),C("div",J0,[t[6]||(t[6]=C("span",{class:"stat-label"},":",-1)),C("span",Y0,[ks($e(s.selectedPuppet.stats.dodge.base)+"% ",1),C("span",Z0,"(+"+$e(s.selectedPuppet.stats.dodge.bonus)+"%)",1)])]),C("div",Q0,[t[7]||(t[7]=C("span",{class:"stat-label"},":",-1)),C("span",eb,$e(s.selectedPuppet.stats.class),1)])])]),C("div",tb,[t[8]||(t[8]=C("h4",{class:"section-title"},"",-1)),C("div",nb,[(ie(!0),de(je,null,Mo(s.selectedPuppet.equipment,(a,c)=>(ie(),de("div",{key:c,class:zt(["equipment-slot",{"equipment-slot--empty":!a.equipped&&!a.locked,"equipment-slot--locked":a.locked}])},[a.equipped&&a.icon&&a.icon.startsWith("/")?(ie(),de("img",{key:0,src:a.icon,alt:a.name,class:"equipment-icon"},null,8,sb)):(ie(),de("span",ob,$e(a.locked?"":a.icon),1))],2))),128))])])]),C("div",rb,[t[9]||(t[9]=C("h4",{class:"section-title"},"",-1)),C("div",ib,[C("div",ab,[C("div",cb,$e(s.selectedPuppet.skill.name),1),C("div",lb,": "+$e(s.selectedPuppet.skill.cooldown),1),C("div",ub,$e(s.selectedPuppet.skill.effect),1)]),C("div",fb,[s.selectedPuppet.skill.icon&&s.selectedPuppet.skill.icon.startsWith("/")?(ie(),de("img",{key:0,src:s.selectedPuppet.skill.icon,alt:s.selectedPuppet.skill.name,class:"skill-icon-img"},null,8,pb)):(ie(),de("span",db,$e(s.selectedPuppet.skill.icon),1))])])])]),C("div",hb,[C("div",$b,[C("img",{class:"cost-icon-img",src:s.getAssetUrl("img/warehouse/goods/ea74bce606c59ac4ab84ab117375c0de813cea49.webp"),alt:"cost"},null,8,_b),C("span",mb,"X "+$e(s.selectedPuppet.upgradeCost),1)]),t[10]||(t[10]=C("button",{class:"upgrade-btn"},[C("span",{class:"upgrade-icon"},"")],-1))])])):(ie(),de("div",gb,[...t[11]||(t[11]=[C("p",null,"",-1)])]))]}),_:1})],512)])),s.showDrawScreen?(ie(),Lr(s.DrawScreen,{key:1,onDraw:s.onGachaResult})):Wt("",!0)])}const yb=dn(_0,[["render",bb],["__scopeId","data-v-58eda787"],["__file","D:/Project/MGPIC-2025/src/vue/Warehouse.vue"]]),wb={__name:"TopLeftPanel",emits:["back","open-settings"],setup(e,{expose:t,emit:n}){t();const o={emit:n};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},vb={class:"panel",style:{left:"24px",right:"auto"}};function Tb(e,t,n,s,o,r){return ie(),de("div",vb,[C("button",{class:"btn",onClick:t[0]||(t[0]=i=>e.$emit("back")),title:""},[...t[2]||(t[2]=[C("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[C("path",{d:"M15 18L9 12L15 6",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),C("span",{class:"sr-only"},"",-1)])]),C("button",{class:"btn",onClick:t[1]||(t[1]=i=>e.$emit("open-settings")),title:""},[...t[3]||(t[3]=[C("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[C("path",{d:"M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z",stroke:"#ffffff","stroke-width":"2"}),C("path",{d:"M19.4 15A7.964 7.964 0 0 0 20 12C20 11.49 19.95 10.99 19.86 10.5L22 8.5L20 5.5L17.34 6.07C16.78 5.58 16.14 5.18 15.44 4.9L15 2H9L8.56 4.9C7.86 5.18 7.22 5.58 6.66 6.07L4 5.5L2 8.5L4.14 10.5C4.05 10.99 4 11.49 4 12C4 12.51 4.05 13.01 4.14 13.5L2 15.5L4 18.5L6.66 17.93C7.22 18.42 7.86 18.82 8.56 19.1L9 22H15L15.44 19.1C16.14 18.82 16.78 18.42 17.34 17.93L20 18.5L22 15.5L19.86 13.5C19.95 13.01 20 12.51 20 12",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),C("span",{class:"sr-only"},"",-1)])])])}const Mb=dn(wb,[["render",Tb],["__scopeId","data-v-fb6ccffd"],["__file","D:/Project/MGPIC-2025/src/vue/TopLeftPanel.vue"]]),xb={__name:"StartMenu",emits:["started"],setup(e,{expose:t,emit:n}){t();const s=Q(null),o=Q(null);let r=null,i=null,a=null,c=null,u=null,l=1.2;const f=Q(!1),p=Q(!1),h=n;function m(){if(c=requestAnimationFrame(m),u){const A=Date.now()*.001;u.position.y=Math.sin(A*.8)*.1,u.rotation.y=Math.sin(A*.6)*.1;const v=l+Math.sin(A*1.2)*.04;u.scale.setScalar(v)}a&&a.render(r,i)}function b(){!a||!i||(i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight))}function x(){c&&(cancelAnimationFrame(c),c=null)}function L(){c||(c=requestAnimationFrame(m))}function G(){try{x()}catch{}try{window.removeEventListener("resize",b)}catch{}try{r&&(r.traverse(A=>{if(A.isMesh){A.geometry&&A.geometry.dispose&&A.geometry.dispose();const v=A.material;Array.isArray(v)?v.forEach(M=>M&&M.dispose&&M.dispose()):v&&v.dispose&&v.dispose()}}),r.clear())}catch{}try{if(a){a.clear(!0,!0,!0),a.dispose();const A=a.getContext&&a.getContext(),v=A&&A.getExtension&&A.getExtension("WEBGL_lose_context");v&&v.loseContext&&v.loseContext()}}catch{}r=null,i=null,a=null,u=null}async function D(){try{window.getAssetUrl=pe,window.precacheAllResources=Ds,window.getCacheStatus=ki,Ds().catch(()=>{})}catch{}r=new ha,r.background=new kt("#a0a0a0"),i=new pr(50,1.333,.1,1e3),i.position.set(-3.655,.2,-.006),i.rotation.set(-1.618275,-1.538307,-1.6183,"XYZ"),a=new $a({antialias:!0,canvas:s.value}),a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(window.devicePixelRatio);const A=new _a(4210752,.4);r.add(A);const v=new ur(16777215,12.5);v.position.set(-5,-2,1),r.add(v);const M=new os;M.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.7/");const O=new ss;O.setDRACOLoader(M);const y=window.getAssetUrl?window.getAssetUrl("logo.glb"):"./assets/logo.glb",K=()=>new Promise((Z,V)=>{O.load(y,te=>Z(te),void 0,te=>V(te))});try{if(!(await fetch(y,{method:"HEAD",mode:"cors",credentials:"omit"})).ok)throw new Error("logo not ok");const V=await K();V.scene.position.set(0,0,0),r.add(V.scene);const B=new Us().setFromObject(V.scene).getCenter(new st);V.scene.position.set(-B.x,-B.y,-B.z);try{V.scene.scale.setScalar(l)}catch{}u=V.scene,f.value=!0}catch{try{const V=await K();V.scene.position.set(0,0,0),r.add(V.scene);const B=new Us().setFromObject(V.scene).getCenter(new st);V.scene.position.set(-B.x,-B.y,-B.z);try{V.scene.scale.setScalar(l)}catch{}u=V.scene,f.value=!0}catch{}}window.addEventListener("resize",b),m(),window.__START_MENU_PAUSE__=()=>x(),window.__START_MENU_RESUME__=()=>L()}function T(){h("started"),x()}function g(){p.value=!0}function w(){p.value=!1}Ye(()=>{D()}),pn(()=>{G()});const I={canvasRef:s,uiRootRef:o,get scene(){return r},set scene(A){r=A},get camera(){return i},set camera(A){i=A},get renderer(){return a},set renderer(A){a=A},get animationId(){return c},set animationId(A){c=A},get logoObject(){return u},set logoObject(A){u=A},get baseScale(){return l},set baseScale(A){l=A},isReady:f,showSettings:p,emit:h,renderLoop:m,handleResize:b,pause:x,resume:L,destroyScene:G,initScene:D,onStart:T,onOpenSettings:g,onCloseSettings:w,onMounted:Ye,onBeforeUnmount:pn,ref:Q,get THREE(){return da},get GLTFLoader(){return ss},get DRACOLoader(){return os},get getAssetUrl(){return pe},get precacheAllResources(){return Ds},get getCacheStatus(){return ki}};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}},Cb={class:"startmenu"},Sb={ref:"canvasRef",class:"startmenu__canvas"},Ab={ref:"uiRootRef",class:"startmenu-ui"},Lb={key:0,class:"settings-local"};function Ib(e,t,n,s,o,r){return ie(),de("div",Cb,[C("canvas",Sb,null,512),ec(C("div",Ab,[C("button",{id:"start-btn",class:"startmenu-btn","aria-label":"",onClick:s.onStart},""),C("button",{id:"settings-btn",class:"startmenu-btn","aria-label":"",onClick:s.onOpenSettings},"")],512),[[Fc,s.isReady]]),s.showSettings?(ie(),de("div",Lb,[C("div",{class:"settings-local__card"},[C("div",{class:"settings-local__header"},[t[0]||(t[0]=C("div",{class:"settings-local__title"},"",-1)),C("button",{class:"settings-local__close",onClick:s.onCloseSettings,"aria-label":""},"")]),t[1]||(t[1]=C("div",{class:"settings-local__content"},[C("div",{class:"settings-local__row"},"")],-1))])])):Wt("",!0)])}const Rb=dn(xb,[["render",Ib],["__scopeId","data-v-00070bd8"],["__file","D:/Project/MGPIC-2025/src/vue/StartMenu.vue"]]),Eb={__name:"App",setup(e,{expose:t}){t();const n=Q(!1),s=Q(null),o=Q(!1),r=Q(null),i=Q([]),a=Q(0),c=Q(!0);function u(){const w=!n.value;n.value=w,w?window.__START_MENU_PAUSE__&&window.__START_MENU_PAUSE__():window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__()}function l(w){s.value!==w&&(i.value.push(s.value),s.value=w),window.__START_MENU_PAUSE__&&window.__START_MENU_PAUSE__(),n.value=!0}function f(){s.value=null,i.value=[],window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),n.value=!1}function p(){o.value=!0,n.value=!0}function h(){o.value=!1,s.value||(window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),n.value=!1)}function m(){if(o.value){h();return}if(s.value){if(s.value==="warehouse"&&r.value&&r.value.handleBack&&r.value.handleBack())return;const w=i.value.pop()??null;s.value=w,w||(c.value?(window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),n.value=!1):(c.value=!0,n.value=!1));return}if(!c.value){c.value=!0,window.__START_MENU_RESUME__&&window.__START_MENU_RESUME__(),n.value=!1;return}}const b=Q(!0),x=Q(null);function L(){b.value=!b.value}function G(){try{const w={version:1,savedAt:Date.now(),payload:{}},I=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),A=document.createElement("a");A.href=URL.createObjectURL(I),A.download="save.json",A.click(),URL.revokeObjectURL(A.href)}catch{}}function D(){try{x.value&&x.value.click()}catch{}}function T(w){try{const I=w.target&&w.target.files&&w.target.files[0];if(!I)return;const A=new FileReader;A.onload=()=>{try{JSON.parse(String(A.result||"{}"))}catch{}w.target.value=""},A.readAsText(I)}catch{}}const g={isPaused:n,overlay:s,showSettingsOverlay:o,warehouseRef:r,overlayHistory:i,currentPuppetIndex:a,showStartMenu:c,togglePause:u,openOverlay:l,closeOverlay:f,openSettings:p,closeSettings:h,goBack:m,musicOn:b,fileInput:x,onToggleMusic:L,onDownloadSave:G,onUploadSave:D,onFileChange:T,ref:Q,onMounted:Ye,onBeforeUnmount:pn,Hall:wd,Warehouse:yb,TopLeftPanel:Mb,StartMenu:Rb};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},Pb={class:"stage"},kb={key:0,style:{position:"relative",width:"100%",height:"100%"}},Ob={key:1,class:"modal"},Nb={class:"modal-title"},Db={key:2,class:"overlay",style:{"z-index":"30000","align-items":"flex-start","justify-content":"flex-start",background:"rgba(0,0,0,0.25)"}},Fb={class:"settings"},Gb={class:"settings__content"},Hb={class:"settings__state"};function Ub(e,t,n,s,o,r){return ie(),de("div",Pb,[ec(ye(s.StartMenu,{onStarted:t[0]||(t[0]=i=>s.showStartMenu=!1)},null,512),[[Fc,s.showStartMenu]]),s.showStartMenu?Wt("",!0):(ie(),Lr(s.TopLeftPanel,{key:0,onBack:s.goBack,onOpenSettings:s.openSettings})),ye(s.Hall,{onStartGame:t[1]||(t[1]=i=>s.openOverlay("start")),onOpenWarehouse:t[2]||(t[2]=i=>s.openOverlay("warehouse")),onOpenTutorial:t[3]||(t[3]=i=>s.openOverlay("tutorial")),onOpenEncyclopedia:t[4]||(t[4]=i=>s.openOverlay("encyclopedia"))}),s.overlay?(ie(),de("div",{key:1,class:zt(["overlay",{"overlay--warehouse":s.overlay==="warehouse"}])},[s.overlay==="warehouse"?(ie(),de("div",kb,[ye(s.TopLeftPanel,{onBack:s.goBack,onOpenSettings:s.openSettings}),ye(s.Warehouse,{ref:"warehouseRef"},null,512)])):(ie(),de("div",Ob,[C("h2",Nb,$e(s.overlay==="warehouse"?"  Copper Warehouse":s.overlay==="tutorial"?"  Tutorial":s.overlay==="encyclopedia"?"  Game Encyclopedia":"  Start Game"),1),t[5]||(t[5]=C("p",{class:"modal-body"},"",-1)),C("button",{class:"close-btn",onClick:s.closeOverlay},"")]))],2)):Wt("",!0),s.showSettingsOverlay?(ie(),de("div",Db,[C("div",Fb,[C("div",{class:"settings__header"},[t[7]||(t[7]=C("div",{class:"settings__title"},"",-1)),C("button",{class:"settings__close",onClick:s.closeSettings,"aria-label":""},[...t[6]||(t[6]=[C("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[C("path",{d:"M18 6L6 18M6 6l12 12",stroke:"#fff","stroke-width":"2","stroke-linecap":"round"})],-1)])])]),C("div",Gb,[C("button",{class:"settings__item",onClick:s.onToggleMusic},[t[8]||(t[8]=So('<span class="settings__icon" data-v-7a7a37b1><svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-7a7a37b1><path d="M9 18V5l10-2v9" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-7a7a37b1></path><path d="M9 18a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm10-6a3 3 0 1 1-6 0" stroke="#fff" stroke-width="2" stroke-linecap="round" data-v-7a7a37b1></path></svg></span><span class="settings__label" data-v-7a7a37b1></span>',2)),C("span",Hb,$e(s.musicOn?"":""),1)]),C("button",{class:"settings__item",onClick:s.onDownloadSave},[...t[9]||(t[9]=[So('<span class="settings__icon" data-v-7a7a37b1><svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-7a7a37b1><path d="M12 3v12m0 0l-4-4m4 4l4-4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-7a7a37b1></path><path d="M4 19h16" stroke="#fff" stroke-width="2" stroke-linecap="round" data-v-7a7a37b1></path></svg></span><span class="settings__label" data-v-7a7a37b1></span>',2)])]),C("button",{class:"settings__item",onClick:s.onUploadSave},[...t[10]||(t[10]=[So('<span class="settings__icon" data-v-7a7a37b1><svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-7a7a37b1><path d="M12 21V9m0 0l4 4m-4-4L8 13" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-7a7a37b1></path><path d="M4 5h16" stroke="#fff" stroke-width="2" stroke-linecap="round" data-v-7a7a37b1></path></svg></span><span class="settings__label" data-v-7a7a37b1></span>',2)])]),C("input",{ref:"fileInput",type:"file",accept:".json",onChange:s.onFileChange,style:{display:"none"}},null,544)])])])):Wt("",!0)])}const ta=dn(Eb,[["render",Ub],["__scopeId","data-v-7a7a37b1"],["__file","D:/Project/MGPIC-2025/src/App.vue"]]);function jb(e,t,n){const s=document.getElementById("progress-bar"),o=document.getElementById("progress-text");s&&(s.style.width=n+"%"),o&&(o.textContent=`${e} / ${t} (${n}%)`)}function na(){const e=document.getElementById("loading-screen");e&&(e.classList.add("fade-out"),setTimeout(()=>{e.style.display="none"},500))}async function Bb(){try{console.log("..."),await Ds(jb),console.log(""),Ei(ta).mount("#app"),setTimeout(()=>{na()},500)}catch(e){console.error(":",e),Ei(ta).mount("#app"),na()}}Bb();
