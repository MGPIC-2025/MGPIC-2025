const Xs={$tag:0},o$={$tag:1},$$={$tag:2};function wn(t,n){this._0=t,this._1=n}wn.prototype.$tag=3;function v(t){this._0=t}v.prototype.$tag=4;function Ct(t){this._0=t}Ct.prototype.$tag=5;function q(t){this._0=t}q.prototype.$tag=6;const ct={hi:0,lo:1},D={hi:0,lo:0},Ys={hi:232830643,lo:-1486618624},rt={hi:0,lo:10},Ks={hi:0,lo:100},Qs={hi:0,lo:1e3},Zs={hi:0,lo:1e4},tr={hi:0,lo:1e5},nr={hi:0,lo:1e6},er={hi:0,lo:1e7},or={hi:0,lo:1e8},$r={hi:0,lo:1e9},sr={hi:2,lo:1410065408},rr={hi:23,lo:1215752192},cr={hi:232,lo:-727379968},ir={hi:2328,lo:1316134912},_r={hi:23283,lo:276447232},ar={hi:232830,lo:-1530494976},lr={hi:0,lo:22},ur={hi:0,lo:37},pr={hi:-1,lo:-22},s$={hi:-1,lo:-1};function r$(t){this._0=t}r$.prototype.$tag=0;function on(t){this._0=t}on.prototype.$tag=1;function Ye(t){this._0=t}Ye.prototype.$tag=2;const mr={$tag:3},ne={$tag:4};function A(t){this._0=t}A.prototype.$tag=0;function Y(t){this._0=t}Y.prototype.$tag=1;const dr={hi:-1048576,lo:0},br={hi:2146959360,lo:1},fr={hi:2146435072,lo:0},c$={hi:0,lo:2};class gr extends Error{}function I(){throw new gr}function u(t,n){if(n<0||n>=t.length)throw new Error("Index out of bounds")}const hr=()=>{var t;if((t=globalThis.crypto)!=null&&t.getRandomValues){const n=new Uint32Array(1);return globalThis.crypto.getRandomValues(n),n[0]|0}else return Math.floor(Math.random()*4294967296)|0};function kr(t,n){return new Uint8Array(t)}function Z(t,n){const o=new Array(t);return o.fill(n),o}const wr=t=>(t.hi>>>0)*4294967296+(t.lo>>>0),Mr=function t(n){let o=t._view;return o===void 0&&(o=t._view=new DataView(new ArrayBuffer(8))),o.setUint32(0,n.hi),o.setUint32(4,n.lo),o.getFloat64(0)},yr={hi:2146435071,lo:-1},Sr={hi:-1048577,lo:-1},xt=(t,n)=>{t.push(n)},Ke=function t(){return t._exports?t._exports:t._exports=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports},Cr=(t,n)=>{const o=t.hi,s=n.hi;if(o<s)return-1;if(o>s)return 1;const e=t.lo>>>0,$=n.lo>>>0;return e<$?-1:e>$?1:0},xr=(t,n)=>{const o=t.hi>>>0,s=n.hi>>>0;if(o<s)return-1;if(o>s)return 1;const e=t.lo>>>0,$=n.lo>>>0;return e<$?-1:e>$?1:0},Lr=t=>t.hi*4294967296+(t.lo>>>0),Ir=t=>t.slice(0);function _e(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}function Pr(t){return t>>>=0,t===0?32:(t&=-t,31-Math.clz32(t))}const Ce={hi:0,lo:-1};function Wt(t,n,o){this._0=t,this._1=n,this._2=o}Wt.prototype.$tag=0;function Rt(t,n,o){this._0=t,this._1=n,this._2=o}Rt.prototype.$tag=1;function rn(t){this._0=t}rn.prototype.$tag=2;const $n={$tag:0};function fn(t,n){this._0=t,this._1=n}fn.prototype.$tag=1;function ae(t){this._0=t}ae.prototype.$tag=0;function Mt(t){this._0=t}Mt.prototype.$tag=1;function Lt(t){this._0=t}Lt.prototype.$tag=5;function Mn(t,n){this._0=t,this._1=n}Mn.prototype.$tag=4;const at={$tag:3},i$={$tag:0};function le(t){this._0=t}le.prototype.$tag=0;function Qe(t){this._0=t}Qe.prototype.$tag=1;function yn(t){this._0=t}yn.prototype.$tag=0;function lt(t){this._0=t}lt.prototype.$tag=1;function zt(t){this._0=t}zt.prototype.$tag=0;function K(t){this._0=t}K.prototype.$tag=1;function ue(t){this._0=t}ue.prototype.$tag=0;function Ze(t){this._0=t}Ze.prototype.$tag=1;const Gr={hi:2097151,lo:-1},vr={hi:-2097152,lo:1};function to(t){this._0=t}to.prototype.$tag=0;function Ot(t){this._0=t}Ot.prototype.$tag=1;function _$(t){this._0=t}_$.prototype.$tag=0;function a$(t){this._0=t}a$.prototype.$tag=1;function qe(t){this._0=t}qe.prototype.$tag=0;function l$(t){this._0=t}l$.prototype.$tag=1;const jr={$tag:0},Ar={$tag:1},qr={$tag:2};function pn(t,n){this._0=t,this._1=n}pn.prototype.$tag=3;function pe(t){this._0=t}pe.prototype.$tag=4;const Rr={$tag:5},u$={$tag:6},Or={$tag:7},p$={$tag:8},m$={$tag:9},Er={$tag:0};function d$(t){this._0=t}d$.prototype.$tag=1;const zr=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,49,50,51,52,53,54]);function mn(t){this._0=t}mn.prototype.$tag=1;function b$(t){this._0=t}b$.prototype.$tag=0;function f$(t){this._0=t}f$.prototype.$tag=0;function g$(t){this._0=t}g$.prototype.$tag=1;function h$(t){this._0=t}h$.prototype.$tag=0;function Ht(t){this._0=t}Ht.prototype.$tag=1;function k$(t){this._0=t}k$.prototype.$tag=0;function w$(t){this._0=t}w$.prototype.$tag=0;function M$(t){this._0=t}M$.prototype.$tag=1;const xe={hi:2147483647,lo:-1},ko={hi:0,lo:16},Le={hi:-2147483648,lo:0},Tr={hi:0,lo:65536},Ie={$tag:0};function y$(t){this._0=t}y$.prototype.$tag=1;const Jr=Xs,wo=".",Mo="e",yo="E",S$="value out of range",_n="invalid syntax",So="",C$=Ys,Br=D,Hr=D,st={mantissa_bits:52,exponent_bits:11,bias:-1023},Fn=[1,3,6,9,13,16,19,23,26,29,33,36,39,43,46,49,53,56,59],Co=[{_0:0,_1:""},{_0:1,_1:"5"},{_0:1,_1:"25"},{_0:1,_1:"125"},{_0:2,_1:"625"},{_0:2,_1:"3125"},{_0:2,_1:"15625"},{_0:3,_1:"78125"},{_0:3,_1:"390625"},{_0:3,_1:"1953125"},{_0:4,_1:"9765625"},{_0:4,_1:"48828125"},{_0:4,_1:"244140625"},{_0:4,_1:"1220703125"},{_0:5,_1:"6103515625"},{_0:5,_1:"30517578125"},{_0:5,_1:"152587890625"},{_0:6,_1:"762939453125"},{_0:6,_1:"3814697265625"},{_0:6,_1:"19073486328125"},{_0:7,_1:"95367431640625"},{_0:7,_1:"476837158203125"},{_0:7,_1:"2384185791015625"},{_0:7,_1:"11920928955078125"},{_0:8,_1:"59604644775390625"},{_0:8,_1:"298023223876953125"},{_0:8,_1:"1490116119384765625"},{_0:9,_1:"7450580596923828125"},{_0:9,_1:"37252902984619140625"},{_0:9,_1:"186264514923095703125"},{_0:10,_1:"931322574615478515625"},{_0:10,_1:"4656612873077392578125"},{_0:10,_1:"23283064365386962890625"},{_0:10,_1:"116415321826934814453125"},{_0:11,_1:"582076609134674072265625"},{_0:11,_1:"2910383045673370361328125"},{_0:11,_1:"14551915228366851806640625"},{_0:12,_1:"72759576141834259033203125"},{_0:12,_1:"363797880709171295166015625"},{_0:12,_1:"1818989403545856475830078125"},{_0:13,_1:"9094947017729282379150390625"},{_0:13,_1:"45474735088646411895751953125"},{_0:13,_1:"227373675443232059478759765625"},{_0:13,_1:"1136868377216160297393798828125"},{_0:14,_1:"5684341886080801486968994140625"},{_0:14,_1:"28421709430404007434844970703125"},{_0:14,_1:"142108547152020037174224853515625"},{_0:15,_1:"710542735760100185871124267578125"},{_0:15,_1:"3552713678800500929355621337890625"},{_0:15,_1:"17763568394002504646778106689453125"},{_0:16,_1:"88817841970012523233890533447265625"},{_0:16,_1:"444089209850062616169452667236328125"},{_0:16,_1:"2220446049250313080847263336181640625"},{_0:16,_1:"11102230246251565404236316680908203125"},{_0:17,_1:"55511151231257827021181583404541015625"},{_0:17,_1:"277555756156289135105907917022705078125"},{_0:17,_1:"1387778780781445675529539585113525390625"},{_0:18,_1:"6938893903907228377647697925567626953125"},{_0:18,_1:"34694469519536141888238489627838134765625"},{_0:18,_1:"173472347597680709441192448139190673828125"},{_0:19,_1:"867361737988403547205962240695953369140625"}],xo=[ct,rt,Ks,Qs,Zs,tr,nr,er,or,$r,sr,rr,cr,ir,_r,ar],Pe=lr,Qt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,0,0,0,0,0,0,0,0,0],Nr=ur,Dr=pr,Fr=D,Ur=0,Vr=0,Wr=s$,Xr="阿磐",Yr="铜曜王朝西门最后的守卫官。在“大休眠”事件发生时，他正用自己的身躯抵住即将被撞开的城门。重启后，他古老的守护者协议依然在生效，只是将守护的目标从“王城”转移到了“唤醒他的人”。他的数据库里仍存有部分王城守卫的布防图，或许有一天能派上用场。",Kr="/assets/copper/iron_wall/rocky/rocky.webp",Qr="/assets/copper/iron_wall/rocky/rocky.glb",Zr="卫斯理",tc="档案记录其最初型号为“宫廷厨务助手——切配型”。为何会装备一口高性能合金锅并出现在前线是个谜。机体日志的最后一条记录是：“警告：检测到未知高能量反应。建议将手中黄油置于阴凉处……”随后便进入了休眠。",nc="/assets/copper/iron_wall/wesley/wesley.webp",ec="/assets/copper/iron_wall/wesley/wesley.glb",oc="大贝尔",$c="这不是一个仿生铜偶，而是一扇真正被赋予了意识的“辉煌大厅正门”。它对自己的抛光度和历史价值极为自豪。大休眠让它从合页上脱落，如今它依靠反重力核心行动。它时常念叨着想回到那个“所有显贵都要经过我才能入内”的时代。",sc="/assets/copper/iron_wall/bell/bell.webp",rc="/assets/copper/iron_wall/bell/bell.glb",cc="团团",ic="王朝庆典上使用的礼仪陀螺卫士，设计初衷是用华丽的旋转表演为节日助兴。大休眠后，其战斗模块被意外激活。它似乎将战斗也视为了一种新的“表演”，并以击倒敌人时的旋转圈数来为自己的表演评分。",_c="/assets/copper/iron_wall/tumble/tumble.webp",ac="/assets/copper/iron_wall/tumble/tumble.glb",lc="铿铿",uc="一套微型城市管理单元的指挥核心。原本负责指挥工兵单元进行街道清扫和路灯维护。重启后，他的指挥协议阴差阳错地连接上了几个战斗型铜偶，于是他一丝不苟地将他们编成了“第一微型战术小队”，尽管队员们常常不听指挥。",pc="/assets/copper/iron_wall/chief/chief.webp",mc="/assets/copper/iron_wall/chief/chief.glb",dc="咝咝",bc="心源能量学院的跳级天才，同时也是实验室安全条例的“头号防范对象”。她的核心能产生极高的能量输出，但稳定器永远差那么一点。她的实验日志里写满了‘近乎成功’和‘下次优化方案’，直到大休眠将她的第1001次实验永久定格。",fc="/assets/copper/arcanist/spark/spark.webp",gc="/assets/copper/arcanist/spark/spark.glb",hc="拉斐尔",kc="曾掌管王城最受欢迎的“甜蜜源泉”糖果工坊。他能将心源能量转化为不同风味和粘度的魔法糖浆。大休眠时，他正在尝试一种能让人笑个不停的泡泡糖配方。重启后，他发现这些糖浆在对付锈蚀的敌人时有意想不到的奇效。",wc="/assets/copper/arcanist/syrup/syrup.webp",Mc="/assets/copper/arcanist/syrup/syrup.glb",yc="波普尔",Sc="来自“澄澈之湖”区的环境清洁单位，负责用气泡包裹并运走垃圾。她非常热爱这份创造完美气泡的工作。大休眠后，她的气泡生成器得到了升级，现在能制造出承载重物、发生爆炸或折射迷人光彩的特殊泡泡。",Cc="/assets/copper/arcanist/bubble/bubble.webp",xc="/assets/copper/arcanist/bubble/bubble.glb",Lc="菲尼",Ic="王朝著名剧场“星辉之歌”的首席灯光师。认为魔法不过是另一种形式的舞台光效。她的数据库里存储了上万种灯光配色方案。对她而言，击败敌人的最大成就感来自于技能释放时那一瞬间的色彩搭配是否足够“高级”。",Pc="/assets/copper/arcanist/glimmer/glimmer.webp",Gc="/assets/copper/arcanist/glimmer/glimmer.glb",vc="卷卷",jc="大书库的自动检索管理员，体内集成了王朝海量的非机密文献。它的逻辑模块认为，任何问题都可以通过检索数据库找到答案。战斗对它来说，只是一次复杂的“实时问题处理演练”。它经常会因为试图在战斗中检索最优解而陷入短暂的卡顿。",Ac="/assets/copper/arcanist/turner/turner.webp",qc="/assets/copper/arcanist/turner/turner.glb",Rc="絮絮",Oc="一位性格内向的织物艺术家创造的伴侣铜偶。“大猫”是由她收集的废弃铜线和皇家织毯的绒线构成的。大休眠时，她正把自己藏在未完成的编织作品里。重启后，她与“大猫”之间的共生联结变得更强，可以共享视觉和情感。",Ec="/assets/copper/resonator/murmur/murmur.webp",zc="/assets/copper/resonator/murmur/murmur.glb",Tc="啾啾",Jc="园林景观用的仿生鸣禽单元，旨在用悦耳的叫声营造宁静氛围。大休眠的能量脉冲超载了它的鸣叫模块，使其声音具备了实体能量。现在，它不仅能召唤机械鸟群，其高频鸣叫本身就能震碎脆弱的敌人。",Bc="/assets/copper/resonator/melody/melody.webp",Hc="/assets/copper/resonator/melody/melody.glb",Nc="库克",Dc="“沸腾海湾”海鲜餐厅的吉祥物兼食材处理员。那双大钳子本是用来敲开蟹壳的。大休眠后，其行为逻辑变得极具攻击性，或许是将所有非友方单位都视为了“待处理的食材”。它移动时总是横着走，据说这样能保持“风味”。",Fc="/assets/copper/resonator/clawster/clawster.webp",Uc="/assets/copper/resonator/clawster/clawster.glb",Vc="鼹鼠的地洞",Wc="鼹鼠先生可以发动技能并且移动到以自己为中心的 3*3 格子中的任意一个空格，不过当然会消耗本回合的移动机会。",Xc="/assets/copper/resonator/diggs/diggs.webp",Yc="/assets/copper/resonator/diggs/diggs.glb",Kc="蜜拉",Qc="皇家花园的授粉与护卫单位。蜂群能采集花蜜，也能用蜂刺驱逐害虫。大休眠似乎增强了蜂群的集群智能和攻击性。蜜拉的核心程序里依然保留着‘保护花园’的最高指令，只是现在她的“花园”范围有点太广了。",Zc="/assets/copper/resonator/hive/hive.webp",ti="/assets/copper/resonator/hive/hive.glb",ni="米洛",ei="皇家舞会上最耀眼的表演者，其高速旋转舞蹈能令观众目眩神迷。他的双臂被改装成了巨大的、永不停止的齿轮。他认为战斗是另一种形式的舞蹈，而胜利就是最华丽的收场姿势。他的日志里写满了对新舞步（战斗技巧）的构思。",oi="/assets/copper/mechanic/gyro/gyro.webp",$i="/assets/copper/mechanic/gyro/gyro.glb",si="杰克",ri="来历不明的街头魔术师，自称师从“齿轮与扑克之神”。没人知道他的扑克牌为何锋利如刀且偶有爆裂效果。他享受观众（或敌人）脸上惊讶的表情。大休眠时，他正在表演最拿手的“消失的王冠”戏法，王冠至今没人找到。",ci="/assets/copper/mechanic/tricky/tricky.webp",ii="/assets/copper/mechanic/tricky/tricky.glb",_i="格洛克",ai="矗立在王朝中心广场大钟楼里的钟表匠铜偶。大休眠的那一刻，他的指针永远停在了那一刻。重启后，他发现自己的核心与“时间的碎片”产生了共鸣，能短暂地影响周围事物的速度。他说话总是带着精确的节奏感。",li="/assets/copper/mechanic/pendulum/pendulum.webp",ui="/assets/copper/mechanic/pendulum/pendulum.glb",pi="溜溜",mi="一个沉迷于街头游戏的少年铜偶，因为出色的悠悠球技巧而小有名气。大休眠时，他最喜欢的磁性悠悠球与他的核心发生了奇妙的融合。现在，他能用意念控制它飞出各种不可思议的轨迹，但他依然觉得这只是一个超酷的游戏。",di="/assets/copper/mechanic/yoyo/yoyo.webp",bi="/assets/copper/mechanic/yoyo/yoyo.glb",fi="卡琳",gi="一位光学艺术家的杰作，其核心是一块完美的万花筒镜组。她能操控光线制造出令人迷惑的幻象和具有杀伤力的彩色能量碎片。她追求极致的视觉体验，认为一场胜利如果不够绚丽，那将毫无意义。她正在寻找世界上最美的光。",hi="/assets/copper/mechanic/karin/karin.webp",ki="/assets/copper/mechanic/karin/karin.glb",wi="波波",Mi="王城机动修理班的成员，总是带着乐观的笑容和一套无所不包的工具。他的逻辑很简单：东西坏了，就修好它。如果修不好，就敲到它能暂时工作为止。他认得几乎所有型号铜偶的螺丝规格。",yi="/assets/copper/craftsman/wrench/wrench.webp",Si="/assets/copper/craftsman/wrench/wrench.glb",Ci="特斯拉",xi="能量研究院的特聘顾问，痴迷于电磁线圈的极限应用。他的思维速度和他的语速一样快，经常跳过“安全验证”直接进入“实践阶段”。他的实验室是全院投保金额最高的地方。他认为大休眠是一次“前所未有的能量实践”。",Li="/assets/copper/craftsman/coil/coil.webp",Ii="/assets/copper/craftsman/coil/coil.glb",Pi="公输",Gi="一位恪守古法的老派工匠，信奉“坚固耐用”高于一切。他制造的自动炮台简单、可靠，能在最恶劣的环境下持续工作数百年。他对如今流行的‘华丽但脆弱的玩意’嗤之以鼻。他的记忆体里储存着许多失传的铸造工艺。",vi="/assets/copper/craftsman/artifex/artifex.webp",ji="/assets/copper/craftsman/artifex/artifex.glb",Ai="丁格",qi="矿业协会的王牌钻探手，他的钻头突破过最坚硬的岩层。他认为世界上的一切问题都可以通过“钻过去”来解决。大休眠时，他正在向地心进军。重启后，他发现自己离目标似乎更远了，但这并不能打消他的热情。",Ri="/assets/copper/craftsman/drillbit/drillbit.webp",Oi="/assets/copper/craftsman/drillbit/drillbit.glb",Ei="小卯",zi="工匠协会最年轻的速建记录保持者。她能在极短时间内完成从设计到建造的全过程，虽然有时为了速度会牺牲一点美观。她喜欢挑战，享受别人看到她作品时发出的惊叹。她正打算给自己建一座移动工作室。",Ti="/assets/copper/craftsman/quickhand/quickhand.webp",Ji="/assets/copper/craftsman/quickhand/quickhand.glb",Bi={type_msg:"upgrade_cost_error",content:"升级等级错误"},Hi={_0:2,_1:50},Ni={_0:1,_1:0},Di={_0:4,_1:0},Fi={_0:3,_1:0},Ui={_0:0,_1:0},Vi={type_msg:"resource_not_enough",content:"资源不足"},Wi={type_msg:"resource_not_enough",content:"资源不足"},Xi=[0,10,15,20,25,30,30,30,30,30,30],Yi={_0:2,_1:2},Ki={_0:5,_1:5},Qi={_0:6,_1:5},Zi={_0:7,_1:5},t_={_0:5,_1:5},n_={_0:7,_1:5},e_={_0:6,_1:5},o_={_0:3,_1:3},$_=new Ye(0),s_=new Ye(1),r_={_0:0,_1:0},c_={_0:0,_1:6},i_={_0:0,_1:7},__={_0:0,_1:8},a_={_0:-1,_1:0},l_={_0:1,_1:0},u_={_0:0,_1:-1},p_={_0:0,_1:1},m_={_0:0,_1:6},d_={_0:0,_1:7},b_={_0:0,_1:8},f_=hr(),g_={name:"钢盾",description:"持续10回合，保护相邻8格的单位2回合不受伤害（自己仍会受到伤害）。",resource_url:"/assets/copper/iron_wall/rocky/rocky_skill.webp",cool_down:10},h_={name:Xr,copper_type:0,description:Yr,icon_url:Kr,model_url:Qr,skill:g_},k_={name:"锅炉过热",description:"自己受到最大生命值 20% 的伤害，对周围的敌人都造成无视防御力、无法被闪避的、数值为自己最大生命值 15% 的伤害。",resource_url:"/assets/copper/iron_wall/wesley/wesley_skill.webp",cool_down:10},w_={name:Zr,copper_type:0,description:tc,icon_url:nc,model_url:ec,skill:k_},M_={name:"铜墙铁壁",description:"大贝尔的攻击力永远等于防御力的值（攻击力的成长与装备都无法影响攻击力的数值）。",resource_url:"/assets/copper/iron_wall/bell/bell_skill.webp",cool_down:void 0},y_={name:oc,copper_type:0,description:$c,icon_url:sc,model_url:rc,skill:M_},S_={name:"翻滚",description:"团团的所有防御力将会被计算为闪避的百分比（按照 1:1 的比例，防御力的成长与装备都无法影响防御力的数值）。",resource_url:"/assets/copper/iron_wall/tumble/tumble_skill.webp",cool_down:void 0},C_={name:cc,copper_type:0,description:ic,icon_url:_c,model_url:ac,skill:S_},x_={name:"队长光辉",description:"铿铿身边 3x3 范围内的战士都可以获得 20% 的攻击力加成与 10% 的防御力加成，这一技能的计算总是会发生在所有被动技能之前，以免影响其他有属性换算的英雄角色的数值计算混乱。",resource_url:"/assets/copper/iron_wall/chief/chief_skill.webp",cool_down:void 0},L_={name:lc,copper_type:0,description:uc,icon_url:pc,model_url:mc,skill:x_},I_={name:"电火花",description:"对与自己相邻的敌人全部造成 100 点伤害。",resource_url:"/assets/copper/arcanist/spark/spark_skill.webp",cool_down:20},P_={name:dc,copper_type:1,description:bc,icon_url:fc,model_url:gc,skill:I_},G_={name:"糕点魔法",description:"对敌人造成伤害的 20% 将会转换为自己的生命值。",resource_url:"/assets/copper/arcanist/syrup/syrup_skill.webp",cool_down:void 0},v_={name:hc,copper_type:1,description:kc,icon_url:wc,model_url:Mc,skill:G_},j_={name:"完美气泡",description:"创造一个可以保护自己的完美气泡，接下来的三回合内不会受到伤害。",resource_url:"/assets/copper/arcanist/bubble/bubble_skill.webp",cool_down:10},A_={name:yc,copper_type:1,description:Sc,icon_url:Cc,model_url:xc,skill:j_},q_={name:"脉冲光线",description:"菲尼击败敌人之后，敌人会对相邻的敌人放出脉冲光线，造成其（敌人）最大生命 20% 的伤害。",resource_url:"/assets/copper/arcanist/glimmer/glimmer_skill.webp",cool_down:void 0},R_={name:Lc,copper_type:1,description:Ic,icon_url:Pc,model_url:Gc,skill:q_},O_={name:"知识的力量",description:"卷卷翻阅知识书后，强化下一次攻击，可以造成 200% 的伤害。",resource_url:"/assets/copper/arcanist/turner/turner_skill.webp",cool_down:5},E_={name:vc,copper_type:1,description:jc,icon_url:Ac,model_url:qc,skill:O_},z_={name:"大猫守护",description:"絮絮受到伤害时，大猫会抓伤敌人，造成固定的 20 点伤害。",resource_url:"/assets/copper/resonator/murmur/murmur_skill.webp",cool_down:void 0},T_={name:Rc,copper_type:4,description:Oc,icon_url:Ec,model_url:zc,skill:z_},J_={name:"啾啾的歌",description:"啾啾击败敌人之后，与该敌人相邻的敌方单位（联通即可）全部都受到 5 点伤害",resource_url:"/assets/copper/resonator/melody/melody_skill.webp",cool_down:void 0},B_={name:Tc,copper_type:4,description:Jc,icon_url:Bc,model_url:Hc,skill:J_},H_={name:"蜕壳",description:"库克在血量小于等于 0 时，将会吸取周围八格内己方铜偶的血量，从血量最高的铜偶开始吸取，直到自己满血或者没有铜偶可以吸取为止。",resource_url:"/assets/copper/resonator/clawsteak/clawster_skill.webp",cool_down:void 0},N_={name:Nc,copper_type:4,description:Dc,icon_url:Fc,model_url:Uc,skill:H_},D_={name:"鼹鼠的地洞",description:"鼹鼠先生可以发动技能并且移动到以自己为中心的 3*3 格子中的任意一个空格，不过当然会消耗本回合的移动机会。",resource_url:"/assets/copper/resonator/diggs/diggs_skill.webp",cool_down:void 0},F_={name:Vc,copper_type:4,description:Wc,icon_url:Xc,model_url:Yc,skill:D_},U_={name:"蜂群守护",description:"蜜拉击败敌人之后，蜂群会守护蜜拉，蜂群会攻击蜜拉周围的敌人，造成 10 点伤害。",resource_url:"/assets/copper/resonator/hive/hive_skill.webp",cool_down:void 0},V_={name:Kc,copper_type:4,description:Qc,icon_url:Zc,model_url:ti,skill:U_},W_={name:"铜舞者",description:"米洛为身边八格的己方单位额外提供一次自己的普通恢复。",resource_url:"/assets/copper/mechanic/gyro/gyro_skill.webp",cool_down:10},X_={name:ni,copper_type:3,description:ei,icon_url:oi,model_url:$i,skill:W_},Y_={name:"齿轮魔术",description:"如果杰克身边有齿轮屏障，杰克可以直接使用技能摧毁它。",resource_url:"/assets/copper/mechanic/tricky/tricky_skill.webp",cool_down:10},K_={name:si,copper_type:3,description:ri,icon_url:ci,model_url:ii,skill:Y_},Q_={name:"时间回溯",description:"格洛克可以回到上个回合的血量。",resource_url:"/assets/copper/mechanic/pendulum/pendulum_skill.webp",cool_down:5},Z_={name:_i,copper_type:3,description:ai,icon_url:li,model_url:ui,skill:Q_},ta={name:"悠悠",description:"悠悠可以选择发动技能，浪费本回合的治疗机会，转而对相邻的敌人造成伤害，伤害为攻击力的 200%。",resource_url:"/assets/copper/mechanic/yoyo/yoyo_skill.webp",cool_down:3},na={name:pi,copper_type:3,description:mi,icon_url:di,model_url:bi,skill:ta},ea={name:"致幻碎片",description:"卡琳的闪避率永远比原数值翻倍。",resource_url:"/assets/copper/mechanic/karin/karin_skill.webp",cool_down:void 0},oa={name:fi,copper_type:3,description:gi,icon_url:hi,model_url:ki,skill:ea},$a=void 0,sa={name:wi,copper_type:2,description:Mi,icon_url:yi,model_url:Si,skill:$a},ra=void 0,ca={name:Ci,copper_type:2,description:xi,icon_url:Li,model_url:Ii,skill:ra},ia=void 0,_a={name:Pi,copper_type:2,description:Gi,icon_url:vi,model_url:ji,skill:ia},aa=void 0,la={name:Ai,copper_type:2,description:qi,icon_url:Ri,model_url:Oi,skill:aa},ua=void 0,dn=[h_,w_,y_,C_,L_,P_,v_,A_,R_,E_,T_,B_,N_,F_,V_,X_,K_,Z_,na,oa,sa,ca,_a,la,{name:Ei,copper_type:2,description:zi,icon_url:Ti,model_url:Ji,skill:ua}],pa=Ll(t=>{const n=dn.length;let o=0;for(;;){const s=o;if(s<n){const e=dn[s];if(t({_0:e.name,_1:e})===1){o=s+1|0;continue}else return 0}else return 1}}),Sn=Cs(),Cn=o0(),ma=Cs(),x$=Wu(),V=Jp(),Re=io(8),L$=Xa(8),nn=wp(void 0),Lo=[{name:"不稳定的欢乐扳手",description:"工匠特斯拉的早期实验品之一。其内部嵌入了“情绪感应核心”，使用者的心情越愉悦，它的工作效率就越不稳定。实验日志上写着：“今天它帮我修好了三盏灯，但也让我的咖啡机跳了一整天的踢踏舞。",resource_url:"/assets/equipment/wrench.webp",attribute:Q(Math.fround(0),Math.fround(5),Math.fround(0),Math.fround(2))},{name:"锅盖君的绝对防御",description:"这并非制式装备，而是卫斯理在皇家厨房工作时获得的“馈赠”。在一次锅炉意外中，这口锅盖被注入了过量的“心源能量”，从此变得异常坚固。锅底还隐约可见一块焦黑的糖渍。",resource_url:"/assets/equipment/lid.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(5),Math.fround(2))},{name:"万用齿轮口袋",description:"小卯的随身百宝袋。她声称“没有一个问题是扔出一个合适的齿轮解决不了的”。袋子里似乎连接着一个微小的亚空间，总能摸出点意想不到的小玩意儿，当然，偶尔也会摸出午饭吃剩的螺丝螺母。",resource_url:"/assets/equipment/gear_pocket.webp",attribute:Q(Math.fround(0),Math.fround(1),Math.fround(1),Math.fround(1))},{name:"毛团的线团堡垒",description:"絮絮的移动家园。这些毛线来自王朝最柔软的“云羊”绒毛，并由她亲手混入导电铜丝编织而成。既提供了无与伦比的舒适感，也能在必要时释放静电，驱赶不怀好意的小型害虫。",resource_url:"/assets/equipment/line_fortress.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(3),Math.fround(5))},{name:"流光溢彩的棱镜",description:"菲尼的私人收藏。据说是她从王朝大剧院的顶级聚光灯上“借”来的核心镜片。她时常对着它调整自己法术的光效配色，并声称“合适的打光能让胜利的戏剧性翻倍”。",resource_url:"/assets/equipment/prism.webp",attribute:Q(Math.fround(0),Math.fround(10),Math.fround(0),Math.fround(3))},{name:"掘掘的幸运罗盘",description:"鼹鼠先生最珍视的物品。指针永远指向“地脉能量最活跃”的方向，据他说那就是宝藏的方向。尽管他十次有九次会挖到废弃水管，但他依然坚信这个罗盘是世界上最准确的。",resource_url:"/assets/equipment/compass.webp",attribute:Q(Math.fround(0),Math.fround(8),Math.fround(0),Math.fround(10))},{name:"哨歌的共鸣笛",description:"园林司为啾啾特制的沟通工具。其特定的频率能与大多数机械鸟类单元产生共鸣。在和平年代，它用来指挥鸟群摆出欢迎阵型。现在，则用来召唤它们进行“协同作战”。",resource_url:"/assets/equipment/flute.webp",attribute:Q(Math.fround(20),Math.fround(0),Math.fround(0),Math.fround(5))},{name:"书页的速记羽毛笔",description:"大书库配发给卷卷的辅助工具。它能自动记录周围的重要信息并归档。缺点是有点话痨，总爱在空白处添加大量无关紧要的脚注和个人评论。",resource_url:"/assets/equipment/quill_pen.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(0))},{name:"钟摆的时之碎片",description:"在“大休眠”发生的那一瞬间，中心广场的钟楼核心崩裂出的碎片。格洛克找到了它，并声称碎片中封存着“丢失的一秒钟”。触摸它时，能感到一种奇异的迟滞感。",resource_url:"/assets/equipment/fragment.webp",attribute:Q(Math.fround(10),Math.fround(0),Math.fround(0),Math.fround(5))},{name:"旋旋的舞会请柬",description:"上一次皇家舞会发给米洛的请柬。舞会因大休眠未能举行，但这张请柬却被米洛注入了对舞蹈的极致热情。它能使持有者的动作变得如舞蹈般优雅且难以预测。",resource_url:"/assets/equipment/invitation.webp",attribute:Q(Math.fround(0),Math.fround(0),Math.fround(0),Math.fround(20))}],nt=Pl(t=>{const n=Lo.length;let o=0;for(;;){const s=o;if(s<n){const e=Lo[s];if(t({_0:e.name,_1:e})===1){o=s+1|0;continue}else return 0}else return 1}}),Oe=[{level:1,health:Math.fround(30),attack:Math.fround(5),defense:Math.fround(0),dodge:Math.fround(0),attack_range:1,move_range:2,name:"哥布林",description:"哥布林并非铜曜王朝的原生种族，而是一群在王朝崩溃后，趁机潜入地牢的'拾荒者'。它们对心源科技一知半解，但天生对机械有着诡异的亲和力，擅长拆解、偷窃和利用废墟中的一切。它们不是最强大的敌人，但非常狡猾，会设置陷阱、偷走玩家的临时增益，或是呼叫同伴。击败它们有时能获得一些意想不到的小玩意和零件。",asset_url:"/assets/enemy/goblin/goblin.webp",model_url:"/assets/enemy/goblin/goblin.glb",drop_items:[{_0:L(new A(0),1),_1:.5},{_0:L(new A(3),2),_1:.6},{_0:L(new Y(ot(et(nt,"书页的速记羽毛笔"))),1),_1:.05}]},{level:1,health:Math.fround(100),attack:Math.fround(20),defense:Math.fround(5),dodge:Math.fround(10),attack_range:1,move_range:1,name:"锈蚀巡游者",description:"曾是王城负责除锈保养的工役，核心程序错乱后，反而开始传播锈蚀。它们是地牢中最常见的退化力量。",asset_url:"/assets/enemy/cruiser/cruiser.webp",model_url:"/assets/enemy/cruiser/cruiser.glb",drop_items:[{_0:L(new A(0),2),_1:.7},{_0:L(new A(3),1),_1:.5},{_0:L(new Y(ot(et(nt,"万用齿轮口袋"))),1),_1:.06}]},{level:2,health:Math.fround(40),attack:Math.fround(5),defense:Math.fround(3),dodge:Math.fround(0),attack_range:1,move_range:2,name:"齿轮斥候",description:"朝军队用来巡逻和送信的自动机械犬。失控后，它们依然在漫无目的地'巡逻'，并将任何移动单位视为入侵者。",asset_url:"/assets/enemy/scout/scout.webp",model_url:"/assets/enemy/scout/scout.glb",drop_items:[{_0:L(new A(0),2),_1:.6},{_0:L(new A(3),2),_1:.7},{_0:L(new A(1),1),_1:.2},{_0:L(new Y(ot(et(nt,"不稳定的欢乐扳手"))),1),_1:.08}]},{level:3,health:Math.fround(200),attack:Math.fround(30),defense:Math.fround(20),dodge:Math.fround(0),attack_range:1,move_range:1,name:"蒸汽拳手",description:" 矿区使用的重型劳工铜偶，拥有惊人的力量。现在，它们只会重复最简单的指令：用蒸汽动力重拳粉碎眼前的障碍。",asset_url:"/assets/enemy/boxer/boxer.webp",model_url:"/assets/enemy/boxer/boxer.glb",drop_items:[{_0:L(new A(0),3),_1:.8},{_0:L(new A(3),3),_1:.8},{_0:L(new A(1),1),_1:.3},{_0:L(new Y(ot(et(nt,"锅盖君的绝对防御"))),1),_1:.1}]},{level:2,health:Math.fround(10),attack:Math.fround(20),defense:Math.fround(5),dodge:Math.fround(0),attack_range:3,move_range:1,name:"管风琴号手",description:"皇家乐团的自动乐器成员之一，原本奏响庄严乐章。如今，它的乐曲变成了撕裂耳膜、扰乱心智的噪音攻击。",asset_url:"/assets/enemy/horn/horn.webp",model_url:"/assets/enemy/horn/horn.glb",drop_items:[{_0:L(new A(0),2),_1:.7},{_0:L(new A(4),1),_1:.4},{_0:L(new Y(ot(et(nt,"哨歌的共鸣笛"))),1),_1:.07}]},{level:2,health:Math.fround(20),attack:Math.fround(50),defense:Math.fround(0),dodge:Math.fround(20),attack_range:1,move_range:2,name:"发条刺客",description:"阴影中的守护者，负责处理见不得光的威胁。程序失控后，它们的刺杀名单上写满了所有活物。",asset_url:"/assets/enemy/assassin/assassin.webp",model_url:"/assets/enemy/assassin/assassin.glb",drop_items:[{_0:L(new A(0),2),_1:.7},{_0:L(new A(3),2),_1:.6},{_0:L(new A(1),1),_1:.4},{_0:L(new Y(ot(et(nt,"毛团的线团堡垒"))),1),_1:.08}]},{level:5,health:Math.fround(300),attack:Math.fround(10),defense:Math.fround(20),dodge:Math.fround(0),attack_range:1,move_range:1,name:"锅炉吞噬者",description:"地牢的能量回收单元，负责将废弃物转化为蒸汽动力。如今它变得无比贪婪，会主动吞噬任何金属物体，包括掉队的铜偶。",asset_url:"/assets/enemy/devourer/devourer.glb",model_url:"/assets/enemy/devourer/devourer.glb",drop_items:[{_0:L(new A(0),4),_1:.85},{_0:L(new A(3),4),_1:.8},{_0:L(new A(1),2),_1:.5},{_0:L(new Y(ot(et(nt,"钟摆的时之碎片"))),1),_1:.12}]},{level:6,health:Math.fround(20),attack:Math.fround(80),defense:Math.fround(0),dodge:Math.fround(0),attack_range:2,move_range:1,name:"镜面编织者",description:"用于宫廷娱乐和谜题守护的精密造物。它能创造以假乱真的幻象来迷惑入侵者，本身十分脆弱，但极难被真正触及。",asset_url:"/assets/enemy/mirror/mirror.webp",model_url:"/assets/enemy/mirror/mirror.glb",drop_items:[{_0:L(new A(0),3),_1:.8},{_0:L(new A(4),2),_1:.6},{_0:L(new A(1),1),_1:.5},{_0:L(new Y(ot(et(nt,"流光溢彩的棱镜"))),1),_1:.15}]},{level:7,health:Math.fround(150),attack:Math.fround(30),defense:Math.fround(20),dodge:Math.fround(10),attack_range:1,move_range:1,name:"巨锤守卫",description:"王城宝库和重要大门的守卫者。即使失控，它们依然固守着生前的位置，用最纯粹的力量碾碎一切未经许可的靠近者。",asset_url:"/assets/enemy/guard/guard.webp",model_url:"/assets/enemy/guard/guard.glb",drop_items:[{_0:L(new A(0),4),_1:.9},{_0:L(new A(3),5),_1:.85},{_0:L(new A(1),2),_1:.6},{_0:L(new Y(ot(et(nt,"锅盖君的绝对防御"))),1),_1:.15}]},{level:8,health:Math.fround(50),attack:Math.fround(30),defense:Math.fround(5),dodge:Math.fround(0),attack_range:5,move_range:1,name:"差分机妖",description:"王朝计算中心的智能核心碎片，拥有强大的逻辑运算能力。它将战斗视为一场需要'计算'和'优化'的数学问题，是极其难缠的精英敌人。",asset_url:"/assets/enemy/demon/demon.webp",model_url:"/assets/enemy/demon/demon.glb",drop_items:[{_0:L(new A(0),5),_1:.9},{_0:L(new A(4),3),_1:.75},{_0:L(new A(1),2),_1:.7},{_0:L(new Y(ot(et(nt,"掘掘的幸运罗盘"))),1),_1:.18}]},{level:9,health:Math.fround(200),attack:Math.fround(40),defense:Math.fround(20),dodge:Math.fround(0),attack_range:1,move_range:1,name:"心源畸变体",description:"它曾是王朝庆典的中央娱乐单元——'欢宴主脑'。大休眠时，过量的心源能量没有摧毁它，反而让它陷入了永久的、失控的狂喜状态。它将地牢变成了它个人的派对现场，并'热情'地邀请（或者说强迫）所有闯入者加入它混乱的欢宴。它会用五彩的声光、抛洒的零件和看似可爱实则威力巨大的玩具进行攻击。击败它，就是终结这场永无止境的噪音派对。",asset_url:"/assets/enemy/variant/variant.webp",model_url:"/assets/enemy/variant/variant.glb",drop_items:[{_0:L(new A(0),6),_1:.95},{_0:L(new A(3),5),_1:.85},{_0:L(new A(4),3),_1:.8},{_0:L(new A(1),3),_1:.75},{_0:L(new Y(ot(et(nt,"旋旋的舞会请柬"))),1),_1:.2}]},{level:11,health:Math.fround(1e3),attack:Math.fround(80),defense:Math.fround(50),dodge:Math.fround(0),attack_range:1,move_range:1,name:"（BOSS）织网夫人·夏特拉",description:"夏特拉曾是王朝的'信息架构师'，负责维护整个王城的心源能量网络。大休眠发生时，她为了稳定网络，选择将自己的核心与主控终端永久连接。数百年的孤独守护和能量侵蚀让她变得偏执，她认为任何外来者都是不稳定的'病毒'，会破坏她精心维持的、死寂的'平衡'。她会操纵整个地牢的机关和能量流来攻击玩家，将玩家视为需要清除的系统威胁。",asset_url:"/assets/enemy/shatra/shatra.webp",model_url:"/assets/enemy/shatra/shatra.glb",drop_items:[{_0:L(new A(0),15),_1:1},{_0:L(new A(3),10),_1:1},{_0:L(new A(4),8),_1:1},{_0:L(new A(1),5),_1:1},{_0:L(new Y(ot(et(nt,"流光溢彩的棱镜"))),1),_1:.6},{_0:L(new Y(ot(et(nt,"掘掘的幸运罗盘"))),1),_1:.5},{_0:L(new Y(ot(et(nt,"旋旋的舞会请柬"))),1),_1:.5}]},{level:11,health:Math.fround(3e3),attack:Math.fround(50),defense:Math.fround(50),dodge:Math.fround(0),attack_range:1,move_range:1,name:"（BOSS）废械吞噬者·饕餮",description:"它不是被制造的，而是'生长'出来的。在王朝崩溃的废墟中，一个简单的'垃圾处理'核心程序发生了可怕的变异，它开始主动吞噬遇到的一切机械体，并将它们的功能和结构粗暴地整合到自己身上。它代表着纯粹的、无意识的毁灭与贪婪，是地牢中会移动的天灾。击败它需要攻击其身上不断变化的弱点核心。",asset_url:"/assets/enemy/glutton/glutton.webp",model_url:"/assets/enemy/glutton/glutton.glb",drop_items:[{_0:L(new A(0),20),_1:1},{_0:L(new A(3),15),_1:1},{_0:L(new A(4),10),_1:1},{_0:L(new A(1),8),_1:1},{_0:L(new Y(ot(et(nt,"不稳定的欢乐扳手"))),1),_1:.4},{_0:L(new Y(ot(et(nt,"锅盖君的绝对防御"))),1),_1:.4},{_0:L(new Y(ot(et(nt,"哨歌的共鸣笛"))),1),_1:.4},{_0:L(new Y(ot(et(nt,"钟摆的时之碎片"))),1),_1:.4}]}],da=Ua(Oe),ba=Il(t=>da(n=>t({_0:n.name,_1:n}))),I$=[{_0:160,_1:160},{_0:5760,_1:5760},{_0:8192,_1:8202},{_0:8232,_1:8233},{_0:8239,_1:8239},{_0:8287,_1:8287},{_0:12288,_1:12288},{_0:65279,_1:65279}],Ee=Xt(dr),fa=Xt(br),ze=Xt(fr),P$=kn(c$,52),Te=io(8);function xn(t){I()}function ga(t){return I()}function ee(t){return I()}function ha(t){return I()}function ka(t){return I()}function wa(t){return I()}function Ma(t){return I()}function Je(t,n){return fe(t,n)>=0}function ya(t,n){return ge(t,n)>=0}function gn(t,n){return fe(t,n)<=0}function Sa(t,n){return ge(t,n)<=0}function me(t,n){return fe(t,n)<0}function Be(t,n){return ge(t,n)<0}function Ca(t,n,o,s,e){if(t===o&&n<s){let $=0;for(;;){const c=$;if(c<e){const r=n+c|0,i=s+c|0;u(o,i),u(t,r),t[r]=o[i],$=c+1|0;continue}else return}}else{let $=e-1|0;for(;;){const c=$;if(c>=0){const r=n+c|0,i=s+c|0;u(o,i),u(t,r),t[r]=o[i],$=c-1|0;continue}else return}}}function xa(t,n,o,s,e){if(t===o&&n<s){let $=0;for(;;){const c=$;if(c<e){const r=n+c|0,i=s+c|0;u(o,i),u(t,r),t[r]=o[i],$=c+1|0;continue}else return}}else{let $=e-1|0;for(;;){const c=$;if(c>=0){const r=n+c|0,i=s+c|0;u(o,i),u(t,r),t[r]=o[i],$=c-1|0;continue}else return}}}function Jt(t){return{val:""}}function B(t,n){const o=t;o.val=`${o.val}${String.fromCodePoint(n)}`}function G$(t,n){return fe(t,n)>0}function oe(t,n){return ge(t,n)>0}function La(t,n){return(((Math.imul(t-55296|0,1024)|0)+n|0)-56320|0)+65536|0}function k(t,n){const o=t.charCodeAt(n);if(55296<=o&&o<=56319){const s=n+1|0,e=t.charCodeAt(s);return La(o,e)}else return o}function Ia(t,n){return!Ip(t,n)}function it(t,n){const o=t.length;return n>=0&&n<o?(u(t,n),t[n]):I()}function _t(t,n){const o=t.length;return n>=0&&n<o?(u(t,n),t[n]):I()}function mt(t,n){const o=t.length;return n>=0&&n<o?(u(t,n),t[n]):I()}function Pa(t,n){const o=t.length;return n<o?(u(t,n),t[n]):I()}function Ga(t,n){const o=t.length;return n>=0&&n<o?(u(t,n),t[n]):I()}function va(t,n){const o=t.length;return n>=0&&n<o?(u(t,n),t[n]):I()}function Io(t,n){const o=t.length;return n>=0&&n<o?(u(t,n),t[n]):I()}function J(t,n){const o=t;o.val=`${o.val}${n}`}function It(t){const n=t._0,o=t._1,s=[z(n),z(o)];return new Ct(s)}function ja(t){const n=t._0,o=t._1,s=[As(n),vl(o)];return new Ct(s)}function Aa(t,n){iu(n,t)}function qa(t,n){Rp(n,t)}function Ra(t,n){Oa(n,t)}function He(t,n){_u(n,t)}function Oa(t,n){const o=t._0,s=t._1;He(n,o),He(n,s)}function Ea(t){let n=t.acc;return n=n^(n>>>15|0),n=Math.imul(n,-2048144777)|0,n=n^(n>>>13|0),n=Math.imul(n,-1028477379)|0,n=n^(n>>>16|0),n}function de(t){return Ea(t)}function za(t){return{acc:(t>>>0)+374761393|0}}function be(t){let n;return n=f_,za(n)}function Bt(t){const n=be();return Aa(n,t),de(n)}function v$(t){const n=be();return qa(n,t),de(n)}function j$(t){const n=be();return Ra(n,t),de(n)}function no(t){const n=be();return He(n,t),de(n)}function Ta(t){const n=Jt();return u0(t,{self:n,method_0:J,method_1:Ln,method_2:B}),n.val}function A$(t){const n=Jt(),o={self:n,method_0:J,method_1:Ln,method_2:B};return o.method_0(o.self,"true"),n.val}function Ja(t){return{hi:t>>31&-1,lo:t|0}}function ut(t){return Ja(t)}function Dt(t){return t.lo}function q$(t,n){const o=t._1,s=t._0,e=n/s|0;e!==0&&q$(t,e);const $=n%s|0,c=$<0?0-$|0:$;u("0123456789abcdefghijklmnopqrstuvwxyz",c),o.method_2(o.self,"0123456789abcdefghijklmnopqrstuvwxyz".charCodeAt(c))}function Ba(t,n,o){t<0&&n.method_2(n.self,45),q$({_0:o,_1:n},t<0?0-t|0:t)}function Ha(t,n){const o=Jt();return Ba(t,{self:o,method_0:J,method_1:Ln,method_2:B},n),o.val}function dt(t){return Ha(t,10)}function R$(t){return t.lo}function Na(t,n,o){const s=t.length;let e;return o===void 0?e=s:e=o,n>=0&&n<=e&&e<=s?t.substring(n,e):I()}function Ln(t,n,o,s){const e=t;e.val=`${e.val}${Na(n,o,o+s|0)}`}function Da(t,n){pu(n,{self:t,method_0:J,method_1:Ln,method_2:B})}function Po(t){return t<10?(t+48|0)&255:(((t+97|0)&255)-10|0)&255}function Fa(t){const n=Jt();return B(n,Po((t/16|0)&255)),B(n,Po((t%16|0)&255)),n.val}function Ua(t){return o=>{const s=t.length;let e=0;for(;;){const $=e;if($<s){const c=t[$];if(o(c)!==1)return 0;e=$+1|0;continue}else return 1}}}function Va(t){return t.$tag===0?I():t._0}function pt(t){return t>=0?t<=1?1:t>1073741824?1073741824:(2147483647>>(Math.clz32(t-1|0)-1|0))+1|0:I()}function O$(t){const n=pt(t),o=n-1|0,s=(Math.imul(n,13)|0)/16|0;return{entries:Z(n,void 0),size:0,capacity:n,capacity_mask:o,grow_at:s,head:void 0,tail:-1}}function Wa(t){const n=pt(t),o=n-1|0,s=(Math.imul(n,13)|0)/16|0;return{entries:Z(n,void 0),size:0,capacity:n,capacity_mask:o,grow_at:s,head:void 0,tail:-1}}function Xa(t){const n=pt(t),o=n-1|0,s=(Math.imul(n,13)|0)/16|0;return{entries:Z(n,void 0),size:0,capacity:n,capacity_mask:o,grow_at:s,head:void 0,tail:-1}}function Ya(t){const n=pt(t),o=n-1|0,s=(Math.imul(n,13)|0)/16|0;return{entries:Z(n,void 0),size:0,capacity:n,capacity_mask:o,grow_at:s,head:void 0,tail:-1}}function Ka(t){const n=pt(t),o=n-1|0,s=(Math.imul(n,13)|0)/16|0;return{entries:Z(n,void 0),size:0,capacity:n,capacity_mask:o,grow_at:s,head:void 0,tail:-1}}function Qa(t){const n=pt(t),o=n-1|0,s=(Math.imul(n,13)|0)/16|0;return{entries:Z(n,void 0),size:0,capacity:n,capacity_mask:o,grow_at:s,head:void 0,tail:-1}}function Za(t,n,o){const s=t.tail;if(s===-1)t.head=o;else{const $=t.entries;u($,s);const c=$[s];let r;c===void 0?r=I():r=c,r.next=o}t.tail=n;const e=t.entries;u(e,n),e[n]=o,t.size=t.size+1|0}function tl(t,n,o){const s=t.tail;if(s===-1)t.head=o;else{const $=t.entries;u($,s);const c=$[s];let r;c===void 0?r=I():r=c,r.next=o}t.tail=n;const e=t.entries;u(e,n),e[n]=o,t.size=t.size+1|0}function nl(t,n,o){const s=t.tail;if(s===-1)t.head=o;else{const $=t.entries;u($,s);const c=$[s];let r;c===void 0?r=I():r=c,r.next=o}t.tail=n;const e=t.entries;u(e,n),e[n]=o,t.size=t.size+1|0}function el(t,n,o){const s=t.tail;if(s===-1)t.head=o;else{const $=t.entries;u($,s);const c=$[s];let r;c===void 0?r=I():r=c,r.next=o}t.tail=n;const e=t.entries;u(e,n),e[n]=o,t.size=t.size+1|0}function ol(t,n,o){const s=t.tail;if(s===-1)t.head=o;else{const $=t.entries;u($,s);const c=$[s];let r;c===void 0?r=I():r=c,r.next=o}t.tail=n;const e=t.entries;u(e,n),e[n]=o,t.size=t.size+1|0}function $l(t,n,o){const s=t.tail;if(s===-1)t.head=o;else{const $=t.entries;u($,s);const c=$[s];let r;c===void 0?r=I():r=c,r.next=o}t.tail=n;const e=t.entries;u(e,n),e[n]=o,t.size=t.size+1|0}function Go(t,n,o){const s=t.entries;u(s,o),s[o]=n;const e=n.next;if(e===void 0){t.tail=o;return}else{const c=e;c.prev=o;return}}function vo(t,n,o){const s=t.entries;u(s,o),s[o]=n;const e=n.next;if(e===void 0){t.tail=o;return}else{const c=e;c.prev=o;return}}function jo(t,n,o){const s=t.entries;u(s,o),s[o]=n;const e=n.next;if(e===void 0){t.tail=o;return}else{const c=e;c.prev=o;return}}function Ao(t,n,o){const s=t.entries;u(s,o),s[o]=n;const e=n.next;if(e===void 0){t.tail=o;return}else{const c=e;c.prev=o;return}}function qo(t,n,o){const s=t.entries;u(s,o),s[o]=n;const e=n.next;if(e===void 0){t.tail=o;return}else{const c=e;c.prev=o;return}}function Ro(t,n,o){const s=t.entries;u(s,o),s[o]=n;const e=n.next;if(e===void 0){t.tail=o;return}else{const c=e;c.prev=o;return}}function sl(t,n,o){let s=o.psl+1|0,e=n+1&t.capacity_mask,$=o;for(;;){const c=s,r=e,i=$,_=t.entries;u(_,r);const a=_[r];if(a===void 0){i.psl=c,Go(t,i,r);break}else{const m=a;if(c>m.psl){i.psl=c,Go(t,i,r),s=m.psl+1|0,e=r+1&t.capacity_mask,$=m;continue}else{s=c+1|0,e=r+1&t.capacity_mask;continue}}}}function rl(t,n,o){let s=o.psl+1|0,e=n+1&t.capacity_mask,$=o;for(;;){const c=s,r=e,i=$,_=t.entries;u(_,r);const a=_[r];if(a===void 0){i.psl=c,vo(t,i,r);break}else{const m=a;if(c>m.psl){i.psl=c,vo(t,i,r),s=m.psl+1|0,e=r+1&t.capacity_mask,$=m;continue}else{s=c+1|0,e=r+1&t.capacity_mask;continue}}}}function cl(t,n,o){let s=o.psl+1|0,e=n+1&t.capacity_mask,$=o;for(;;){const c=s,r=e,i=$,_=t.entries;u(_,r);const a=_[r];if(a===void 0){i.psl=c,jo(t,i,r);break}else{const m=a;if(c>m.psl){i.psl=c,jo(t,i,r),s=m.psl+1|0,e=r+1&t.capacity_mask,$=m;continue}else{s=c+1|0,e=r+1&t.capacity_mask;continue}}}}function il(t,n,o){let s=o.psl+1|0,e=n+1&t.capacity_mask,$=o;for(;;){const c=s,r=e,i=$,_=t.entries;u(_,r);const a=_[r];if(a===void 0){i.psl=c,Ao(t,i,r);break}else{const m=a;if(c>m.psl){i.psl=c,Ao(t,i,r),s=m.psl+1|0,e=r+1&t.capacity_mask,$=m;continue}else{s=c+1|0,e=r+1&t.capacity_mask;continue}}}}function _l(t,n,o){let s=o.psl+1|0,e=n+1&t.capacity_mask,$=o;for(;;){const c=s,r=e,i=$,_=t.entries;u(_,r);const a=_[r];if(a===void 0){i.psl=c,qo(t,i,r);break}else{const m=a;if(c>m.psl){i.psl=c,qo(t,i,r),s=m.psl+1|0,e=r+1&t.capacity_mask,$=m;continue}else{s=c+1|0,e=r+1&t.capacity_mask;continue}}}}function al(t,n,o){let s=o.psl+1|0,e=n+1&t.capacity_mask,$=o;for(;;){const c=s,r=e,i=$,_=t.entries;u(_,r);const a=_[r];if(a===void 0){i.psl=c,Ro(t,i,r);break}else{const m=a;if(c>m.psl){i.psl=c,Ro(t,i,r),s=m.psl+1|0,e=r+1&t.capacity_mask,$=m;continue}else{s=c+1|0,e=r+1&t.capacity_mask;continue}}}}function E$(t,n,o,s){t.size>=t.grow_at&&ll(t);let e,$=0,c=s&t.capacity_mask;for(;;){const m=$,p=c,b=t.entries;u(b,p);const h=b[p];if(h===void 0){e={_0:p,_1:m};break}else{const d=h;if(d.hash===s&&d.key===n){d.value=o;return}if(m>d.psl){sl(t,p,d),e={_0:p,_1:m};break}$=m+1|0,c=p+1&t.capacity_mask;continue}}const r=e._0,i=e._1,l={prev:t.tail,next:void 0,psl:i,hash:s,key:n,value:o};Za(t,r,l)}function z$(t,n,o,s){t.size>=t.grow_at&&ul(t);let e,$=0,c=s&t.capacity_mask;for(;;){const m=$,p=c,b=t.entries;u(b,p);const h=b[p];if(h===void 0){e={_0:p,_1:m};break}else{const d=h;if(d.hash===s&&xs(d.key,n)){d.value=o;return}if(m>d.psl){rl(t,p,d),e={_0:p,_1:m};break}$=m+1|0,c=p+1&t.capacity_mask;continue}}const r=e._0,i=e._1,l={prev:t.tail,next:void 0,psl:i,hash:s,key:n,value:o};tl(t,r,l)}function T$(t,n,o,s){t.size>=t.grow_at&&pl(t);let e,$=0,c=s&t.capacity_mask;for(;;){const m=$,p=c,b=t.entries;u(b,p);const h=b[p];if(h===void 0){e={_0:p,_1:m};break}else{const d=h;if(d.hash===s&&d.key===n){d.value=o;return}if(m>d.psl){cl(t,p,d),e={_0:p,_1:m};break}$=m+1|0,c=p+1&t.capacity_mask;continue}}const r=e._0,i=e._1,l={prev:t.tail,next:void 0,psl:i,hash:s,key:n,value:o};nl(t,r,l)}function J$(t,n,o,s){t.size>=t.grow_at&&ml(t);let e,$=0,c=s&t.capacity_mask;for(;;){const m=$,p=c,b=t.entries;u(b,p);const h=b[p];if(h===void 0){e={_0:p,_1:m};break}else{const d=h;if(d.hash===s&&d.key===n){d.value=o;return}if(m>d.psl){il(t,p,d),e={_0:p,_1:m};break}$=m+1|0,c=p+1&t.capacity_mask;continue}}const r=e._0,i=e._1,l={prev:t.tail,next:void 0,psl:i,hash:s,key:n,value:o};el(t,r,l)}function B$(t,n,o,s){t.size>=t.grow_at&&dl(t);let e,$=0,c=s&t.capacity_mask;for(;;){const m=$,p=c,b=t.entries;u(b,p);const h=b[p];if(h===void 0){e={_0:p,_1:m};break}else{const d=h;if(d.hash===s&&d.key===n){d.value=o;return}if(m>d.psl){_l(t,p,d),e={_0:p,_1:m};break}$=m+1|0,c=p+1&t.capacity_mask;continue}}const r=e._0,i=e._1,l={prev:t.tail,next:void 0,psl:i,hash:s,key:n,value:o};ol(t,r,l)}function H$(t,n,o,s){t.size>=t.grow_at&&bl(t);let e,$=0,c=s&t.capacity_mask;for(;;){const m=$,p=c,b=t.entries;u(b,p);const h=b[p];if(h===void 0){e={_0:p,_1:m};break}else{const d=h;if(d.hash===s&&d.key===n){d.value=o;return}if(m>d.psl){al(t,p,d),e={_0:p,_1:m};break}$=m+1|0,c=p+1&t.capacity_mask;continue}}const r=e._0,i=e._1,l={prev:t.tail,next:void 0,psl:i,hash:s,key:n,value:o};$l(t,r,l)}function ll(t){const n=t.head,o=t.capacity<<1;t.entries=Z(o,void 0),t.capacity=o,t.capacity_mask=o-1|0;const s=t.capacity;t.grow_at=(Math.imul(s,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let e=n;for(;;){const $=e;if($===void 0)return;{const r=$,i=r.next,_=r.key,a=r.value,l=r.hash;E$(t,_,a,l),e=i;continue}}}function ul(t){const n=t.head,o=t.capacity<<1;t.entries=Z(o,void 0),t.capacity=o,t.capacity_mask=o-1|0;const s=t.capacity;t.grow_at=(Math.imul(s,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let e=n;for(;;){const $=e;if($===void 0)return;{const r=$,i=r.next,_=r.key,a=r.value,l=r.hash;z$(t,_,a,l),e=i;continue}}}function pl(t){const n=t.head,o=t.capacity<<1;t.entries=Z(o,void 0),t.capacity=o,t.capacity_mask=o-1|0;const s=t.capacity;t.grow_at=(Math.imul(s,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let e=n;for(;;){const $=e;if($===void 0)return;{const r=$,i=r.next,_=r.key,a=r.value,l=r.hash;T$(t,_,a,l),e=i;continue}}}function ml(t){const n=t.head,o=t.capacity<<1;t.entries=Z(o,void 0),t.capacity=o,t.capacity_mask=o-1|0;const s=t.capacity;t.grow_at=(Math.imul(s,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let e=n;for(;;){const $=e;if($===void 0)return;{const r=$,i=r.next,_=r.key,a=r.value,l=r.hash;J$(t,_,a,l),e=i;continue}}}function dl(t){const n=t.head,o=t.capacity<<1;t.entries=Z(o,void 0),t.capacity=o,t.capacity_mask=o-1|0;const s=t.capacity;t.grow_at=(Math.imul(s,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let e=n;for(;;){const $=e;if($===void 0)return;{const r=$,i=r.next,_=r.key,a=r.value,l=r.hash;B$(t,_,a,l),e=i;continue}}}function bl(t){const n=t.head,o=t.capacity<<1;t.entries=Z(o,void 0),t.capacity=o,t.capacity_mask=o-1|0;const s=t.capacity;t.grow_at=(Math.imul(s,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let e=n;for(;;){const $=e;if($===void 0)return;{const r=$,i=r.next,_=r.key,a=r.value,l=r.hash;H$(t,_,a,l),e=i;continue}}}function M(t,n,o){E$(t,n,o,Bt(n))}function N$(t,n,o){z$(t,n,o,v$(n))}function fl(t,n,o){T$(t,n,o,no(n))}function D$(t,n,o){J$(t,n,o,Bt(n))}function F$(t,n,o){B$(t,n,o,Bt(n))}function U$(t,n,o){H$(t,n,o,Bt(n))}function O(t){const n=t.length;let o=pt(n);n>((Math.imul(o,13)|0)/16|0)&&(o=Math.imul(o,2)|0);const e=O$(o),$=t.length;let c=0;for(;;){const r=c;if(r<$){const i=t[r];M(e,i._0,i._1),c=r+1|0;continue}else break}return e}function gl(t){const n=t.length;let o=pt(n);n>((Math.imul(o,13)|0)/16|0)&&(o=Math.imul(o,2)|0);const e=Wa(o),$=t.length;let c=0;for(;;){const r=c;if(r<$){const i=t[r];N$(e,i._0,i._1),c=r+1|0;continue}else break}return e}function hl(t){const n=t.length;let o=pt(n);n>((Math.imul(o,13)|0)/16|0)&&(o=Math.imul(o,2)|0);const e=Ya(o),$=t.length;let c=0;for(;;){const r=c;if(r<$){const i=t[r];D$(e,i._0,i._1),c=r+1|0;continue}else break}return e}function kl(t){const n=t.length;let o=pt(n);n>((Math.imul(o,13)|0)/16|0)&&(o=Math.imul(o,2)|0);const e=Ka(o),$=t.length;let c=0;for(;;){const r=c;if(r<$){const i=t[r];F$(e,i._0,i._1),c=r+1|0;continue}else break}return e}function wl(t){const n=t.length;let o=pt(n);n>((Math.imul(o,13)|0)/16|0)&&(o=Math.imul(o,2)|0);const e=Qa(o),$=t.length;let c=0;for(;;){const r=c;if(r<$){const i=t[r];U$(e,i._0,i._1),c=r+1|0;continue}else break}return e}function X(t,n){const o=Bt(n);let s=0,e=o&t.capacity_mask;for(;;){const $=s,c=e,r=t.entries;u(r,c);const i=r[c];if(i===void 0)return;{const a=i;if(a.hash===o&&a.key===n)return a.value;if($>a.psl)return;s=$+1|0,e=c+1&t.capacity_mask;continue}}}function V$(t,n){const o=v$(n);let s=0,e=o&t.capacity_mask;for(;;){const $=s,c=e,r=t.entries;u(r,c);const i=r[c];if(i===void 0)return;{const a=i;if(a.hash===o&&xs(a.key,n))return a.value;if($>a.psl)return;s=$+1|0,e=c+1&t.capacity_mask;continue}}}function Ml(t,n){const o=no(n);let s=0,e=o&t.capacity_mask;for(;;){const $=s,c=e,r=t.entries;u(r,c);const i=r[c];if(i===void 0)return;{const a=i;if(a.hash===o&&a.key===n)return a.value;if($>a.psl)return;s=$+1|0,e=c+1&t.capacity_mask;continue}}}function yl(t,n){const o=Bt(n);let s=0,e=o&t.capacity_mask;for(;;){const $=s,c=e,r=t.entries;u(r,c);const i=r[c];if(i===void 0)I();else{const a=i;if(a.hash===o&&a.key===n)return a.value;if($<=a.psl){s=$+1|0,e=c+1&t.capacity_mask;continue}else I()}}}function Sl(t,n){const o=Bt(n);let s=0,e=o&t.capacity_mask;for(;;){const $=s,c=e,r=t.entries;u(r,c);const i=r[c];if(i===void 0)I();else{const a=i;if(a.hash===o&&a.key===n)return a.value;if($<=a.psl){s=$+1|0,e=c+1&t.capacity_mask;continue}else I()}}}function et(t,n){const o=Bt(n);let s=0,e=o&t.capacity_mask;for(;;){const $=s,c=e,r=t.entries;u(r,c);const i=r[c];if(i===void 0)I();else{const a=i;if(a.hash===o&&a.key===n)return a.value;if($<=a.psl){s=$+1|0,e=c+1&t.capacity_mask;continue}else I()}}}function Cl(t,n,o,s){const e=t.length;if(e>0)if(o<e){let $;$=e-o|0,t.fill(n,o,o+$);return}else{I();return}else return}function xl(t){return o=>{let s=t.head;for(;;){const e=s;if(e===void 0)return 1;{const c=e,r=c.key,i=c.value,_=c.next;if(o(r,i)===1){s=_;continue}else return 0}}}}function Ll(t){const n=hl([]);return t(o=>(D$(n,o._0,o._1),1)),n}function Il(t){const n=kl([]);return t(o=>(F$(n,o._0,o._1),1)),n}function Pl(t){const n=wl([]);return t(o=>(U$(n,o._0,o._1),1)),n}function Ne(t){return t?o$:$$}function z(t){const n=t+0,o=void 0;return new wn(n,o)}function Gl(t){return{hi:0,lo:t}}function eo(t){return Gl(t)}function De(t){return eo(t)}function $e(t){return wr(t)}function Xt(t){return Mr(t)}function vl(t){if(t!==t){const n="NaN";return new v(n)}else if(t>Xt(yr)){const n="Infinity";return new v(n)}else if(t<Xt(Sr)){const n="-Infinity";return new v(n)}else return new wn(t,void 0)}function yt(t){const n=t,o=void 0;return new wn(n,o)}function jl(t){const n=new Array(t.length),o=t.length;let s=0;for(;;){const e=s;if(e<o){const $=t[e];n[e]=ao($),s=e+1|0;continue}else break}return new Ct(n)}function Al(t){const n=new Array(t.length),o=t.length;let s=0;for(;;){const e=s;if(e<o){const $=t[e];n[e]=As($),s=e+1|0;continue}else break}return new Ct(n)}function ql(t){const n=new Array(t.length),o=t.length;let s=0;for(;;){const e=s;if(e<o){const $=t[e];n[e]=ja($),s=e+1|0;continue}else break}return new Ct(n)}function Rl(t,n){xt(t,n)}function Ol(t,n){xt(t,n)}function El(t,n){xt(t,n)}function W$(t,n){xt(t,n)}function zl(t,n){xt(t,n)}function Tl(t,n){xt(t,n)}function Jl(t,n){xt(t,n)}function Bl(t,n){xt(t,n)}function Hl(t,n){xt(t,n)}function Nl(){return t=>1}function Oo(t){return n=>n(t)}function Dl(t,n){return o=>t(o)===1&&n(o)===1?1:0}function Fl(t){const n=[];return t(o=>(Ol(n,o),1)),n}function Eo(t){return R$(t)&255}function se(t){return ut(t)}function Ul(t){return t.lo===0?{hi:~t.hi+1|0,lo:0}:{hi:~t.hi,lo:~t.lo+1|0}}function X$(t,n,o){const s=t.hi,e=t.lo,$=e+o|0,c=$>>31,r=e>>31,i=o>>31,_=(r&i|~c&(r^i))&1;return{hi:(s+n|0)+_|0,lo:$}}function Y$(t,n){return X$(t,n.hi,n.lo)}function K$(t,n){return n.lo===0?{hi:t.hi-n.hi|0,lo:t.lo}:X$(t,~n.hi,~n.lo+1|0)}function Q$(t,n){const o=t.hi,s=t.lo,e=n.hi,$=n.lo,c=o,r=s,i=e,_=$,a=c>>>16|0,l=c&65535,m=r>>>16|0,p=r&65535,b=i>>>16|0,h=i&65535,g=_>>>16|0,d=_&65535,y=Math.imul(p,d)|0,S=y>>>16|0,x=y&65535,w=(S>>>0)+((Math.imul(m,d)|0)>>>0)|0,j=w>>>16|0,R=((w&65535)>>>0)+((Math.imul(p,g)|0)>>>0)|0,C=(j>>>0)+((R>>>16|0)>>>0)|0,G=R&65535,E=(C>>>0)+((Math.imul(l,d)|0)>>>0)|0,T=E>>>16|0,W=((E&65535)>>>0)+((Math.imul(m,g)|0)>>>0)|0,F=(T>>>0)+((W>>>16|0)>>>0)|0,ht=((W&65535)>>>0)+((Math.imul(p,h)|0)>>>0)|0,Kt=(F>>>0)+((ht>>>16|0)>>>0)|0,Gt=ht&65535;return{hi:(((((((((Kt>>>0)+((Math.imul(a,d)|0)>>>0)|0)>>>0)+((Math.imul(l,g)|0)>>>0)|0)>>>0)+((Math.imul(m,h)|0)>>>0)|0)>>>0)+((Math.imul(p,b)|0)>>>0)|0)&65535)<<16|Gt,lo:G<<16|x}}function Vl(t,n){if(n.hi===0&&n.lo===0)return I();{const o=Ke(),s=t.hi,e=t.lo,$=n.hi,c=n.lo,r=o.div_s,i=r(e,s,c,$),_=o.get_high;return{hi:_(),lo:i}}}function Wl(t,n){if(n.hi===0&&n.lo===0)return I();{const o=Ke(),s=t.hi,e=t.lo,$=n.hi,c=n.lo,r=o.div_u,i=r(e,s,c,$),_=o.get_high;return{hi:_(),lo:i}}}function Xl(t,n){if(n.hi===0&&n.lo===0)return I();{const o=Ke(),s=t.hi,e=t.lo,$=n.hi,c=n.lo,r=o.rem_u,i=r(e,s,c,$),_=o.get_high;return{hi:_(),lo:i}}}function Yl(t){return{hi:~t.hi,lo:~t.lo}}function Z$(t,n){return{hi:t.hi&n.hi,lo:t.lo&n.lo}}function ts(t,n){return{hi:t.hi|n.hi,lo:t.lo|n.lo}}function ns(t,n){const o=n&63;if(o===0)return t;if(o<32){const s=t.hi,e=t.lo,$=s,c=e,r=$<<o|(c>>>(32-o|0)|0),i=c<<o;return{hi:r,lo:i}}else return{hi:t.lo<<(o-32|0),lo:0}}function Kl(t,n){const o=n&63;return o===0?t:o<32?{hi:t.hi>>>o|0,lo:t.lo>>>o|t.hi<<(32-o|0)}:{hi:0,lo:t.hi>>>(o-32|0)|0}}function Ql(t,n){const o=n&63;return o===0?t:o<32?{hi:t.hi>>o,lo:t.lo>>>o|t.hi<<(32-o|0)}:{hi:t.hi>>31,lo:t.hi>>(o-32|0)}}function es(t){return Ul(t)}function St(t,n){return Y$(t,n)}function hn(t,n){return K$(t,n)}function Yt(t,n){return Q$(t,n)}function jt(t,n){return Vl(t,n)}function os(t,n){return Z$(t,n)}function zo(t,n){return ts(t,n)}function Zl(t,n){return Ql(t,n)}function Ft(t,n){return ns(t,n)}function To(t,n){const o=t,s=n;return o.hi===s.hi&&o.lo===s.lo}function fe(t,n){return Cr(t,n)}function tu(t){return Lr(t)}function nu(t){return tu(t)}function At(t,n){return Y$(t,n)}function Fe(t,n){return K$(t,n)}function bt(t,n){return Q$(t,n)}function eu(t,n){return Wl(t,n)}function ou(t,n){return Xl(t,n)}function Jo(t){return t.lo}function ge(t,n){return xr(t,n)}function qt(t,n){const o=t,s=n;return o.hi===s.hi&&o.lo===s.lo}function Ut(t,n){return Z$(t,n)}function $u(t,n){return ts(t,n)}function su(t){return Yl(t)}function kn(t,n){return ns(t,n)}function gt(t,n){return Kl(t,n)}function Bo(t){const n=t;return n.hi!==0?Math.clz32(n.hi):32+Math.clz32(n.lo)|0}function ru(t,n){const o=(t.acc>>>0)+((Math.imul(n,-1028477379)|0)>>>0)|0,s=17;t.acc=Math.imul(o<<s|(o>>>(32-s|0)|0),668265263)|0}function $s(t,n){t.acc=(t.acc>>>0)+4|0,ru(t,n)}function tn(t,n){$s(t,n)}function cu(t,n){const o=n.length;let s=0;for(;;){const e=s;if(e<o){$s(t,n.charCodeAt(e)),s=e+1|0;continue}else return}}function iu(t,n){cu(n,t)}function _u(t,n){tn(n,t)}function re(t,n,o,s,e){if(e>=0&&s>=0&&(e+o|0)<=n.length&&(s+o|0)<=t.length){Ca(n,e,t,s,o);return}else{xn(`bounds check failed: dst_offset = ${dt(e)}, src_offset = ${dt(s)}, len = ${dt(o)}, dst.length = ${dt(n.length)}, self.length = ${dt(t.length)}`);return}}function au(t,n,o,s,e){if((e+o|0)<=n.length&&(s+o|0)<=t.length){xa(n,e,t,s,o);return}else{xn(`bounds check failed: dst_offset = ${dt(e)}, src_offset = ${dt(s)}, len = ${dt(o)}, dst.length = ${dt(n.length)}, self.length = ${dt(t.length)}`);return}}function lu(t,n){{const o=Z(t,n(0));let s=1;for(;;){const e=s;if(e<t){u(o,e),o[e]=n(e),s=e+1|0;continue}else break}return o}}function uu(t){return Ir(t)}function pu(t,n){n.method_0(n.self,String(t))}function Un(t,n){if(n>=0&&n<t.len){const o=t.bytes,s=t.start+n|0;return u(o,s),o[s]}else return Ma(`index out of bounds: the len is from 0 to ${dt(t.len)} but the index is ${dt(n)}`)}function mu(t,n,o){const s=t.length;let e;if(o===void 0)e=s;else{const r=o;e=r<0?s+r|0:r}const $=n<0?s+n|0:n;return $>=0&&$<=e&&e<=s?{bytes:t,start:$,len:e-$|0}:wa()}function du(t){const n=Un(t,0),o=Un(t,1),s=(n>>>0)+(o<<8>>>0)|0,e=Un(t,2),$=(s>>>0)+(e<<16>>>0)|0,c=Un(t,3);return($>>>0)+(c<<24>>>0)|0}function bu(t,n){return{elem_info:0|1<<t,data:[n]}}function oo(t,n){if(t.elem_info&1<<n){const s=t.data,e=t.elem_info,$=_e(e&((1<<n>>>0)-1|0));return u(s,$),s[$]}else return}function fu(t,n,o,s){return{elem_info:0|1<<t|1<<o,data:t<o?[n,s]:[s,n]}}function gu(t,n,o){const s=t.data,e=s.length,$=e+1|0,c=t.elem_info,r=_e(c&((1<<n>>>0)-1|0)),i=Z($,o);return re(s,i,r,0,0),re(s,i,e-r|0,r,r+1|0),{elem_info:t.elem_info|1<<n,data:i}}function hu(t,n){const o=t.data,s=o.length,e=t.elem_info,$=_e(e&((1<<n>>>0)-1|0)),c=Z(s-1|0,o[0]);return re(o,c,$,0,0),re(o,c,(s-$|0)-1|0,$+1|0,$),{elem_info:t.elem_info^1<<n,data:c}}function ss(t,n,o){const s=uu(t.data),e=t.elem_info,$=_e(e&((1<<n>>>0)-1|0));return u(s,$),s[$]=o,{elem_info:t.elem_info,data:s}}function ku(t,n,o){u(n,0),n[0]=1634760805,u(n,1),n[1]=1634760805,u(n,2),n[2]=1634760805,u(n,3),n[3]=1634760805,u(n,4),n[4]=857760878,u(n,5),n[5]=857760878,u(n,6),n[6]=857760878,u(n,7),n[7]=857760878,u(n,8),n[8]=2036477234,u(n,9),n[9]=2036477234,u(n,10),n[10]=2036477234,u(n,11),n[11]=2036477234,u(n,12),n[12]=1797285236,u(n,13),n[13]=1797285236,u(n,14),n[14]=1797285236,u(n,15),n[15]=1797285236,u(t,0),u(n,16),n[16]=t[0],u(t,0),u(n,17),n[17]=t[0],u(t,0),u(n,18),n[18]=t[0],u(t,0),u(n,19),n[19]=t[0],u(t,1),u(n,20),n[20]=t[1],u(t,1),u(n,21),n[21]=t[1],u(t,1),u(n,22),n[22]=t[1],u(t,1),u(n,23),n[23]=t[1],u(t,2),u(n,24),n[24]=t[2],u(t,2),u(n,25),n[25]=t[2],u(t,2),u(n,26),n[26]=t[2],u(t,2),u(n,27),n[27]=t[2],u(t,3),u(n,28),n[28]=t[3],u(t,3),u(n,29),n[29]=t[3],u(t,3),u(n,30),n[30]=t[3],u(t,3),u(n,31),n[31]=t[3],u(t,4),u(n,32),n[32]=t[4],u(t,4),u(n,33),n[33]=t[4],u(t,4),u(n,34),n[34]=t[4],u(t,4),u(n,35),n[35]=t[4],u(t,5),u(n,36),n[36]=t[5],u(t,5),u(n,37),n[37]=t[5],u(t,5),u(n,38),n[38]=t[5],u(t,5),u(n,39),n[39]=t[5],u(t,6),u(n,40),n[40]=t[6],u(t,6),u(n,41),n[41]=t[6],u(t,6),u(n,42),n[42]=t[6],u(t,6),u(n,43),n[43]=t[6],u(t,7),u(n,44),n[44]=t[7],u(t,7),u(n,45),n[45]=t[7],u(t,7),u(n,46),n[46]=t[7],u(t,7),u(n,47),n[47]=t[7],u(n,48),n[48]=o,u(n,49),n[49]=(o>>>0)+1|0,u(n,50),n[50]=(o>>>0)+2|0,u(n,51),n[51]=(o>>>0)+3|0,u(n,52),n[52]=0,u(n,53),n[53]=0,u(n,54),n[54]=0,u(n,55),n[55]=0,u(n,56),n[56]=0,u(n,57),n[57]=0,u(n,58),n[58]=0,u(n,59),n[59]=0,u(n,60),n[60]=0,u(n,61),n[61]=0,u(n,62),n[62]=0,u(n,63),n[63]=0}function vt(t){const n=t._0,o=t._1,s=t._2,e=t._3,$=(n>>>0)+(o>>>0)|0,c=e^$,r=c<<16|(c>>>16|0),i=(s>>>0)+(r>>>0)|0,_=o^i,a=_<<12|(_>>>20|0),l=($>>>0)+(a>>>0)|0,m=r^l,p=m<<8|(m>>>24|0),b=(i>>>0)+(p>>>0)|0,h=a^b,g=h<<7|(h>>>25|0);return{_0:l,_1:g,_2:b,_3:p}}function rs(t,n,o){ku(t,n,o);let s=0;for(;;){const e=s;if(e<4){u(n,e);let $=n[e];const c=4+e|0;u(n,c);let r=n[c];const i=8+e|0;u(n,i);let _=n[i];const a=12+e|0;u(n,a);let l=n[a];const m=16+e|0;u(n,m);let p=n[m];const b=20+e|0;u(n,b);let h=n[b];const g=24+e|0;u(n,g);let d=n[g];const y=28+e|0;u(n,y);let S=n[y];const x=32+e|0;u(n,x);let w=n[x];const j=36+e|0;u(n,j);let P=n[j];const R=40+e|0;u(n,R);let C=n[R];const G=44+e|0;u(n,G);let E=n[G];const T=48+e|0;u(n,T);let N=n[T];const W=52+e|0;u(n,W);let F=n[W];const Pt=56+e|0;u(n,Pt);let ht=n[Pt];const Kt=60+e|0;u(n,Kt);let Gt=n[Kt],ye=0;for(;;){const ho=ye;if(ho<4){const En=vt({_0:$,_1:p,_2:w,_3:N});$=En._0,p=En._1,w=En._2,N=En._3;const zn=vt({_0:r,_1:h,_2:P,_3:F});r=zn._0,h=zn._1,P=zn._2,F=zn._3;const Tn=vt({_0:_,_1:d,_2:C,_3:ht});_=Tn._0,d=Tn._1,C=Tn._2,ht=Tn._3;const Jn=vt({_0:l,_1:S,_2:E,_3:Gt});l=Jn._0,S=Jn._1,E=Jn._2,Gt=Jn._3;const Bn=vt({_0:$,_1:h,_2:C,_3:Gt});$=Bn._0,h=Bn._1,C=Bn._2,Gt=Bn._3;const Hn=vt({_0:r,_1:d,_2:E,_3:N});r=Hn._0,d=Hn._1,E=Hn._2,N=Hn._3;const Nn=vt({_0:_,_1:S,_2:w,_3:F});_=Nn._0,S=Nn._1,w=Nn._2,F=Nn._3;const Dn=vt({_0:l,_1:p,_2:P,_3:ht});l=Dn._0,p=Dn._1,P=Dn._2,ht=Dn._3,ye=ho+1|0;continue}else break}u(n,e),n[e]=$;const Se=4+e|0;u(n,Se),n[Se]=r;const uo=8+e|0;u(n,uo),n[uo]=_;const po=12+e|0;u(n,po),n[po]=l;const Pn=16+e|0;u(n,Pn),u(n,Pn),n[Pn]=(n[Pn]>>>0)+(p>>>0)|0;const Gn=20+e|0;u(n,Gn),u(n,Gn),n[Gn]=(n[Gn]>>>0)+(h>>>0)|0;const vn=24+e|0;u(n,vn),u(n,vn),n[vn]=(n[vn]>>>0)+(d>>>0)|0;const jn=28+e|0;u(n,jn),u(n,jn),n[jn]=(n[jn]>>>0)+(S>>>0)|0;const An=32+e|0;u(n,An),u(n,An),n[An]=(n[An]>>>0)+(w>>>0)|0;const qn=36+e|0;u(n,qn),u(n,qn),n[qn]=(n[qn]>>>0)+(P>>>0)|0;const Rn=40+e|0;u(n,Rn),u(n,Rn),n[Rn]=(n[Rn]>>>0)+(C>>>0)|0;const On=44+e|0;u(n,On),u(n,On),n[On]=(n[On]>>>0)+(E>>>0)|0;const mo=48+e|0;u(n,mo),n[mo]=N;const bo=52+e|0;u(n,bo),n[bo]=F;const fo=56+e|0;u(n,fo),n[fo]=ht;const go=60+e|0;u(n,go),n[go]=Gt,s=e+1|0;continue}else return}}function wu(t){const n=lu(8,e=>du(mu(t,Math.imul(e,4)|0,(Math.imul(e,4)|0)+4|0))),o=Z(64,0);return rs(n,o,0),{buffer:o,seed:n,i:0,n:32,counter:0}}function Mu(t){const n=t.i;if(n>>>0>=t.n>>>0)return;t.i=(n>>>0)+1|0;const o=n&31,s=t.buffer,e=Math.imul(o,2)|0;u(s,e);const $=De(s[e]),c=t.buffer,r=(Math.imul(o,2)|0)+1|0;u(c,r);const i=De(c[r]);return $u(kn(i,32),$)}function yu(t){t.counter=(t.counter>>>0)+4|0,t.counter===16&&(au(t.buffer,t.seed,8,56,0),t.counter=0),rs(t.seed,t.buffer,t.counter),t.i=0,t.n=t.counter===12?28:32}function Su(t,n,o){let s=t,e=o;t:for(;;){const $=s,c=e;switch($.$tag){case 1:{const r=$,i=r._0,_=r._1,a=r._2;return n===i?_:Fu(a,n)}case 0:{const r=$,i=r._0,_=r._1,a=r._2;return c===a&&n===i?_:void 0}default:{const i=$._0,a=c&31,l=oo(i,a);if(l!==void 0){s=l,e=c>>>5|0;continue t}return}}}}function Cu(t,n){const o=t;if(o!==void 0)return Su(o,n,ce(n))}function cs(t,n,o,s,e,$){const r=o&31,_=$&31;if(r===_){let a;if(o>>>0<=127){const m={_0:t,_1:n};a=new Rt(s,e,new fn(m,$n))}else{const p=o>>>5|0;a=cs(t,n,p,s,e,$>>>5|0)}return new rn(bu(r,a))}else{let a,l;t:if(o>>>0<=127){const p=new Rt(t,n,$n),b=new Rt(s,e,$n);a=p,l=b;break t}else{const p=o,b=new Wt(t,n,p>>>5|0),h=$,g=new Wt(s,e,h>>>5|0);a=b,l=g;break t}return new rn(fu(r,a,_,l))}}function is(t,n,o,s){switch(t.$tag){case 1:{const e=t,$=e._0,c=e._1,r=e._2;if(n===$)return new Rt(n,o,r);{const i=bs(r,l=>l._0===n);let _;i===void 0?_=r:_=fs(r,i);const a={_0:$,_1:c};return new Rt(n,o,new fn(a,_))}}case 0:{const e=t,$=e._0,c=e._1,r=e._2;return s===r&&n===$?new Wt($,o,r):cs($,c,r,n,o,s)}default:{const $=t._0,r=s&31,i=oo($,r);if(i===void 0){const _=s,a=new Wt(n,o,_>>>5|0);return new rn(gu($,r,a))}else{const m=is(i,n,o,s>>>5|0);return new rn(ss($,r,m))}}}}function Kn(t,n,o){const s=t;return s===void 0?new Wt(n,o,ce(n)):is(s,n,o,ce(n))}function _s(t,n,o){switch(t.$tag){case 1:{const s=t,e=s._0,$=s._1,c=s._2;if(e===n){if(c.$tag===0)return;{const r=c,i=r._0,_=i._0,a=i._1,l=r._1;return new Rt(_,a,l)}}else{const r=bs(c,i=>i._0===n);if(r===void 0)return t;{const _=r;return new Rt(e,$,fs(c,_))}}}case 0:{const s=t,e=s._0,$=s._2;return o===$&&n===e?void 0:t}default:{const e=t._0,c=o&31,r=oo(e,c);if(r===void 0)return t;{const l=_s(r,n,o>>>5|0);let m,p;t:{n:{if(e.data.length===1){if(l===void 0)return;p=l;break n}else if(l===void 0)m=hu(e,c);else{p=l;break n}break t}m=ss(e,c,p)}t:{const b=m.data;if(b.length===1){const h=b[0];if(h.$tag===0){const g=h,d=g._0,y=g._1,S=g._2,x=m.elem_info,w=Pr(x),j=S;return new Wt(d,y,j<<5|w)}else break t}else break t}return new rn(m)}}}}function xu(t,n){const o=t;if(o!==void 0)return _s(o,n,ce(n))}function as(t){switch(t.$tag){case 1:{const n=t,o=n._0,s=n._1,e=n._2;return Dl(Oo({_0:o,_1:s}),Du(e))}case 0:{const n=t,o=n._0,s=n._1;return Oo({_0:o,_1:s})}default:{const s=t._0.data;return e=>{const $=s.length;let c=0;for(;;){const r=c;if(r<$){const i=s[r];if(as(i)(e)===1){c=r+1|0;continue}else return 0}else return 1}}}}}function Lu(t){const n=t;return n===void 0?Nl():as(n)}function Iu(t){const n=Lu(t);return o=>n(s=>o(s._1))}function ce(t){return no(t)|-1073741824}function he(t,n){let o=1,s=0,e=0;for(;;){const $=e;if($<n){const c=t.str,r=t.start+$|0;c.charCodeAt(r)===10?(o=o+1|0,s=0):s=s+1|0,e=$+1|0;continue}else break}return{line:o,column:s}}function Pu(t,n){const o=t.offset+n|0,s=we(t.input,o),e=65533;return new ae(new Mn(he(t.input,o),s===-1?e:s))}function ft(t,n){const o=t.offset+n|0,s=we(t.input,o),e=65533;return new le(new Mn(he(t.input,o),s===-1?e:s))}function $o(t,n){const o=t.offset+n|0,s=we(t.input,o),e=65533;return new yn(new Mn(he(t.input,o),s===-1?e:s))}function ke(t,n){const o=t.offset+n|0,s=we(t.input,o),e=65533;return new zt(new Mn(he(t.input,o),s===-1?e:s))}function ls(t,n){const o=t;let s=0,e=o.length;for(;;){const $=s,c=e;if($<c){const r=($+c|0)/2|0,i=Ga(o,r),_=i._0,a=i._1;if(n<_){e=r;continue}else if(n>a){s=r+1|0;continue}else return!0}else return!1}}function $t(t){if(t.offset<t.end_offset){const n=t.input,o=t.offset,s=n.str,e=n.start+o|0,$=s.charCodeAt(e);if(t.offset=t.offset+1|0,$>=55296&&$<=56319&&t.offset<t.end_offset){const c=t.input,r=t.offset,i=c.str,_=c.start+r|0,a=i.charCodeAt(_);if(a>=56320&&a<=57343)return t.offset=t.offset+1|0,(($<<10)+a|0)-56613888|0}return $}else return-1}function an(t){t:for(;;)n:{e:{const n=$t(t);if(n===-1)break;{const s=n;switch(s){case 9:break e;case 32:break e;case 10:break e;case 13:break e;default:{if(s>127&&ls(I$,s))break n;t.offset=t.offset-1|0;break t}}}}break n}}function Gu(t,n){return{offset:0,input:t,end_offset:t.end-t.start|0,remaining_available_depth:n}}function kt(t,n){if(t.offset<t.end_offset){const o=t.input,s=t.offset,e=o.str,$=o.start+s|0,c=e.charCodeAt($);return t.offset=t.offset+1|0,n!==c?ft(t,-1):new Qe(void 0)}else return new le(at)}function Tt(t,n,o){const s=ys(t.input,n,o);if(!Ge(s,{str:wo,start:0,end:wo.length})&&!Ge(s,{str:Mo,start:0,end:Mo.length})&&!Ge(s,{str:yo,start:0,end:yo.length})){let e,$;t:{n:{const c=gs(s);let r;if(c.$tag===1)r=c._0;else{$=c._0;break n}e=new Ze(r);break t}e=new ue($)}t:if(e.$tag===1){const r=e._0;if(gn(r,Gr)&&Je(r,vr))return{_0:nu(r),_1:void 0};break t}else break t;t:if(H(s.str,1,s.start,s.end)){if(k(s.str,f(s.str,0,s.start,s.end))===45)return{_0:Ee,_1:s};break t}else break t;return{_0:ze,_1:s}}else{let e,$;t:{n:{const c=kp(s);let r;if(c.$tag===1)r=c._0;else{$=c._0;break n}e=new Ot(r);break t}e=new to($)}if(e.$tag===1)return{_0:e._0,_1:void 0};t:if(H(s.str,1,s.start,s.end)){if(k(s.str,f(s.str,0,s.start,s.end))===45)return{_0:Ee,_1:s};break t}else break t;return{_0:ze,_1:s}}}function us(t,n){for(;;)t:{const o=$t(t);if(o===-1)return Tt(t,n,t.offset);{const e=o;if(e>=48&&e<=57)break t;return t.offset=t.offset-1|0,Tt(t,n,t.offset)}}}function vu(t,n){const o=$t(t);if(o===-1)return new yn(at);{const e=o;return e>=48&&e<=57?new lt(us(t,n)):(t.offset=t.offset-1|0,$o(t,0))}}function so(t,n){t:{const e=$t(t);if(e===-1)return new yn(at);{const c=e;switch(c){case 43:break t;case 45:break t;default:return c>=48&&c<=57?new lt(us(t,n)):(t.offset=t.offset-1|0,$o(t,0))}}}const o=vu(t,n);let s;if(o.$tag===1)s=o._0;else return o;return new lt(s)}function ju(t,n){for(;;)t:{n:{const e=$t(t);if(e===-1)return new lt(Tt(t,n,t.offset));{const c=e;switch(c){case 101:break n;case 69:break n;default:{if(c>=48&&c<=57)break t;return t.offset=t.offset-1|0,new lt(Tt(t,n,t.offset))}}}}const o=so(t,n);let s;if(o.$tag===1)s=o._0;else return o;return new lt(s)}}function ps(t,n){const o=$t(t);if(o===-1)return new yn(at);{const e=o;return e>=48&&e<=57?ju(t,n):$o(t,-1)}}function Ho(t,n){for(;;)t:{n:{const e=$t(t);if(e===-1)return new lt(Tt(t,n,t.offset));{const c=e;switch(c){case 46:{const r=ps(t,n);let i;if(r.$tag===1)i=r._0;else return r;return new lt(i)}case 101:break n;case 69:break n;default:{if(c>=48&&c<=57)break t;return t.offset=t.offset-1|0,new lt(Tt(t,n,t.offset))}}}}const o=so(t,n);let s;if(o.$tag===1)s=o._0;else return o;return new lt(s)}}function Au(t,n){let o=0,s=0;for(;;){const e=s;if(e<n){const $=$t(t);if($===-1)return new _$(at);{const r=$;if(r>=65){const i=((r&-33)-65|0)+10|0;if(i>15){const _=ft(t,-1);if(_.$tag===1)_._0;else return _}o=o<<4|i}else if(r>=48){const i=r-48|0;if(i>9){const _=ft(t,-1);if(_.$tag===1)_._0;else return _}o=o<<4|i}else{const i=ft(t,-1);if(i.$tag===1)i._0;else return i}}s=e+1|0;continue}else break}return new a$(o)}function No(t,n){const o=t._2,s=t._1,e=t._0;if(o.val>0&&n>o.val){const c=s.input.str,i=s.input.start;Ln(e,c,i+o.val|0,n-o.val|0);return}else return}function ro(t){const n=Jt(),o={val:t.offset},s={_0:n,_1:t,_2:o};t:for(;;)n:{e:{o:{const $=$t(t);if($===-1)return new qe(at);{const r=$;switch(r){case 34:{No(s,t.offset-1|0);break t}case 10:break o;case 13:break o;case 92:{No(s,t.offset-1|0);const i=$t(t);if(i===-1)return new qe(at);switch(i){case 98:{B(n,8);break}case 102:{B(n,12);break}case 110:{B(n,10);break}case 114:{B(n,13);break}case 116:{B(n,9);break}case 34:{B(n,34);break}case 92:{B(n,92);break}case 47:{B(n,47);break}case 117:{const l=Au(t,4);let m;if(l.$tag===1)m=l._0;else return l;B(n,m);break}default:{const l=ft(t,-1);if(l.$tag===1)l._0;else return l}}o.val=t.offset;break}default:if(r<32){const i=ft(t,-1);if(i.$tag===1)i._0;else return i}else break n}}break e}const e=ft(t,-1);if(e.$tag===1)e._0;else return e}break n}return new l$(n.val)}function Do(t,n){t:{const o=$t(t);if(o===-1)return new lt(Tt(t,n,t.offset));{const e=o;switch(e){case 46:return ps(t,n);case 101:break t;case 69:break t;default:{if(e>=48&&e<=57){t.offset=t.offset-1|0;const $=ft(t,0);if($.$tag===1)$._0;else return $}return t.offset=t.offset-1|0,new lt(Tt(t,n,t.offset))}}}}return so(t,n)}function Ue(t,n){for(;;)t:{n:{e:{const o=$t(t);if(o===-1)return new zt(at);{const e=o;if(e===9)break e;if(e===32)break e;if(e===10)break e;if(e===13)break e;if(e===123)return new K(Rr);if(e===91)return new K(Or);if(e===93){if(n)return new K(p$);{const $=ft(t,-1);if($.$tag===1)$._0;else return $}}else if(e===110){const $=kt(t,117);if($.$tag===1)$._0;else return $;const c=kt(t,108);if(c.$tag===1)c._0;else return c;const r=kt(t,108);if(r.$tag===1)r._0;else return r;return new K(jr)}else if(e===116){const $=kt(t,114);if($.$tag===1)$._0;else return $;const c=kt(t,117);if(c.$tag===1)c._0;else return c;const r=kt(t,101);if(r.$tag===1)r._0;else return r;return new K(Ar)}else if(e===102){const $=kt(t,97);if($.$tag===1)$._0;else return $;const c=kt(t,108);if(c.$tag===1)c._0;else return c;const r=kt(t,115);if(r.$tag===1)r._0;else return r;const i=kt(t,101);if(i.$tag===1)i._0;else return i;return new K(qr)}else if(e===45){const $=$t(t);if($===-1)return new zt(at);{const r=$;if(r===48){const i=Do(t,t.offset-2|0);let _;if(i.$tag===1)_=i._0;else return i;const a=_._0,l=_._1;return new K(new pn(a,Vn(l,m=>Yn(m))))}else{if(r>=49&&r<=57){const _=Ho(t,t.offset-2|0);let a;if(_.$tag===1)a=_._0;else return _;const l=a._0,m=a._1;return new K(new pn(l,Vn(m,p=>Yn(p))))}const i=ft(t,-1);if(i.$tag===1)i._0;else return i}}}else if(e===48){const $=Do(t,t.offset-1|0);let c;if($.$tag===1)c=$._0;else return $;const r=c._0,i=c._1;return new K(new pn(r,Vn(i,_=>Yn(_))))}else if(e>=49&&e<=57){const $=Ho(t,t.offset-1|0);let c;if($.$tag===1)c=$._0;else return $;const r=c._0,i=c._1;return new K(new pn(r,Vn(i,_=>Yn(_))))}else if(e===34){const $=ro(t);let c;if($.$tag===1)c=$._0;else return $;return new K(new pe(c))}else{if(e>127&&ls(I$,e))break t;const c=-(e<=65535?1:2)|0,r=ft(t,c);if(r.$tag===1)r._0;else return r}}break n}break t}break t}}function qu(t){an(t);const n=$t(t);if(n===-1)return new zt(at);switch(n){case 93:return new K(p$);case 44:return new K(m$);default:return ke(t,-1)}}function Ru(t){an(t);const n=$t(t);if(n===-1)return new zt(at);switch(n){case 125:return new K(u$);case 44:return new K(m$);default:return ke(t,-1)}}function Ou(t){an(t);const n=$t(t);return n===-1?new le(at):n===58?new Qe(void 0):ft(t,-1)}function Eu(t){an(t);const n=$t(t);if(n===-1)return new zt(at);switch(n){case 125:return new K(u$);case 34:{const e=ro(t);let $;if(e.$tag===1)$=e._0;else return e;return new K(new pe($))}default:return ke(t,-1)}}function zu(t){an(t);const n=$t(t);if(n===-1)return new zt(at);if(n===34){const e=ro(t);let $;if(e.$tag===1)$=e._0;else return e;return new K(new pe($))}else return ke(t,-1)}function ms(t){const n=Ue(t,!1);let o;if(n.$tag===1)o=n._0;else return n;return ds(t,o)}function ds(t,n){t:switch(n.$tag){case 0:return new Mt(Jr);case 1:return new Mt(o$);case 2:return new Mt($$);case 3:{const o=n,s=o._0,e=o._1;return new Mt(new wn(s,e))}case 4:{const s=n._0;return new Mt(new v(s))}case 5:return Ju(t);case 7:return Tu(t);case 8:break t;case 6:break t;default:break t}return new Mt(ee())}function Tu(t){if(t.remaining_available_depth<=0)return new ae(i$);t.remaining_available_depth=t.remaining_available_depth-1|0;const n=[];let o;const s=Ue(t,!0);let e;if(s.$tag===1)e=s._0;else return s;let $=e;t:for(;;){const c=$;if(c.$tag===8){t.remaining_available_depth=t.remaining_available_depth+1|0,o=new Ct(n);break}else{const r=ds(t,c);let i;if(r.$tag===1)i=r._0;else return r;Bl(n,i);const _=qu(t);let a;if(_.$tag===1)a=_._0;else return _;switch(a.$tag){case 9:{const l=Ue(t,!1);if(l.$tag===1)$=l._0;else return l;continue t}case 8:{t.remaining_available_depth=t.remaining_available_depth+1|0,o=new Ct(n);break t}default:{o=ee();break t}}}}return new Mt(o)}function Ju(t){if(t.remaining_available_depth<=0)return new ae(i$);t.remaining_available_depth=t.remaining_available_depth-1|0;const n=O$(8);let o;const s=Eu(t);let e;if(s.$tag===1)e=s._0;else return s;let $=e;t:for(;;){const c=$;switch(c.$tag){case 6:{t.remaining_available_depth=t.remaining_available_depth+1|0,o=new q(n);break t}case 4:{const i=c._0,_=Ou(t);if(_.$tag===1)_._0;else return _;const a=ms(t);let l;if(a.$tag===1)l=a._0;else return a;M(n,i,l);const m=Ru(t);let p;if(m.$tag===1)p=m._0;else return m;switch(p.$tag){case 9:{const b=zu(t);if(b.$tag===1)$=b._0;else return b;continue t}case 6:{t.remaining_available_depth=t.remaining_available_depth+1|0,o=new q(n);break t}default:{o=ee();break t}}}default:{o=ee();break t}}}return new Mt(o)}function Bu(t,n){const o=Gu(t,n),s=ms(o);let e;if(s.$tag===1)e=s._0;else return s;return an(o),o.offset>=o.end_offset?new Mt(e):Pu(o,0)}function Fo(t,n){const o=Jt(t.length);return Pp(t)(e=>{switch(e){case 34:{J(o,'\\"');break}case 92:{J(o,"\\\\");break}case 47:{n?J(o,"\\/"):B(o,e);break}case 10:{J(o,"\\n");break}case 13:{J(o,"\\r");break}case 8:{J(o,"\\b");break}case 9:{J(o,"\\t");break}default:{const $=e;$===12?J(o,"\\f"):$<32?(J(o,"\\u00"),J(o,Fa($&255))):B(o,e)}}return 1}),o.val}function Zt(t,n){return n===0?"":`
${Ap(" ",Math.imul(n,t)|0)}`}function Ve(t,n,o){const s=t._2,e=t._1,$=t._0;switch(n.$tag){case 6:{const r=n._0;if(r.size===0){J(e,"{}");return}B(e,123),J(e,Zt(o+1|0,s));const i={val:!0};xl(r)((a,l)=>(i.val?i.val=!1:(B(e,44),J(e,Zt(o+1|0,s))),B(e,34),J(e,Fo(a,$)),B(e,34),s===0?B(e,58):J(e,": "),Ve(t,l,o+1|0),1)),J(e,Zt(o,s)),B(e,125);return}case 5:{const r=n._0;if(r.length===0){J(e,"[]");return}B(e,91),J(e,Zt(o+1|0,s));const i=r.length;let _=0;for(;;){const a=_;if(a<i){const l=r[a];a>0&&(B(e,44),J(e,Zt(o+1|0,s))),Ve(t,l,o+1|0),_=a+1|0;continue}else break}J(e,Zt(o,s)),B(e,93);return}case 4:{const r=n._0;B(e,34),J(e,Fo(r,$)),B(e,34);return}case 3:{const c=n,r=c._0,i=c._1;if(i===void 0){Da(e,r);return}else{J(e,i);return}}case 1:{J(e,"true");return}case 2:{J(e,"false");return}default:{J(e,"null");return}}}function U(t,n,o){const s=Jt();return Ve({_0:n,_1:s,_2:o},t,0),s.val}function Hu(t){if(t.$tag===4)return t._0}function Nu(t){if(t.$tag===5){const o=t._0;return new d$(o)}else return Er}function Du(t){return o=>{let s=t;for(;;){const e=s;if(e.$tag===0)return 1;{const $=e,c=$._0,r=$._1;if(o(c)===0)return 0;s=r;continue}}}}function Fu(t,n){let o=t;for(;;){const s=o;if(s.$tag===0)return;{const e=s,$=e._0,c=$._0,r=$._1,i=e._1;if(c===n)return r;o=i;continue}}}function bs(t,n){let o=t,s=0;for(;;){const e=o,$=s;if(e.$tag===0)return;{const c=e,r=c._0,i=c._1;if(n(r))return $;o=i,s=$+1|0;continue}}}function fs(t,n){if(t.$tag===0)return $n;if(n<0)return t;if(n===0)return t._1;{const o=t,s=o._0,e=o._1,$=new fn(s,$n);let c=$,r=e,i=n-1|0;for(;;){const _=c,a=r,l=i;if(a.$tag===0)break;if(_.$tag===1){const m=_,p=a,b=p._0,h=p._1;if(l===0){m._1=h;break}else{m._1=new fn(b,$n),c=m._1,r=h,i=l-1|0;continue}}else{I();break}}return $}}function Vn(t,n){if(t!==void 0)return n(t)}function Uu(t){for(;;){const n=Mu(t);if(n!==void 0)return n;yu(t)}}function Vu(t){return{self:wu(t),method_0:Uu}}function Wu(t){return Vu(zr)}function Uo(t,n){const o=Ut(t,Ce),s=gt(t,32),e=Ut(n,Ce),$=gt(n,32),c=bt(o,e),r=At(bt(s,e),gt(c,32)),i=At(bt(o,$),Ut(r,Ce));return{hi:At(At(bt(s,$),gt(r,32)),gt(i,32)),lo:bt(t,n)}}function Xu(t,n){if(qt(n,D)){const e=t;return e.method_0(e.self)}else if(qt(Ut(n,Fe(n,ct)),D)){const e=t;return Ut(e.method_0(e.self),Fe(n,ct))}const o=t;let s=Uo(o.method_0(o.self),n);if(Be(s.lo,n)){const e=ou(su(n),n);for(;Be(s.lo,e);){const $=t;s=Uo($.method_0($.self),n);continue}}return s.hi}function Yu(t,n){if(n===0){const o=t;return Jo(o.method_0(o.self))}return Jo(Xu(t,De(n)))}function Ku(t,n){if(n===0){const o=t;return R$(gt(o.method_0(o.self),33))}else return Yu(t,n)}function Qu(t){const n=t;return $e(gt(kn(n.method_0(n.self),11),11))/$e(kn(ct,53))}function Zu(t,n){{t:{let o;n:{let s;e:{let e;o:if(H(t.str,2,t.start,t.end))if(k(t.str,f(t.str,0,t.start,t.end))===48)switch(k(t.str,f(t.str,1,t.start,t.end))){case 120:{const r=t.str,i=f(t.str,2,t.start,t.end);let _;i===void 0?_=t.end:_=i,e={str:r,start:_,end:t.end};break o}case 88:{const r=t.str,i=f(t.str,2,t.start,t.end);let _;i===void 0?_=t.end:_=i,e={str:r,start:_,end:t.end};break o}case 111:{const r=t.str,i=f(t.str,2,t.start,t.end);let _;i===void 0?_=t.end:_=i,s={str:r,start:_,end:t.end};break e}case 79:{const r=t.str,i=f(t.str,2,t.start,t.end);let _;i===void 0?_=t.end:_=i,s={str:r,start:_,end:t.end};break e}case 98:{const r=t.str,i=f(t.str,2,t.start,t.end);let _;i===void 0?_=t.end:_=i,o={str:r,start:_,end:t.end};break n}case 66:{const r=t.str,i=f(t.str,2,t.start,t.end);let _;i===void 0?_=t.end:_=i,o={str:r,start:_,end:t.end};break n}default:break t}else break t;else break t;return new mn({_0:16,_1:e,_2:!0})}return new mn({_0:8,_1:s,_2:!0})}return new mn({_0:2,_1:o,_2:!0})}return new mn({_0:10,_1:t,_2:!1})}}function Qn(){return new b$(new Lt(S$))}function Wn(){return new ue(new Lt(S$))}function tp(){return new f$(new Lt(_n))}function un(){return new ue(new Lt(_n))}function ie(){return new to(new Lt(_n))}function np(){return new h$(new Lt(_n))}function Vo(){return new k$(new Lt(_n))}function Wo(){return new w$(new Lt(_n))}function ep(t,n){return n?t===10?jt(Le,rt):t===16?jt(Le,ko):jt(Le,ut(t)):St(t===10?jt(xe,rt):t===16?jt(xe,ko):jt(xe,ut(t)),ct)}function gs(t,n){if(Ia(t,{str:So,start:0,end:So.length})){let o,s;t:{n:{const p=ys(t,0,void 0);if(H(p.str,1,p.start,p.end))switch(k(p.str,f(p.str,0,p.start,p.end))){case 43:{const h=p.str,g=f(p.str,1,p.start,p.end);let d;g===void 0?d=p.end:d=g,o={_0:!1,_1:{str:h,start:d,end:p.end}};break}case 45:{const h=p.str,g=f(p.str,1,p.start,p.end);let d;g===void 0?d=p.end:d=g,o={_0:!0,_1:{str:h,start:d,end:p.end}};break}default:{s=p;break n}}else{s=p;break n}break t}o={_0:!1,_1:s}}const e=o._0,$=o._1,c=Zu($);let r;if(c.$tag===1)r=c._0;else return c;const i=r._0,_=r._1,a=r._2,l=ep(i,e);let m;if(H(_.str,1,_.start,_.end)){const p=k(_.str,f(_.str,0,_.start,_.end));if(p>=48&&p<=57)m=!0;else if(p>=97&&p<=122)m=!0;else if(p>=65&&p<=90)m=!0;else if(H(_.str,2,_.start,_.end))if(p===95){const b=k(_.str,f(_.str,1,_.start,_.end));m=b>=48&&b<=57||b>=97&&b<=122?!0:b>=65&&b<=90}else m=!1;else m=!1}else m=!1;if(m){let p,b=_,h=D,g=a;for(;;){const d=b,y=h,S=g;let x,w,j;t:if(Et(d.str,1,d.start,d.end)){const C=k(d.str,f(d.str,0,d.start,d.end));if(C===95){const G=un();if(G.$tag===1){p=G._0;break}else return G}else{const G=d.str,E=f(d.str,1,d.start,d.end);let T;E===void 0?T=d.end:T=E;const W={str:G,start:T,end:d.end};x=y,w=W,j=C;break t}}else if(H(d.str,1,d.start,d.end)){const C=k(d.str,f(d.str,0,d.start,d.end));if(C===95)if(S===!1){const G=un();if(G.$tag===1){p=G._0;break}else return G}else{const G=d.str,E=f(d.str,1,d.start,d.end);let T;E===void 0?T=d.end:T=E,b={str:G,start:T,end:d.end},g=!1;continue}else{const G=d.str,E=f(d.str,1,d.start,d.end);let T;E===void 0?T=d.end:T=E;const W={str:G,start:T,end:d.end};x=y,w=W,j=C;break t}}else{p=y;break}const P=j;let R;if(P>=48&&P<=57)R=P-48|0;else if(P>=97&&P<=122)R=P+-87|0;else if(P>=65&&P<=90)R=P+-55|0;else{const C=tp();if(C.$tag===1)R=C._0;else return C}if(R<i)if(e)if(Je(x,l)){const C=hn(Yt(x,ut(i)),ut(R));if(gn(C,x)){b=w,h=C,g=!0;continue}else{const G=Wn();if(G.$tag===1){p=G._0;break}else return G}}else{const C=Wn();if(C.$tag===1){p=C._0;break}else return C}else if(me(x,l)){const C=St(Yt(x,ut(i)),ut(R));if(Je(C,x)){b=w,h=C,g=!0;continue}else{const G=Wn();if(G.$tag===1){p=G._0;break}else return G}}else{const C=Wn();if(C.$tag===1){p=C._0;break}else return C}else{const C=un();if(C.$tag===1){p=C._0;break}else return C}}return new Ze(p)}else return un()}else return un()}function op(t,n){const o=gs(t);let s;if(o.$tag===1)s=o._0;else return o;if(me(s,ut(-2147483648))||G$(s,ut(2147483647))){const e=Qn();if(e.$tag===1)e._0;else return e}return new g$(Dt(s))}function $p(t){let n;if(H(t.str,1,t.start,t.end))switch(k(t.str,f(t.str,0,t.start,t.end))){case 43:{const l=t.str,m=f(t.str,1,t.start,t.end);let p;m===void 0?p=t.end:p=m,n={str:l,start:p,end:t.end};break}case 45:{const l=t.str,m=f(t.str,1,t.start,t.end);let p;m===void 0?p=t.end:p=m,n={str:l,start:p,end:t.end};break}default:n=t}else n=t;let o,s;t:{n:{let a;e:{o:{let l;r:{$:{let m;s:if(H(n.str,2,n.start,n.end))if(k(n.str,f(n.str,0,n.start,n.end))===48)switch(k(n.str,f(n.str,1,n.start,n.end))){case 120:{const h=n.str,g=f(n.str,2,n.start,n.end);let d;g===void 0?d=n.end:d=g,m={str:h,start:d,end:n.end};break s}case 88:{const h=n.str,g=f(n.str,2,n.start,n.end);let d;g===void 0?d=n.end:d=g,m={str:h,start:d,end:n.end};break s}case 111:{const h=n.str,g=f(n.str,2,n.start,n.end);let d;g===void 0?d=n.end:d=g,l={str:h,start:d,end:n.end};break $}case 79:{const h=n.str,g=f(n.str,2,n.start,n.end);let d;g===void 0?d=n.end:d=g,l={str:h,start:d,end:n.end};break $}case 98:{const h=n.str,g=f(n.str,2,n.start,n.end);let d;g===void 0?d=n.end:d=g,a={str:h,start:d,end:n.end};break o}case 66:{const h=n.str,g=f(n.str,2,n.start,n.end);let d;g===void 0?d=n.end:d=g,a={str:h,start:d,end:n.end};break o}default:{s=n;break n}}else{s=n;break n}else{s=n;break n}o={_0:m,_1:!0,_2:!0};break r}o={_0:l,_1:!0,_2:!1}}break e}o={_0:a,_1:!0,_2:!1}}break t}o={_0:s,_1:!1,_2:!1}}const e=o._0,$=o._1,c=o._2;let r=e,i=$,_=!1;for(;;){const a=r,l=i,m=_;let p,b,h;t:{if(Et(a.str,0,a.start,a.end))return!0;if(Et(a.str,1,a.start,a.end)){const g=k(a.str,f(a.str,0,a.start,a.end));if(g===95)return!1;{const d=a.str,y=f(a.str,1,a.start,a.end);let S;y===void 0?S=a.end:S=y,p={str:d,start:S,end:a.end},b=g,h=m;break t}}else{const g=k(a.str,f(a.str,0,a.start,a.end));if(g===95){if(l===!1)return!1;{const d=a.str,y=f(a.str,1,a.start,a.end);let S;y===void 0?S=a.end:S=y,r={str:d,start:S,end:a.end},i=!1,_=!0;continue}}else{const d=a.str,y=f(a.str,1,a.start,a.end);let S;y===void 0?S=a.end:S=y,p={str:d,start:S,end:a.end},b=g,h=m;break t}}}if(b>=48&&b<=57||c&&(b>=97&&b<=102||b>=65&&b<=70)){r=p,i=!0,_=!1;continue}else{if(h)return!1;r=p,i=!1,_=!1;continue}}}function sp(){return{digits:kr(800),digits_num:0,decimal_point:0,negative:!1,truncated:!1}}function co(t){for(;;){let n;if(t.digits_num>0){const o=t.digits,s=t.digits_num-1|0;u(o,s),n=o[s]===0}else n=!1;if(n){t.digits_num=t.digits_num-1|0;continue}else break}if(t.digits_num===0){t.decimal_point=0;return}else return}function rp(t){const n=sp();let o=!1,s=!1,e;t:{n:{if(H(t.str,1,t.start,t.end))switch(k(t.str,f(t.str,0,t.start,t.end))){case 45:{const i=t.str,_=f(t.str,1,t.start,t.end);let a;_===void 0?a=t.end:a=_;const m={str:i,start:a,end:t.end};n.negative=!0,e=m;break}case 43:{const i=t.str,_=f(t.str,1,t.start,t.end);let a;_===void 0?a=t.end:a=_,e={str:i,start:a,end:t.end};break}default:break n}else break n;break t}e=t}let $,c=e;for(;;){const r=c;if(H(r.str,1,r.start,r.end)){const i=k(r.str,f(r.str,0,r.start,r.end));if(i===95){const _=r.str,a=f(r.str,1,r.start,r.end);let l;a===void 0?l=r.end:l=a,c={str:_,start:l,end:r.end};continue}else if(i===46){const _=r.str,a=f(r.str,1,r.start,r.end);let l;a===void 0?l=r.end:l=a;const p={str:_,start:l,end:r.end};if(o){const b=Vo();if(b.$tag===1){$=b._0;break}else return b}else{o=!0,n.decimal_point=n.digits_num,c=p;continue}}else if(i>=48&&i<=57){const _=r.str,a=f(r.str,1,r.start,r.end);let l;a===void 0?l=r.end:l=a;const p={str:_,start:l,end:r.end};if(s=!0,i===48&&n.digits_num===0){n.decimal_point=n.decimal_point-1|0,c=p;continue}if(n.digits_num<n.digits.length){const b=n.digits,h=n.digits_num;u(b,h),b[h]=(i-48|0)&255,n.digits_num=n.digits_num+1|0}else i!==48&&(n.truncated=!0);c=p;continue}else{$=r;break}}else{$=r;break}}if(s){o||(n.decimal_point=n.digits_num);let r,i;t:{n:{if(H($.str,1,$.start,$.end))switch(k($.str,f($.str,0,$.start,$.end))){case 101:{const m=$.str,p=f($.str,1,$.start,$.end);let b;p===void 0?b=$.end:b=p,i={str:m,start:b,end:$.end};break n}case 69:{const m=$.str,p=f($.str,1,$.start,$.end);let b;p===void 0?b=$.end:b=p,i={str:m,start:b,end:$.end};break n}default:r=$}else r=$;break t}let _=1,a;if(H(i.str,1,i.start,i.end))switch(k(i.str,f(i.str,0,i.start,i.end))){case 43:{const m=i.str,p=f(i.str,1,i.start,i.end);let b;p===void 0?b=i.end:b=p,a={str:m,start:b,end:i.end};break}case 45:{const m=i.str,p=f(i.str,1,i.start,i.end);let b;p===void 0?b=i.end:b=p;const g={str:m,start:b,end:i.end};_=-1,a=g;break}default:a=i}else a=i;n:{e:{if(H(a.str,1,a.start,a.end)){const m=k(a.str,f(a.str,0,a.start,a.end));if(m>=48&&m<=57){let p=0,b,h=a;for(;;){const g=h;if(H(g.str,1,g.start,g.end)){const d=k(g.str,f(g.str,0,g.start,g.end));if(d===95){const y=g.str,S=f(g.str,1,g.start,g.end);let x;S===void 0?x=g.end:x=S,h={str:y,start:x,end:g.end};continue}else if(d>=48&&d<=57){const y=g.str,S=f(g.str,1,g.start,g.end);let x;S===void 0?x=g.end:x=S;const j={str:y,start:x,end:g.end};p=(Math.imul(p,10)|0)+(d-48|0)|0,h=j;continue}else{b=g;break}}else{b=g;break}}n.decimal_point=n.decimal_point+(Math.imul(_,p)|0)|0,r=b}else break e}else break e;break n}const l=Vo();if(l.$tag===1)r=l._0;else return l}}return Et(r.str,0,r.start,r.end)?(co(n),new M$(n)):Wo()}else return Wo()}function cp(t){return rp(t)}function ip(t){let n,o;t:{n:{if(H(t.str,1,t.start,t.end))switch(k(t.str,f(t.str,0,t.start,t.end))){case 45:{const c=t.str,r=f(t.str,1,t.start,t.end);let i;r===void 0?i=t.end:i=r,n={_0:!1,_1:{str:c,start:i,end:t.end}};break}case 43:{const c=t.str,r=f(t.str,1,t.start,t.end);let i;r===void 0?i=t.end:i=r,o={str:c,start:i,end:t.end};break n}default:{o=t;break n}}else{o=t;break n}break t}n={_0:!0,_1:o}}const s=n._0,e=n._1;t:{let $;n:{e:if(Et(e.str,3,e.start,e.end))switch(k(e.str,f(e.str,0,e.start,e.end))){case 110:switch(k(e.str,f(e.str,1,e.start,e.end))){case 97:switch(k(e.str,f(e.str,2,e.start,e.end))){case 110:break e;case 78:break e;default:break t}case 65:switch(k(e.str,f(e.str,2,e.start,e.end))){case 110:break e;case 78:break e;default:break t}default:break t}case 78:switch(k(e.str,f(e.str,1,e.start,e.end))){case 97:switch(k(e.str,f(e.str,2,e.start,e.end))){case 110:break e;case 78:break e;default:break t}case 65:switch(k(e.str,f(e.str,2,e.start,e.end))){case 110:break e;case 78:break e;default:break t}default:break t}case 105:switch(k(e.str,f(e.str,1,e.start,e.end))){case 110:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}case 78:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}default:break t}case 73:switch(k(e.str,f(e.str,1,e.start,e.end))){case 110:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}case 78:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}default:break t}default:break t}else if(H(e.str,3,e.start,e.end))switch(k(e.str,f(e.str,0,e.start,e.end))){case 105:switch(k(e.str,f(e.str,1,e.start,e.end))){case 110:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}case 78:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}default:break t}case 73:switch(k(e.str,f(e.str,1,e.start,e.end))){case 110:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}case 78:switch(k(e.str,f(e.str,2,e.start,e.end))){case 102:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}case 70:{const _=e.str,a=f(e.str,3,e.start,e.end);let l;a===void 0?l=e.end:l=a,$={str:_,start:l,end:e.end};break n}default:break t}default:break t}default:break t}else break t;return new Ot(fa)}n:{e:{if(Et($.str,0,$.start,$.end))break e;if(Et($.str,5,$.start,$.end))switch(k($.str,f($.str,0,$.start,$.end))){case 105:switch(k($.str,f($.str,1,$.start,$.end))){case 110:switch(k($.str,f($.str,2,$.start,$.end))){case 105:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}case 73:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}default:break n}case 78:switch(k($.str,f($.str,2,$.start,$.end))){case 105:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}case 73:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}default:break n}default:break n}case 73:switch(k($.str,f($.str,1,$.start,$.end))){case 110:switch(k($.str,f($.str,2,$.start,$.end))){case 105:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}case 73:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}default:break n}case 78:switch(k($.str,f($.str,2,$.start,$.end))){case 105:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}case 73:switch(k($.str,f($.str,3,$.start,$.end))){case 116:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}case 84:switch(k($.str,f($.str,4,$.start,$.end))){case 121:break e;case 89:break e;default:break n}default:break n}default:break n}default:break n}default:break n}else break n}return s?new Ot(ze):new Ot(Ee)}return ie()}return ie()}function _p(t,n,o){let s=n,e=0,$=t;for(;;){const c=$;if(H(c.str,1,c.start,c.end)){const r=k(c.str,f(c.str,0,c.start,c.end)),i=c.str,_=f(c.str,1,c.start,c.end);let a;_===void 0?a=c.end:a=_;const m={str:i,start:a,end:c.end};if(r>=48&&r<=57)e=e+1|0,s=o(r-48|0,s);else if(r!==95)break;$=m;continue}else break}return{_0:$,_1:s,_2:e}}function ap(t,n,o){let s=n,e=0,$=t;for(;;){const c=$;if(H(c.str,1,c.start,c.end)){const r=k(c.str,f(c.str,0,c.start,c.end)),i=c.str,_=f(c.str,1,c.start,c.end);let a;_===void 0?a=c.end:a=_;const m={str:i,start:a,end:c.end};if(r>=48&&r<=57)e=e+1|0,s=o(r-48|0,s);else if(r!==95)break;$=m;continue}else break}return{_0:$,_1:s,_2:e}}function Xo(t,n){return _p(t,n,(o,s)=>At(bt(s,rt),eo(o)))}function lp(t){let n=t,o=!1,s,e;t:{n:{const $=n;if(H($.str,1,$.start,$.end)){const c=k($.str,f($.str,0,$.start,$.end));switch(c){case 43:{const r=$.str,i=f($.str,1,$.start,$.end);let _;i===void 0?_=$.end:_=i,s={str:r,start:_,end:$.end},e=c;break n}case 45:{const r=$.str,i=f($.str,1,$.start,$.end);let _;i===void 0?_=$.end:_=i,s={str:r,start:_,end:$.end},e=c;break n}}}break t}o=e===45,n=s}t:{const $=n;if(H($.str,1,$.start,$.end)){const c=k($.str,f($.str,0,$.start,$.end));if(c>=48&&c<=57){const r=ap(n,Br,(a,l)=>me(l,Tr)?St(Yt(rt,l),ut(a)):l),i=r._0,_=r._1;return o?{_0:i,_1:es(_)}:{_0:i,_1:_}}else break t}else break t}}function Yo(t,n){let o=n,s=0,e=t;for(;;){const $=e;let c;t:if(H($.str,1,$.start,$.end)){const r=k($.str,f($.str,0,$.start,$.end));if(r>=48&&r<=57){const i=$.str,_=f($.str,1,$.start,$.end);let a;_===void 0?a=$.end:a=_;const m={str:i,start:a,end:$.end};if(Be(o,C$)){s=s+1|0,o=At(bt(o,rt),eo(r-48|0)),e=m;continue}else{c=$;break t}}else if(r===95){const i=$.str,_=f($.str,1,$.start,$.end);let a;_===void 0?a=$.end:a=_,e={str:i,start:a,end:$.end};continue}else{c=$;break t}}else{c=$;break t}return{_0:c,_1:o,_2:s}}}function up(t){let n,o;t:{n:{if(H(t.str,1,t.start,t.end))switch(k(t.str,f(t.str,0,t.start,t.end))){case 45:{const y=t.str,S=f(t.str,1,t.start,t.end);let x;S===void 0?x=t.end:x=S,n={_0:{str:y,start:x,end:t.end},_1:!0};break}case 43:{const y=t.str,S=f(t.str,1,t.start,t.end);let x;S===void 0?x=t.end:x=S,o={str:y,start:x,end:t.end};break n}default:{o=t;break n}}else{o=t;break n}break t}n={_0:o,_1:!1}}const s=n._0,e=n._1;if(qp(s))return new Ht(void 0);const $=Xo(s,D),c=$._0,r=$._1,i=$._2;let _=r,a=c,l=i,m=0,p=D;const b=a;if(H(b.str,1,b.start,b.end)&&k(b.str,f(b.str,0,b.start,b.end))===46){const y=b.str,S=f(b.str,1,b.start,b.end);let x;S===void 0?x=b.end:x=S,a={str:y,start:x,end:b.end};const P=Xo(a,_),R=P._0,C=P._1,G=P._2;a=R,_=C,m=G,p=es(ut(m))}if(l=l+m|0,l===0)return new Ht(void 0);let h;t:{n:{const w=a;if(H(w.str,1,w.start,w.end))switch(k(w.str,f(w.str,0,w.start,w.end))){case 101:{const P=w.str,R=f(w.str,1,w.start,w.end);let C;R===void 0?C=w.end:C=R,h={str:P,start:C,end:w.end};break n}case 69:{const P=w.str,R=f(w.str,1,w.start,w.end);let C;R===void 0?C=w.end:C=R,h={str:P,start:C,end:w.end};break n}}break t}const d=lp(h);let y;if(d===void 0)return new Ht(void 0);y=d;const S=y._0,x=y._1;a=S,p=St(p,x)}const g=a;if(Et(g.str,0,g.start,g.end)){if(l<=19)return new Ht({exponent:p,mantissa:_,negative:e,many_digits:!1});l=l-19|0;let d=!1,y=t.str,S=t.start,x=t.end;t:for(;;){const j=y,P=S,R=x;let C,G;n:if(H(j,1,P,R)){const E=k(j,f(j,0,P,R));switch(E){case 48:{const T=f(j,1,P,R);let N;T===void 0?N=R:N=T,C={str:j,start:N,end:R},G=E;break n}case 46:{const T=f(j,1,P,R);let N;T===void 0?N=R:N=T,C={str:j,start:N,end:R},G=E;break n}default:break t}}else break;l=l-((G-46|0)/2|0)|0,y=C.str,S=C.start,x=C.end}let w=_;if(l>0){d=!0,w=D;const j=Yo(t,w),P=j._0,R=j._1,C=j._2;w=R;let G;if(ya(w,C$))G=C;else if(H(P.str,1,P.start,P.end)){const E=P.str,T=f(P.str,1,P.start,P.end);let N;T===void 0?N=P.end:N=T;const F={str:E,start:N,end:P.end},Pt=Yo(F,w),ht=Pt._1,Kt=Pt._2;w=ht,G=Kt}else return new Ht(void 0);p=ut(G),p=St(p,Hr)}return new Ht({exponent:p,mantissa:w,negative:e,many_digits:d})}else return np()}function Ko(t,n,o){const s=n-st.bias|0;let e=os(t,hn(Ft(ct,st.mantissa_bits),ct));const $=ut(s&((1<<st.exponent_bits)-1|0));return e=zo(e,Ft($,st.mantissa_bits)),o&&(e=zo(e,Ft(Ft(ct,st.mantissa_bits),st.exponent_bits))),e}function pp(t,n){if(n<0||n>=t.digits_num)return!1;let o;const s=t.digits;if(u(s,n),s[n]===5?o=(n+1|0)===t.digits_num:o=!1,o){if(t.truncated)return!0;let $;if(n>0){const c=t.digits,r=n-1|0;u(c,r),$=(c[r]%2|0)!==0}else $=!1;return $}const e=t.digits;return u(e,n),e[n]>=5}function mp(t){if(t.decimal_point>20)return s$;let n=D,o=0;for(;o<t.decimal_point&&o<t.digits_num;){const s=Yt(n,rt),e=t.digits,$=o;u(e,$),n=St(s,se(e[$])),o=o+1|0;continue}for(;o<t.decimal_point;){n=Yt(n,rt),o=o+1|0;continue}return pp(t,t.decimal_point)&&(n=St(n,ct)),n}function dp(t,n){const o=Io(Co,n)._0,s=Io(Co,n)._1;let e=!1;const $=s.length;let c=0;for(;;){const r=c;if(r<$){if(r>=t.digits_num){e=!0;break}const i=s.charCodeAt(r)-48|0,_=t.digits;if(u(_,r),_[r]!==i){const a=t.digits;u(a,r),e=a[r]<i;break}c=r+1|0;continue}else break}return e?o-1|0:o}function Qo(t,n){const o=dp(t,n);let s=t.digits_num,e=t.digits_num+o|0,$=D;for(s=s-1|0;s>=0;){const c=t.digits,r=s;u(c,r);const i=se(c[r]);$=St($,Ft(i,n));const _=jt($,rt),a=Dt(hn($,Yt(_,rt)));if(e=e-1|0,e<t.digits.length){const l=t.digits,m=e;u(l,m),l[m]=a&255}else a!==0&&(t.truncated=!0);$=_,s=s-1|0;continue}for(;G$($,D);){const c=jt($,rt),r=Dt(hn($,Yt(rt,c)));if(e=e-1|0,e<t.digits.length){const i=t.digits,_=e;u(i,_),i[_]=r&255}else r!==0&&(t.truncated=!0);$=c;continue}t.digits_num=t.digits_num+o|0,t.digits_num>t.digits.length&&(t.digits_num=t.digits.length),t.decimal_point=t.decimal_point+o|0,co(t)}function Zo(t,n){let o=0,s=0,e=D;for(;qt(gt(e,n),D);){if(o>=t.digits_num){for(;qt(gt(e,n),D);){e=bt(e,rt),o=o+1|0;continue}break}const c=t.digits,r=o;u(c,r);const i=c[r];e=At(bt(e,rt),se(i)),o=o+1|0;continue}t.decimal_point=t.decimal_point-(o-1|0)|0;const $=Fe(kn(ct,n),ct);for(;o<t.digits_num;){const c=gt(e,n),r=t.digits,i=s;u(r,i),r[i]=Eo(c),s=s+1|0,e=Ut(e,$);const _=t.digits,a=o;u(_,a);const l=_[a];e=At(bt(e,rt),se(l)),o=o+1|0;continue}for(;oe(e,D);){const c=gt(e,n);if(s<t.digits.length){const r=t.digits,i=s;u(r,i),r[i]=Eo(c),s=s+1|0}else oe(c,D)&&(t.truncated=!0);e=Ut(e,$),e=bt(e,rt);continue}t.digits_num=s,co(t)}function Xn(t,n){if(t.digits_num===0)return;let o=n;if(o>0){for(;o>59;){Qo(t,59),o=o-59|0;continue}Qo(t,o)}if(o<0){for(;o<-59;){Zo(t,59),o=o+59|0;continue}Zo(t,-o|0);return}else return}function bp(t){let n=0,o=D;if(t.digits_num===0||t.decimal_point<-330){o=D,n=st.bias;const e=Ko(o,n,t.negative);return new Ot(Xt(e))}if(t.decimal_point>310){const e=Qn();if(e.$tag===1)e._0;else return e}for(;t.decimal_point>0;){let e=0;t.decimal_point>=Fn.length?e=60:e=mt(Fn,t.decimal_point),Xn(t,-e|0),n=n+e|0;continue}for(;;){let e;if(t.decimal_point<0)e=!0;else{let $;if(t.decimal_point===0){const c=t.digits;u(c,0),$=c[0]<5}else $=!1;e=$}if(e){let $=0;(-t.decimal_point|0)>=Fn.length?$=60:$=mt(Fn,-t.decimal_point|0),Xn(t,$),n=n-$|0;continue}else break}if(n=n-1|0,n<(st.bias+1|0)){const e=(st.bias+1|0)-n|0;Xn(t,-e|0),n=n+e|0}if((n-st.bias|0)>=((1<<st.exponent_bits)-1|0)){const e=Qn();if(e.$tag===1)e._0;else return e}if(Xn(t,st.mantissa_bits+1|0),o=mp(t),To(o,Ft(c$,st.mantissa_bits))&&(o=Zl(o,1),n=n+1|0,(n-st.bias|0)>=((1<<st.exponent_bits)-1|0))){const e=Qn();if(e.$tag===1)e._0;else return e}To(os(o,Ft(ct,st.mantissa_bits)),D)&&(n=st.bias);const s=Ko(o,n,t.negative);return new Ot(Xt(s))}function fp(t,n){if(qt(t,D)||qt(n,D))return Fr;if(qt(t,ct))return n;if(qt(n,ct))return t;if(Bo(n)===0||Bo(t)===0)return;const o=eu(Wr,n);if(!oe(t,o))return bt(t,n)}function gp(t){return gn(Dr,t.exponent)&&gn(t.exponent,Nr)&&Sa(t.mantissa,P$)&&!t.many_digits}function hp(t){if(gp(t)){let n;if(gn(t.exponent,Pe)){const o=$e(t.mantissa);if(me(t.exponent,D)){const e=(-Dt(t.exponent)|0)&31;u(Qt,e),n=o/Qt[e]}else{const e=Dt(t.exponent)&31;u(Qt,e),n=o*Qt[e]}}else{const o=hn(t.exponent,Pe),s=t.mantissa,e=Dt(o);u(xo,e);const $=fp(s,xo[e]);let c;if($===void 0||(c=$,oe(c,P$)))return Ie;const r=$e(c),_=Dt(Pe)&31;u(Qt,_),n=r*Qt[_]}return t.negative&&(n=-n),new y$(n)}else return Ie}function kp(t){if((t.end-t.start|0)>0)if($p(t)){const n=up(t);let o;if(n.$tag===1)o=n._0;else return n;if(o===void 0)return ip(t);{const $=hp(o);if($.$tag===1){const r=$._0;return new Ot(r)}else{const c=cp(t);let r;if(c.$tag===1)r=c._0;else return c;return bp(r)}}}else return ie();else return ie()}function wp(t){return{val:t}}function io(t){const n=pt(t),o=n-1|0,s=(Math.imul(n,13)|0)/16|0;return{entries:Z(n,void 0),size:0,capacity:n,capacity_mask:o,grow_at:s,head:void 0,tail:-1}}function Mp(t,n,o){const s=t.tail;if(s===-1)t.head=o;else{const $=t.entries;u($,s);const c=$[s];let r;c===void 0?r=I():r=c,r.next=o}t.tail=n;const e=t.entries;u(e,n),e[n]=o,t.size=t.size+1|0}function t$(t,n,o){const s=t.entries;u(s,o),s[o]=n;const e=n.next;if(e===void 0){t.tail=o;return}else{const c=e;c.prev=o;return}}function yp(t,n,o){let s=o.psl+1|0,e=n+1&t.capacity_mask,$=o;for(;;){const c=s,r=e,i=$,_=t.entries;u(_,r);const a=_[r];if(a===void 0){i.psl=c,t$(t,i,r);break}else{const m=a;if(c>m.psl){i.psl=c,t$(t,i,r),s=m.psl+1|0,e=r+1&t.capacity_mask,$=m;continue}else{s=c+1|0,e=r+1&t.capacity_mask;continue}}}}function hs(t,n,o){t.size>=t.grow_at&&Sp(t);let s,e=0,$=o&t.capacity_mask;for(;;){const l=e,m=$,p=t.entries;u(p,m);const b=p[m];if(b===void 0){s={_0:m,_1:l};break}else{const g=b;let d;if(g.hash===o){const y=g.key;d=y._0===n._0&&y._1===n._1}else d=!1;if(d)return;if(l>g.psl){yp(t,m,g),s={_0:m,_1:l};break}e=l+1|0,$=m+1&t.capacity_mask;continue}}const c=s._0,r=s._1,a={prev:t.tail,next:void 0,psl:r,hash:o,key:n};Mp(t,c,a)}function Sp(t){const n=t.head,o=t.capacity<<1;t.entries=Z(o,void 0),t.capacity=o,t.capacity_mask=o-1|0;const s=t.capacity;t.grow_at=(Math.imul(s,13)|0)/16|0,t.size=0,t.head=void 0,t.tail=-1;let e=n;for(;;){const $=e;if($===void 0)return;{const r=$,i=r.next,_=r.key,a=r.hash;hs(t,_,a),e=i;continue}}}function sn(t,n){hs(t,n,j$(n))}function ks(t){const n=t.length;let o=pt(n);n>((Math.imul(o,13)|0)/16|0)&&(o=Math.imul(o,2)|0);const e=io(o),$=t.length;let c=0;for(;;){const r=c;if(r<$){const i=t[r];sn(e,i),c=r+1|0;continue}else break}return e}function Cp(t,n){const o=j$(n);let s=0,e=o&t.capacity_mask;for(;;){const $=s,c=e,r=t.entries;u(r,c);const i=r[c];if(i===void 0)return!1;{const a=i;let l;if(a.hash===o){const m=a.key;l=m._0===n._0&&m._1===n._1}else l=!1;if(l)return!0;if($>a.psl)return!1;s=$+1|0,e=c+1&t.capacity_mask;continue}}}function ws(t){Cl(t.entries,void 0,0),t.size=0,t.head=void 0,t.tail=-1}function Ms(t){return o=>{let s=t.head;for(;;){const e=s;if(e===void 0)return 1;{const c=e,r=c.key,i=c.next;if(o(r)===1){s=i;continue}else return 0}}}}function ys(t,n,o){let s;return o===void 0?s=t.end-t.start|0:s=o,n>=0&&n<=s&&s<=(t.end-t.start|0)?{str:t.str,start:t.start+n|0,end:t.start+s|0}:ha()}function xp(t,n,o,s){let e=0,$=s;for(;($-1|0)>=o&&e<n;){const c=$-1|0,r=t.charCodeAt(c);56320<=r&&r<=57343?$=$-2|0:$=$-1|0,e=e+1|0;continue}return e<n||$<o?void 0:$}function Lp(t,n,o,s){if(o>=0&&o<=s){let e=o,$=0;for(;e<s&&$<n;){const c=e,r=t.charCodeAt(c);55296<=r&&r<=56319?e=e+2|0:e=e+1|0,$=$+1|0;continue}return $<n||e>=s?void 0:e}else return ka()}function f(t,n,o,s){let e;return s===void 0?e=t.length:e=s,n>=0?Lp(t,n,o,e):xp(t,-n|0,o,e)}function Et(t,n,o,s){let e;s===void 0?e=t.length:e=s;let $=o,c=0;for(;;){const r=$,i=c;if(r<e&&i<n){const _=t.charCodeAt(r);if(55296<=_&&_<=56319&&(r+1|0)<e){const a=r+1|0,l=t.charCodeAt(a);if(56320<=l&&l<=57343){$=r+2|0,c=i+1|0;continue}else xn()}$=r+1|0,c=i+1|0;continue}else return i===n&&r===e}}function H(t,n,o,s){let e;s===void 0?e=t.length:e=s;let $=o,c=0;for(;;){const r=$,i=c;if(r<e&&i<n){const _=t.charCodeAt(r);if(55296<=_&&_<=56319&&(r+1|0)<e){const a=r+1|0,l=t.charCodeAt(a);if(56320<=l&&l<=57343){$=r+2|0,c=i+1|0;continue}else xn()}$=r+1|0,c=i+1|0;continue}else return i>=n}}function Yn(t){return t.str.substring(t.start,t.end)}function Ss(t,n){return(((Math.imul(t-55296|0,1024)|0)+n|0)-56320|0)+65536|0}function Ip(t,n){const o=t.end-t.start|0;if(o===(n.end-n.start|0)){if(t.str===n.str&&t.start===n.start)return!0;let s=0;for(;;){const e=s;if(e<o){const $=t.str,c=t.start+e|0,r=$.charCodeAt(c),i=n.str,_=n.start+e|0;if(r!==i.charCodeAt(_))return!1;s=e+1|0;continue}else break}return!0}else return!1}function Pp(t){return o=>{const s=t.length;let e=0;for(;;){const $=e;if($<s){const c=t.charCodeAt($);if(55296<=c&&c<=56319&&($+1|0)<s){const i=$+1|0,_=t.charCodeAt(i);if(56320<=_&&_<=57343){const a=Ss(c,_);if(o(a)===1){e=$+2|0;continue}else return 0}}if(o(c)!==1)return 0;e=$+1|0;continue}else return 1}}}function Gp(t,n){const o=t.end-t.start|0,s=n.end-n.start|0;if(s>0)if(o>=s){const e=Z(256,s),$=s-1|0;let c=0;for(;;){const i=c;if(i<$){const _=n.str,a=n.start+i|0,l=_.charCodeAt(a)&255;u(e,l),e[l]=(s-1|0)-i|0,c=i+1|0;continue}else break}let r=0;for(;;){const i=r;if(i<=(o-s|0)){const _=s-1|0;let a=0;for(;;){const h=a;if(h<=_){const g=i+h|0,d=t.str,y=t.start+g|0,S=d.charCodeAt(y),x=n.str,w=n.start+h|0;if(S!==x.charCodeAt(w))break;a=h+1|0;continue}else return i}const l=(i+s|0)-1|0,m=t.str,p=t.start+l|0,b=m.charCodeAt(p)&255;u(e,b),r=i+e[b]|0;continue}else break}return}else return;else return Ur}function vp(t,n){const o=t.end-t.start|0,s=n.end-n.start|0;if(s>0)if(o>=s){const $=n.str,c=n.start+0|0,r=$.charCodeAt(c),i=o-s|0;let _=0;for(;_<=i;){for(;;){let a;if(_<=i){const l=_,m=t.str,p=t.start+l|0;a=m.charCodeAt(p)!==r}else a=!1;if(a){_=_+1|0;continue}else break}if(_<=i){let a=1;for(;;){const l=a;if(l<s){const m=_+l|0,p=t.str,b=t.start+m|0,h=p.charCodeAt(b),g=n.str,d=n.start+l|0;if(h!==g.charCodeAt(d))break;a=l+1|0;continue}else return _}_=_+1|0}continue}return}else return;else return Vr}function jp(t,n){return(n.end-n.start|0)<=4?vp(t,n):Gp(t,n)}function Ap(t,n){if(n<=0)return"";if(n===1)return t;{const o=Jt(),s=t;let e=0;for(;;){const $=e;if($<n){J(o,s),e=$+1|0;continue}else break}return o.val}}function Ge(t,n){return jp(t,n)!==void 0}function qp(t){return(t.end-t.start|0)===0}function we(t,n){if(n>=0&&n<(t.end-t.start|0)){const o=t.str,s=t.start+n|0,e=o.charCodeAt(s);if(55296<=e&&e<=56319)if((n+1|0)<(t.end-t.start|0)){const $=n+1|0,c=t.str,r=t.start+$|0,i=c.charCodeAt(r);return 56320<=i&&i<=57343?Ss(e,i):-1}else return-1;else return 56320<=e&&e<=57343?-1:e}else return-1}function Cs(){return{now:0}}function ln(t){return t.now=t.now+1|0,t.now}function xs(t,n){switch(t){case 0:return n===0;case 1:return n===1;case 2:return n===2;case 3:return n===3;default:return n===4}}function Rp(t,n){switch(t){case 0:{tn(n,0);return}case 1:{tn(n,1);return}case 2:{tn(n,2);return}case 3:{tn(n,3);return}default:{tn(n,4);return}}}function Op(t){switch(t){case 0:{const n="HeartCrystalDust";return new v(n)}case 1:{const n="RecallGear";return new v(n)}case 2:{const n="SpiritalSpark";return new v(n)}case 3:{const n="RefinedCopper";return new v(n)}default:{const n="ResonantCrystal";return new v(n)}}}function Ep(t){return{cost:t}}function _o(t){const n=O([]);return M(n,"health",yt(t.health)),M(n,"attack",yt(t.attack)),M(n,"defense",yt(t.defense)),M(n,"dodge",yt(t.dodge)),new q(n)}function Q(t,n,o,s){return{health:t,attack:n,defense:o,dodge:s}}function n$(t,n){return{health:Math.fround(t.health+n.health),attack:Math.fround(t.attack+n.attack),defense:Math.fround(t.defense+n.defense),dodge:Math.fround(t.dodge+n.dodge)}}function We(t){const n=O([]);return M(n,"equipment_base",zp(t.equipment_base)),M(n,"id",z(t.id)),new q(n)}function zp(t){const n=O([]),o=t.name;M(n,"name",new v(o));const s=t.description;M(n,"description",new v(s));const e=t.resource_url;return M(n,"resource_url",new v(e)),M(n,"attribute",_o(t.attribute)),new q(n)}function ot(t){return{equipment_base:t,id:ln(Sn)}}function Tp(t){const n=O([]);M(n,"id",z(t.id));const o=t.type_msg;M(n,"type_msg",new v(o));const s=t.content;return M(n,"content",new v(s)),new q(n)}function Jp(){return{history:[],callback:t=>{}}}function Bp(t,n){t.callback=n}function tt(t,n){const o={id:ln(ma),type_msg:n.type_msg,content:n.content};Rl(t.history,o);const s=t.callback;s(U(Tp(o),!1,0))}function ao(t){const n=O([]);return M(n,"id",z(t.id)),M(n,"level",z(t.level)),M(n,"suffix",z(t.suffix)),M(n,"live_left",z(t.live_left)),M(n,"attribute",_o(t.attribute)),M(n,"copper_type",Ls(t.copper_type)),M(n,"equipment_slot",Hp(t.equipment_slot)),M(n,"copper_info",Np(t.copper_info)),new q(n)}function Ls(t){switch(t){case 0:{const n="IronWall";return new v(n)}case 1:{const n="Arcanist";return new v(n)}case 2:{const n="CraftsMan";return new v(n)}case 3:{const n="Mechanic";return new v(n)}default:{const n="Resonator";return new v(n)}}}function Hp(t){const n=O([]),o=t.slot1;o===void 0||M(n,"slot1",We(o));const s=t.slot2;return s===void 0||M(n,"slot2",We(s)),M(n,"is_slot2_locked",Ne(t.is_slot2_locked)),new q(n)}function Np(t){const n=O([]),o=t.name;M(n,"name",new v(o)),M(n,"copper_type",Ls(t.copper_type));const s=t.description;M(n,"description",new v(s));const e=t.icon_url;M(n,"icon_url",new v(e));const $=t.model_url;M(n,"model_url",new v($));const c=t.skill;return c===void 0||M(n,"skill",Dp(c)),new q(n)}function Dp(t){const n=O([]),o=t.name;M(n,"name",new v(o));const s=t.description;M(n,"description",new v(s));const e=t.resource_url;M(n,"resource_url",new v(e));const $=t.cool_down;return $===void 0||M(n,"cool_down",z($)),new q(n)}function Fp(t){t:switch(t.copper_type){case 0:return Q(Math.fround(30),Math.fround(5),Math.fround(5),Math.fround(5));case 1:return Q(Math.fround(15),Math.fround(10),Math.fround(2.5),Math.fround(2.5));case 4:return Q(Math.fround(15),Math.fround(2.5),Math.fround(2.5),Math.fround(2.5));case 3:break t;default:break t}return Q(Math.fround(15),Math.fround(2.5),Math.fround(2.5),Math.fround(2.5))}function Up(t){return{slot1:t.slot1,slot2:t.slot2,is_slot2_locked:!1}}function Vp(t){const n=Fp(t);return t.level===4?{...t,attribute:n$(t.attribute,n),level:t.level+1|0,equipment_slot:Up(t.equipment_slot)}:{...t,attribute:n$(t.attribute,n),level:t.level+1|0}}function Wp(t){let n;switch(t){case 1:{n=5;break}case 2:{n=10;break}case 3:{n=20;break}case 4:{n=30;break}default:tt(V,Bi),n=0}return Ep([{_0:2,_1:n}])}function Is(){return{slot1:void 0,slot2:void 0,is_slot2_locked:!0}}function Ps(t){switch(t){case 0:return Q(Math.fround(150),Math.fround(15),Math.fround(20),Math.fround(10));case 1:return Q(Math.fround(50),Math.fround(20),Math.fround(5),Math.fround(10));case 4:return Q(Math.fround(50),Math.fround(10),Math.fround(5),Math.fround(10));case 3:return Q(Math.fround(80),Math.fround(5),Math.fround(5),Math.fround(10));default:return Q(Math.fround(80),Math.fround(0),Math.fround(5),Math.fround(10))}}function ve(t){const n=yl(pa,t),o=ln(Sn);return{id:o,level:1,suffix:o,live_left:5,attribute:Ps(n.copper_type),copper_type:n.copper_type,equipment_slot:Is(),copper_info:n}}function en(t,n){return t+Ku(x$,(n-t|0)+1|0)|0}function Xe(t){return Qu(x$)<=t}function Xp(){return gl([Hi,Ni,Di,Fi,Ui])}function Nt(t,n){const o=V$(t,n);return o===void 0?I():o}function Gs(t,n,o){const s=V$(t,n);let e;if(s===void 0?e=I():e=s,e<o){tt(V,Vi);return}else{N$(t,n,e-o|0);return}}function Yp(t,n){const o=n.cost,s=o.length;let e=0;for(;;){const $=e;if($<s){const c=o[$],r=c._0,i=c._1;if(Nt(t,r)<i)return!1;e=$+1|0;continue}else break}return!0}function Kp(t,n){const o=n.cost,s=o.length;let e=0;for(;;){const $=e;if($<s){const c=o[$],r=c._0,i=c._1;Gs(t,r,i),e=$+1|0;continue}else return}}function Qp(){const t=ve("阿磐"),n=ve("咝咝"),o=ve("波波");return{coppers:Kn(Kn(Kn(void 0,t.id,t),n.id,n),o.id,o)}}function vs(t,n){return{coppers:Kn(t.coppers,n.id,n)}}function Zn(t,n){const o=Cu(t.coppers,n);return o===void 0?I():o}function Zp(t){return Fl(Iu(t.coppers))}function t0(t,n){return{coppers:xu(t.coppers,n)}}function n0(){const t=ln(Sn),n=en(0,dn.length-1|0);u(dn,n);const o=dn[n],s=Ps(o.copper_type);return{id:t,level:1,suffix:t,live_left:5,attribute:s,copper_type:o.copper_type,equipment_slot:Is(),copper_info:o}}function e0(t){if(Nt(t,2)>10)return Gs(t,2,10),n0();tt(V,Wi)}function o0(){return{resource:Xp(),warehouse:Qp()}}function $0(t){const n=t.resource,o=O([{_0:"SpiritalSpark",_1:z(Nt(n,2))},{_0:"RecallGear",_1:z(Nt(n,1))},{_0:"ResonantCrystal",_1:z(Nt(n,4))},{_0:"RefinedCopper",_1:z(Nt(n,3))},{_0:"HeartCrystalDust",_1:z(Nt(n,0))}]);return U(new q(o),!1,0)}function s0(t){const n=t.warehouse,o=O([{_0:"coppers",_1:jl(Zp(n))}]);return U(new q(o),!1,0)}function r0(t){const n=e0(t.resource);let o;if(n===void 0){const s="error",e={_0:"type",_1:new v(s)},$="资源不足",c=O([e,{_0:"content",_1:new v($)}]);o=new q(c)}else{const e=n;t.warehouse=vs(t.warehouse,e);const $="success",c=O([{_0:"type",_1:new v($)},{_0:"copper",_1:ao(e)}]);o=new q(c)}return U(o,!1,0)}function c0(t,n){const o=t.warehouse,s=Zn(o,n),e=Wp(s.level);let $;if(Yp(t.resource,e)){const c=Vp(s);Kp(t.resource,e),t.warehouse=t0(t.warehouse,n),t.warehouse=vs(t.warehouse,c);const r="success",i=O([{_0:"type",_1:new v(r)}]);$=new q(i)}else{const c="error",r={_0:"type",_1:new v(c)},i="资源不足",_=O([r,{_0:"content",_1:new v(i)}]);$=new q(_)}return U($,!1,0)}function js(t){const n=O([]);return M(n,"id",z(t.id)),M(n,"original_id",z(t.original_id)),M(n,"copper",ao(t.copper)),M(n,"can_move",Ne(t.can_move)),M(n,"can_attack",Ne(t.can_attack)),M(n,"position",It(t.position)),M(n,"now_health",yt(t.now_health)),M(n,"attribute",_o(t.attribute)),M(n,"inventory",_0(t.inventory)),new q(n)}function i0(t){const n=O([]);return M(n,"id",z(t.id)),M(n,"position",It(t.position)),M(n,"now_health",yt(t.now_health)),M(n,"enemy_base",a0(t.enemy_base)),new q(n)}function _0(t){const n=O([]);return M(n,"capacity",z(t.capacity)),M(n,"items",Al(t.items)),new q(n)}function As(t){const n=O([]);return M(n,"item_type",l0(t.item_type)),M(n,"count",z(t.count)),new q(n)}function a0(t){const n=O([]);M(n,"level",z(t.level)),M(n,"health",yt(t.health)),M(n,"attack",yt(t.attack)),M(n,"defense",yt(t.defense)),M(n,"dodge",yt(t.dodge)),M(n,"attack_range",z(t.attack_range)),M(n,"move_range",z(t.move_range));const o=t.name;M(n,"name",new v(o));const s=t.description;M(n,"description",new v(s));const e=t.asset_url;M(n,"asset_url",new v(e));const $=t.model_url;return M(n,"model_url",new v($)),M(n,"drop_items",ql(t.drop_items)),new q(n)}function l0(t){if(t.$tag===0){const o=t._0,s="Resource",e=[new v(s),Op(o)];return new Ct(e)}else{const o=t._0,s="Equipment",e=[new v(s),We(o)];return new Ct(e)}}function u0(t,n){switch(t){case 0:{n.method_0(n.self,"PositiveX");return}case 1:{n.method_0(n.self,"NegativeX");return}case 2:{n.method_0(n.self,"PositiveY");return}default:{n.method_0(n.self,"NegativeY");return}}}function Vt(t,n){const o={_0:"id",_1:z(t)},s=Ta(n),e=O([o,{_0:"direction",_1:new v(s)}]);tt(V,{type_msg:"change_direction",content:U(new q(e),!1,0)})}function cn(t,n){const o=O([{_0:"id",_1:z(t)},{_0:"to",_1:It(n)}]);tt(V,{type_msg:"move_to",content:U(new q(o),!1,0)})}function p0(){cn(1,Yi),Vt(1,0)}function qs(t,n){const o={_0:"id",_1:z(t)},s=A$(),e=O([o,{_0:"can_attack",_1:new v(s)}]);tt(V,{type_msg:"display_can_attack",content:U(new q(e),!1,0)})}function Rs(t,n){const o={_0:"id",_1:z(t)},s=A$(),e=O([o,{_0:"can_move",_1:new v(s)}]);tt(V,{type_msg:"display_can_move",content:U(new q(e),!1,0)})}function m0(){Rs(1),qs(1)}function Os(t){const n=O([{_0:"id",_1:z(t)}]);tt(V,{type_msg:"clear_state",content:U(new q(n),!1,0)})}function d0(){Os(1)}function Me(t){const n=O([{_0:"id",_1:z(t)}]);tt(V,{type_msg:"remove_unit",content:U(new q(n),!1,0)})}function b0(){Me(2)}function Es(t){const n=O([{_0:"id",_1:z(t)}]);tt(V,{type_msg:"animate_move",content:U(new q(n),!1,0)})}function f0(){Es(1)}function zs(){const t=O([]);tt(V,{type_msg:"animate_reset",content:U(new q(t),!1,0)})}function g0(){zs()}function lo(t){const n=O([{_0:"position",_1:It(t)}]);tt(V,{type_msg:"clear_block",content:U(new q(n),!1,0)})}function te(t){const n=O([{_0:"position",_1:It(t)}]);tt(V,{type_msg:"put_map_block",content:U(new q(n),!1,0)})}function Ts(t){const n=O([{_0:"position",_1:It(t)}]);tt(V,{type_msg:"set_attack_block",content:U(new q(n),!1,0)})}function Js(t){const n=O([{_0:"position",_1:It(t)}]);tt(V,{type_msg:"set_move_block",content:U(new q(n),!1,0)})}function h0(){te(Ki),te(Qi),te(Zi),Js(t_),Ts(n_),lo(e_)}function k0(){Rs(1),cn(1,o_),Os(1),qs(1),Vt(1,0),Es(1),Me(2),zs()}function w0(t,n,o){const s=O([{_0:"id",_1:z(n)},{_0:"position",_1:It(o)},{_0:"copper",_1:js(t)}]);tt(V,{type_msg:"set_copper",content:U(new q(s),!1,0)})}function M0(t,n,o){const s=O([{_0:"id",_1:z(n)},{_0:"position",_1:It(o)},{_0:"enemy",_1:i0(t)}]);tt(V,{type_msg:"set_enemy",content:U(new q(s),!1,0)})}function L(t,n){return{item_type:t,count:n}}function y0(t){if(t===10)return Sl(ba,"（BOSS）废械吞噬者 · 饕餮");{const n=[],o=Oe.length;let s=0;for(;;){const $=s;if($<o){const c=Oe[$];c.level<=t&&Hl(n,c),s=$+1|0;continue}else break}const e=n;return va(e,en(0,e.length-1|0))}}function je(t){let n=en(0,14),o=en(0,14);for(;Cp(t,{_0:n,_1:o});){n=en(0,14),o=en(0,14);continue}return{_0:n,_1:o}}function S0(t,n){return{id:ln(Sn),position:n,now_health:t.health,enemy_base:t}}function C0(){return{occupant:ne,resources:[]}}function Bs(t,n,o){const s=[];let e=0;for(;;){const r=e;if(r<16){const i=[];let _=0;for(;;){const a=_;if(a<16){zl(i,C0()),_=a+1|0;continue}else break}Tl(s,i),e=r+1|0;continue}else break}it(_t(s,7),7).occupant=mr;const $=mt(Xi,t);let c=0;for(;;){const r=c;if(r<$){const i=y0(t),_=je(o);sn(o,_),it(_t(s,_._0),_._1).occupant=new r$(S0(i,_)),c=r+1|0;continue}else break}if(Xe(.5)){const r=je(o);sn(o,r),it(_t(s,r._0),r._1).occupant=$_}if(Xe(.5)){const r=je(o);sn(o,r),it(_t(s,r._0),r._1).occupant=s_}return{index_position:n,blocks:s}}function Hs(t,n){const o=n._0,s=n._1,e=t.index_position,$=e._0,c=e._1;return o>=$&&o<($+15|0)&&s>=c&&s<(c+15|0)}function x0(t,n){const o=n._0,s=n._1,e=t.index_position,$=e._0,c=e._1,r=o-$|0,i=s-c|0;return r<0?i<0?{_0:5,_1:{_0:$-15|0,_1:c}}:i>=15?{_0:4,_1:{_0:$-15|0,_1:c+15|0}}:{_0:0,_1:{_0:$-15|0,_1:c}}:r>=15?i<0?{_0:7,_1:{_0:$+15|0,_1:c}}:i>=15?{_0:6,_1:{_0:$+15|0,_1:c+15|0}}:{_0:1,_1:{_0:$+15|0,_1:c}}:i<0?{_0:3,_1:{_0:$,_1:c-15|0}}:{_0:2,_1:{_0:$,_1:c+15|0}}}function Ns(t){const n=t.index_position,o=n._0,s=n._1;let e=0;for(;;){const $=e;if($<15){let c=0;for(;;){const r=c;if(r<15){const i={_0:o+$|0,_1:s+r|0};te(i);const _=it(_t(t.blocks,$),r).occupant;if(_.$tag===0){const l=_._0;M0(l,l.id,i)}else if(_.$tag===1){const l=_._0;w0(l,l.id,i)}else _.$tag===2||_.$tag;c=r+1|0;continue}else break}e=$+1|0;continue}else return}}function Ds(t,n){Jl(t.rooms,n),Ns(n)}function L0(t){const n=Bs(1,r_,t),o={rooms:[]};return Ds(o,n),o}function bn(t,n){const o=t.rooms,s=o.length;let e=0;for(;;){const $=e;if($<s){const c=o[$];if(Hs(c,n))return c;e=$+1|0;continue}else break}}function Fs(t,n){const o=t.rooms,s=o.length;let e=0;for(;;){const $=e;if($<s){const c=o[$];if(Hs(c,n))return{_0:c,_1:n};e=$+1|0;continue}else break}}function Us(t,n){const o=bn(t,n);if(o!==void 0){const e=o,$=Fs(t,n);if($===void 0)I();else{const i=$._1,_=it(_t(e.blocks,i._0),i._1).occupant;let a;return _.$tag===4?a=!0:a=!1,!a}}return!0}function Vs(t,n){const o=bn(t,n);if(o===void 0)return I();{const e=o,$=Fs(t,n);if($===void 0)return I();{const i=$._1;return{_0:e,_1:i}}}}function Ws(t,n){const o=Vs(t,n),s=o._0,e=o._1;return it(_t(s.blocks,e._0),e._1).occupant}function I0(t,n){const o=Vs(t,n),s=o._0,e=o._1;it(_t(s.blocks,e._0),e._1).occupant=ne}function P0(t){return((t/5|0)+1|0)>11?11:(t/5|0)+1|0}function G0(t){return{capacity:t,items:[]}}function v0(){return{map:L0(ks([c_,i_,__]))}}function In(t){const n=Ml(L$,t);return n===void 0?I():n}function j0(t){const n=O([{_0:"copper",_1:js(In(t))}]);tt(V,{type_msg:"handle_on_click_copper",content:U(new q(n),!1,0)})}function A0(t){const n=[];let s=-t|0;for(;;){const e=s;if(e<=t){let c=-t|0;for(;;){const r=c;if(r<=t){(e!==0||r!==0)&&W$(n,{_0:e,_1:r}),c=r+1|0;continue}else break}s=e+1|0;continue}else break}return n}function q0(t){switch(t.copper.copper_type){case 0:return 1;case 1:return 3;case 3:return 1;case 4:return 0;default:return 0}}function R0(t,n){const o=q0(t),s=A0(o),e=[],$=s.length;let c=0;for(;;){const r=c;if(r<$){const i=s[r],_={_0:t.position._0+i._0|0,_1:t.position._1+i._1|0};if(Us(n,_)){const a=Ws(n,_);if(a.$tag===0){const m=a._0;El(e,m)}}c=r+1|0;continue}else break}return e}function O0(t,n){const o=In(n),s=R0(o,t),e=s.length;let $=0;for(;;){const c=$;if(c<e){const i=s[c].position;Ts(i),sn(Re,i),$=c+1|0;continue}else return}}function E0(){Ms(Re)(n=>(lo(n),1)),ws(Re)}function z0(t,n){const o=Math.fround(n-t.enemy_base.defense);if(Math.fround(o>Math.fround(0))){if(Xe(t.enemy_base.dodge/100))return!1;if(t.now_health=Math.fround(t.now_health-o),Math.fround(t.now_health<=Math.fround(0)))return!0}return!1}function T0(t,n,o){const s=In(t),e=Ws(o,n);if(e.$tag===0){const c=e._0;if(z0(c,s.attribute.attack)){Me(c.id),I0(o,n);return}else return}else{I();return}}function J0(t,n){const o=[a_,l_,u_,p_],s=[],e=o.length;let $=0;for(;;){const c=$;if(c<e){const r=o[c],i={_0:t.position._0+r._0|0,_1:t.position._1+r._1|0};Us(n,i)||W$(s,i),$=c+1|0;continue}else break}return s}function B0(t,n){const o=In(n),s=J0(o,t),e=s.length;let $=0;for(;;){const c=$;if(c<e){const r=s[c];Js(r),sn(Te,r),$=c+1|0;continue}else return}}function e$(t){t:switch(t){case 0:return 1;case 1:return 0;case 2:return 2;case 3:return 3;case 4:break t;case 5:break t;case 6:break t;default:break t}return ga()}function H0(t,n){const o=n._0-t._0|0,s=n._1-t._1|0;return o!==0?o<0?0:1:s<0?3:2}function N0(t,n,o){const s=In(t);if(bn(o,n)===void 0){const c=s.position,r=bn(o,c);let i;r===void 0?i=I():i=r;const _=x0(i,n),a=_._0,l=_._1,m=Bs(P0(o.rooms.length+1|0),l,ks([l]));Ds(o,m),it(_t(i.blocks,c._0),c._1).occupant=ne,it(_t(m.blocks,l._0),l._1).occupant=new on(s),Vt(t,e$(a)),s.position=l,cn(t,l)}else{const c=s.position,r=bn(o,c);let i;r===void 0?i=I():i=r,it(_t(i.blocks,c._0),c._1).occupant=ne,it(_t(i.blocks,n._0),n._1).occupant=new on(s),s.position=n,Vt(t,e$(H0(c,n))),cn(t,n)}Ms(Te)(c=>(lo(c),1)),ws(Te)}function Ae(t,n,o){const s=ln(Sn),e=t.attribute.health,$=t.attribute,c=G0(5),r={id:s,original_id:n,copper:t,can_move:!0,can_attack:!0,position:o,now_health:e,attribute:$,inventory:c};return fl(L$,r.id,r),r}function D0(t){const n=Cn.warehouse,o=Ae(Zn(n,mt(t,0)),mt(t,0),m_),s=Ae(Zn(n,mt(t,1)),mt(t,1),d_),e=Ae(Zn(n,mt(t,2)),mt(t,2),b_);nn.val=v0();const $=nn.val;let c;$===void 0?c=I():c=$;const r=c.map,i=Pa(r.rooms,0);it(_t(i.blocks,0),6).occupant=new on(o),it(_t(i.blocks,0),7).occupant=new on(s),it(_t(i.blocks,0),8).occupant=new on(e),Ns(i),Vt(mt(t,0),2),Vt(mt(t,1),2),Vt(mt(t,2),2)}function wt(t){t:{const n=Hu(t);let o;n===void 0?o=I():o=n;const s=op({str:o,start:0,end:o.length});if(s.$tag===1)return s._0;s._0;break t}return I()}function F0(t){let n;t:{n:{const o=Bu({str:t,start:0,end:t.length},1024);if(o.$tag===1)n=o._0;else{o._0;break n}break t}n=I()}t:if(n.$tag===6){const s=n._0,e=X(s,"type");if(e===void 0)break t;{const c=e;if(c.$tag===4)switch(c._0){case"on_click_copper":{const _=X(s,"content");if(_===void 0)break t;{const l=_;if(l.$tag===6){const p=l._0,b=X(p,"id");if(b===void 0)break t;j0(wt(b));return}else break t}}case"on_attack_start":{const _=X(s,"content");if(_===void 0)break t;{const l=_;if(l.$tag===6){const p=l._0,b=X(p,"id");if(b===void 0)break t;{const g=b,d=nn.val;let y;d===void 0?y=I():y=d,O0(y.map,wt(g));return}}else break t}}case"on_attack_end":{E0();return}case"on_attack_apply":{const _=X(s,"content");if(_===void 0)break t;{const l=_;if(l.$tag===6){const p=l._0,b=X(p,"id");if(b===void 0)break t;{const g=b,d=X(p,"position");if(d===void 0)break t;{const S=d;if(S.$tag===6){const w=S._0,j=X(w,"x");if(j===void 0)break t;{const R=j,C=X(w,"y");if(C===void 0)break t;{const E=C,T=wt(g),N={_0:wt(R),_1:wt(E)},W=nn.val;let F;W===void 0?F=I():F=W,T0(T,N,F.map);return}}}else break t}}}else break t}}case"on_move_start":{const _=X(s,"content");if(_===void 0)break t;{const l=_;if(l.$tag===6){const p=l._0,b=X(p,"id");if(b===void 0)break t;{const g=b,d=nn.val;let y;d===void 0?y=I():y=d,B0(y.map,wt(g));return}}else break t}}case"on_move_apply":{const _=X(s,"content");if(_===void 0)break t;{const l=_;if(l.$tag===6){const p=l._0,b=X(p,"id");if(b===void 0)break t;{const g=b,d=X(p,"position");if(d===void 0)break t;{const S=d;if(S.$tag===6){const w=S._0,j=X(w,"x");if(j===void 0)break t;{const R=j,C=X(w,"y");if(C===void 0)break t;{const E=C,T=wt(g),N={_0:wt(R),_1:wt(E)},W=nn.val;let F;W===void 0?F=I():F=W,N0(T,N,F.map);return}}}else break t}}}else break t}}case"on_game_start":{const _=X(s,"content");if(_===void 0)break t;{const l=_;if(l.$tag===6){const p=l._0,b=X(p,"ids");if(b===void 0)break t;{const d=Va(Nu(b)),y=new Array(d.length),S=d.length;let x=0;for(;;){const w=x;if(w<S){const j=d[w];y[w]=wt(j),x=w+1|0;continue}else break}D0(y);return}}else break t}}default:break t}else break t}}else break t;xn()}function U0(){return $0(Cn)}function V0(){return s0(Cn)}function W0(){return r0(Cn)}function X0(t){return c0(Cn,t)}function Y0(t){Bp(V,t)}function K0(){p0()}function Q0(){m0()}function Z0(){d0()}function tm(){b0()}function nm(){f0()}function em(){g0()}function om(){h0()}function $m(){k0()}function sm(t,n){cn(t,n)}function rm(t,n,o){cn(t,{_0:n,_1:o})}function cm(t,n){const o=O([{_0:"id",_1:z(t)},{_0:"direction",_1:new v(n)}]);tt(V,{type_msg:"change_direction",content:U(new q(o),!1,0)})}function im(t){Me(t)}function _m(t){F0(t)}export{cm as change_direction_str,_m as eventloop,W0 as global_gacha,V0 as global_get_copper_list,U0 as global_get_resource,Y0 as global_info_subscribe,X0 as global_upgrade_copper,sm as move_to,rm as move_to_xy,im as remove_unit,om as test_blocks,nm as test_camera_control,em as test_camera_reset,Z0 as test_clear_states,Q0 as test_display_states,tm as test_remove,$m as test_sequence,K0 as test_simple_move};
